rig_main_1_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes

	rig_benefit_of_sword = { #宝剑之利
		icon = mission_livonian_knights
		position = 2
		required_missions = { "rig_eve_of_war" }
		provinces_to_highlight = {
			owned_by = LIV
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			exists = LIV
			LIV = {
				is_subject_of = root
			}
		}
		effect = {
			if = {
				limit = { LIV = { NOT = { historical_friend_with = root } } }
				add_historical_friend = LIV
				LIV = { add_historical_friend = root }
			}
			add_stability_or_adm_power = yes
			custom_tooltip = rig_vassalize_livonia_ct
			set_country_flag = rig_can_end_confederacy_flag
		}
	}
	rig_livonian_confederacy = { #利沃尼亚联盟
		icon = mission_develop_visby
		position = 6
		required_missions = { "rig_benefit_of_sword" }
		provinces_to_highlight = {
			owned_by = LIV
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			owns_or_non_sovereign_subject_of = 36
			owns_or_non_sovereign_subject_of = 35
			owns_or_non_sovereign_subject_of = 39
			owns_or_non_sovereign_subject_of = 1834
			owns_or_non_sovereign_subject_of = 37
			owns_or_non_sovereign_subject_of = 4241
			if = {
				limit = {
					exists = LIV
				}
				LIV = { 
					is_subject_of = root
					NOT = { has_estate_privilege = estate_church_bishopric_of_dorpat }
					NOT = { has_estate_privilege = estate_church_bishopric_of_osel_wiek }
					NOT = { has_estate_privilege = estate_church_bishopric_of_courland }
					NOT = { has_estate_privilege = estate_church_bishopric_of_reval }
				}
			}
		}
		effect = {
			capital_scope = {
				add_base_tax = 5
				add_base_production = 3
				add_base_manpower = 3
			}
			add_country_modifier = {
				name = rig_integrated_the_livonian_confederacy
				duration = 9125
			}
		}
	}
}
rig_main_1_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_riga_in_the_hansa = { #汉萨与里加
		icon = mission_heart_of_the_hansa
		position = 2
		required_missions = { "rig_eve_of_war" }
		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 45
					NOT = { has_trader = root }
				}
				AND = {
					owned_by = HSA
					HSA = {
						NOT = {
							has_opinion = {
								who = root
								value = 150
							}
						}
					}
				}
			}
		}
		trigger = {
			if = {
				limit = {
					exists = HSA
				}
				reverse_has_opinion = {
					who = HSA
					value = 150
				}
			}
			45 = {
				has_trader = root
			}
		}
		effect = {
			add_dip_power = 50
			45 = {
				add_trade_modifier = {
					who = root
					duration = 18250
					power = 20
					key = rig_riga_in_the_hansa_tt
				}
			}
			1926 = {
				add_trade_modifier = {
					who = root
					duration = 18250
					power = 10
					key = rig_riga_in_the_hansa_tt
				}
			}
			if = {
				limit = { 
					exists = HSA
				}
				add_trust = {
					who = HSA
					value = 10
				}
				HSA = {
					add_trust = {
						who = HSA
						value = 10
					}
				}
			}
		}
	}
	rig_stabilze_country = { #稳定城市内部
		icon = mission_rb_hanseatic_east
		required_missions = { "rig_riga_in_the_hansa" }
		position = 4
		provinces_to_highlight = {
			province_id = 38
			OR = {
				NOT = { is_capital_of = root }
				NOT = { is_core = root }
			}
		}
		trigger = {
			stability = 1
			OR = {
				national_focus = ADM
				advisor = artist
			}
			38 = {
				is_capital_of = root
				is_core = root
			}
		}
		effect = {
			38 = {
				add_province_triggered_modifier = riga_stability_city_modifier
			}
			add_devotion = 10
		}
	}
}
rig_main_1_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_eve_of_war = { #战争前夜
		icon = mission_castle_construction
		position = 1
		provinces_to_highlight = {
			OR = {
				AND = {
					owned_by = LIV
					LIV = {
						reverse_has_opinion = {
							who = LIV
							value = 100
						}
					}
				}
				AND = {
					owned_by = TEU
					TEU = {
						reverse_has_opinion = {
							who = TEU
							value = 100
						}
					}
				}
			}
		}
		trigger = {
			38  ={
				owned_by = root
				is_core = root
			}
			if = {
				limit = { 
					OR = {
						exists = LIV
						exists = TEU
					}
				}
				dip_power_cost = 100
				OR = {
					AND = {
						exists = LIV
						OR = {
							reverse_has_opinion = {
								who = LIV
								value = 100
							}
							is_rival = LIV
							LIV = {
								is_rival = root
							}
						}
					}
					AND = {
						exists = TEU
						OR = {
							reverse_has_opinion = {
								who = TEU
								value = 100
							}
							is_rival = TEU
							TEU = {
								is_rival = root
							}
						}
					}
				}
			}
			else = {
				NOT = {
					OR = {
						exists = LIV
						exists = TEU
					}
				}
			}
		}
		effect = {
			country_event = {
				id = rigaExpand.0
			}
		}
	}
	rig_ally_the_emperor = { #联系皇帝
		icon = mission_alliances
		position = 2
		required_missions = { "rig_eve_of_war" }
		provinces_to_highlight = {
			owned_by = emperor
		}
		trigger = {
			if = {
				limit = {
					hre_size = 1
				}
				OR = {
					reverse_has_opinion = {
						who = emperor
						value = 75
					}
					is_rival = emperor
					emperor = {
						is_rival = root
					}
				}
			}
			else = {
				total_development = 100
			}
		}
		effect = {
			if = {
				limit = {
					hre_size = 1
					is_part_of_hre = no
					
				}
				if = {
					limit = {
						OR = {
							is_rival = emperor
							emperor = {
								is_rival = root
							}
						} 
						reverse_has_opinion = {
							who = emperor
							value = 75
						}
					}
					add_prestige = 10
				}
				else = {
					country_event = {
						id = flavor_rig.9
					}
				}
			}
			else = {
				add_adm_power = 75
				add_dip_power = 75
				add_mil_power = 75
			}
		}
	}
	rig_improve_papal_relations = { #教廷特使
		icon = influence_the_church
		position = 3
		required_missions = {"rig_ally_the_emperor"}
		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 38
					OR = {
						NOT = { is_capital_of = root }
						NOT = { has_tax_building_trigger = yes }
					}
				}
				AND = {
					owned_by = PAP
					NOT = {
						PAP = {
							has_opinion = {
								who = root
								value = 80
							}
						}
					}
				}
			}
		}
		trigger = {
			38 = {
				is_capital_of = root
				has_tax_building_trigger = yes
			}
			if = {
				limit = {
					religion = catholic
				}
				reverse_has_opinion = {
					who = PAP
					value = 80
				}
				papal_influence = 15
			}
			else = {
				religion_group = christian
				NOT = { religion = orthodox }
				stability = 1
			}
		}
		effect = {
			if = {
				limit = {
					religion = catholic
				}
				capital_scope = {
					add_cardinal = yes
				}
			}
			else = {
				add_adm_power = 100
			}
			if = {
				limit = {
					religion = catholic
				}
				country_event = {
					id = flavor_rig.10
				}
			}
			else = {
				country_event = {
					id = flavor_rig.11
				}
			}
			hidden_effect = {
				set_variable = {
					which = sold_indulgences
					value = 0
				}
				set_variable = {
					which = raided_churches
					value = 0
				}
			}
			custom_tooltip = rig_establish_religious_dominance_ct
			set_country_flag = war_against_heresy_flag
		}
	}
	rig_sell_indulgences = { #贩卖赎罪券
		icon = mission_sell_indulgences
		position = 4
		required_missions = { 
			"rig_improve_papal_relations"
		}
		provinces_to_highlight = {}
		trigger = {
			if = {
				limit = {
					religion = catholic
				}
				has_reform = merchant_theocracy_reform
				# custom_trigger_tooltip = {
				# 	tooltip = rig_sell_indulgences_at
				# 	check_variable = {
				# 		which = sold_indulgences
				# 		value = 5
				# 	}
				# }
			}
			else_if = {
				limit = {
					OR = {
						religion = hussite
						religion = protestant
						religion = reformed
						religion = anglican
					}
				}
				has_reform = reformer_state_reform
				# custom_trigger_tooltip = {
				# 	tooltip = rig_sell_indulgences_bt
				# 	check_variable = {
				# 		which = raided_churches
				# 		value = 5
				# 	}
				# }
			}
			else = {
				OR = {
					calc_true_if = {
						custom_trigger_tooltip = {
							tooltip = swe_catholic_defender_of_faith_ct
							all_known_country = {
								force_converted_by = root
								religion = root
							}
						}
						amount = 5
					}
					custom_trigger_tooltip = {
						tooltip = nor_spread_the_reformation_tt
						check_variable = { which = num_converted_religion value = 15 }
					}
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = rig_influential_religious_power
				duration = -1
			}
		}
	}
	rig_establish_bishop_authority = { #叛逆之城
		icon = the_great_school
		position = 5
		required_missions = { 
			"rig_sell_indulgences"
			"rig_stabilze_country"
			"rig_the_rigan_defense"
		}
		provinces_to_highlight = {
			province_id = 38
			OR = {
				NOT = { is_capital_of = root }
				NOT = { is_core = root }
				NOT = { development = 15 }
			}
		}
		trigger = {
			38 = {
				is_capital_of = root
				is_core = root
				development = 15
			}
			# if = {
			# 	limit = {
			# 		has_estate = estate_burghers
			# 	}
			# 	NOT = {
			# 		estate_influence = {
			# 			estate = estate_burghers
			# 			influence = 50
			# 		}
			# 	}
			# }
			# else = {
			# 	NOT = { has_estate = estate_burghers }
			# }
			crown_land_share = 30
			stability = 1
		}
		effect = {
			38 = {
				add_building = cathedral
				add_province_triggered_modifier = seat_of_the_rigan_archbishopric
			}
			add_devotion = 20
			set_country_flag = rig_has_completed_authority_mission
			add_prestige_or_monarch_power = {
				amount = 100
			}
		}
	}
	rig_baltic_union = { #波罗的联合
		icon = mission_united_knight_order
		position = 7
		required_missions = { 
			"rig_livonian_confederacy"
			"rig_establish_bishop_authority"
			"rig_furor_treatment_danzig"
		}
		provinces_to_highlight = {
			OR = {
				owned_by = TEU
				owned_by = LIV
			}
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			if = {
				limit = { exists = LIV }
				LIV = {
					is_subject_of = root
					NOT = { liberty_desire = 10 }
				}
			}
			if = {
				limit = { exists = TEU }
				TEU = {
					is_subject_of = root
					NOT = { liberty_desire = 10 }
				}
			}
		}
		effect = {
			hidden_effect = {
				set_country_flag = compelte_rig_baltic_union_flag
			}
			swap_non_generic_missions = yes
			add_country_modifier = {
				name = rig_the_rigan_orders
				duration = -1
			}
			if = {
				limit = { exists = LIV }
				if = {
					limit = {
						LIV = { is_subject_of = root }
					}
					# add_country_modifier = {
					# 	name = rig_livonian_overlord
					# 	duration = -1
					# }
					create_subject = {
						subject_type = rig_knightage_vissal
						subject = LIV
					}
					LIV = {
						change_country_color = {
							country = root
						}
						change_government = rig_theocracy
						if = {
							limit = { 
								RIG = {
									mission_completed = rig_second_allegiance_act
								}
							}
							add_government_reform = rig_knights_of_apologetics_reform
						}
						else = {
							add_government_reform = rig_knightage_order_reform
						}
						add_country_modifier = {
							name = rig_order_of_riga
							duration = -1
						}
					}
					#custom_tooltip = rig_rule_over_the_knights_et
				}
				#else = { custom_tooltip = rig_rule_over_the_knights_at }
			}
			else_if = {
				limit = {
					baltic_region = {
						riga_subject_of_subject_owned_land = { who = root }
						type = all
					}
				}
				add_dip_power = 100
			}
			#else = { custom_tooltip = rig_rule_over_the_knights_bt }
			if = {
				limit = { exists = TEU }
				if = {
					limit = {
						TEU = { is_subject_of = root }
					}
					# add_country_modifier = {
					# 	name = rig_teutonic_overlord
					# 	duration = -1
					# }
					create_subject = {
						subject_type = rig_knightage_vissal
						subject = TEU
					}
					TEU = {
						change_country_color = {
							country = root
						}
						change_government = rig_theocracy
						if = {
							limit = { 
								RIG = {
									mission_completed = rig_second_allegiance_act
								}
							}
							add_government_reform = rig_knights_of_apologetics_reform
						}
						else = {
							add_government_reform = rig_knightage_order_reform
						}
						add_country_modifier = {
							name = rig_order_of_riga
							duration = -1
						}
					}
					#custom_tooltip = rig_rule_over_the_knights_ft
				}
				#else = { custom_tooltip = rig_rule_over_the_knights_ct }
			}
			else_if = {
				limit = {
					baltic_region = {
						riga_subject_of_subject_owned_land = { who = root }
						type = all
					}
				}
				add_mil_power = 100
			}
			#else = { custom_tooltip = rig_rule_over_the_knights_dt }
		}
	}
}
rig_main_1_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_dominate_the_baltic_trade = { #波罗的海贸易
		icon = mission_seize_north_sea_trade
		position = 2
		required_missions = { "rig_eve_of_war" }
		provinces_to_highlight = {
			province_id = 1926
		}
		trigger = {
			1926 = {
				OR = {
					is_strongest_trade_power = root
					trade_share = {
						country = root
						share = 10
					}
				}
			}
			religion_group = christian
			NOT = { religion = orthodox }
		}
		effect = {
			add_years_of_income = 3
		}
	}
	rig_the_rigan_defense = { #巩固城防
		icon = mission_castle_construction
		position = 4
		required_missions = { "rig_dominate_the_baltic_trade" }
		provinces_to_highlight = {
			province_id = 38
			OR = {
				NOT = { province_has_current_tech_fort_trigger = yes }
				NOT = { owned_by = root }
			}
		}
		trigger = {
			army_size_percentage = 1
			num_of_generals = 1
			38 = {
				province_has_current_tech_fort_trigger = yes
				owned_by = root
			}
		}
		effect = {
			add_country_modifier = {
				name = rig_tower_defenders
				duration = 9125
			}
			add_manpower = 6
			38 = {
				add_province_triggered_modifier = riga_reinforce_the_wall_modifier
			}
			add_devotion = 10
		}
	}
}
rig_main_1_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_furor_teutonicus = { #条顿之怒
		icon = mission_knight
		position = 2
		required_missions = { "rig_eve_of_war" }
		provinces_to_highlight = {
			owned_by = TEU
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			exists = TEU
			TEU = {
				is_subject_of = root
			}
		}
		effect = {
			custom_tooltip = rig_pru_confederation_curtailed
			add_army_tradition = 25
			add_mil_power = 75
		}
	}
	rig_furor_treatment_danzig = {#普鲁士联盟
		icon = mission_diplomatic_relation
		position = 6
		required_missions = { "rig_furor_teutonicus" }
		provinces_to_highlight = {
			OR = {
				owned_by = TEU
				province_id = 43
			}
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			custom_trigger_tooltip = {
				tooltip = teu_allready_pru_confederation_curtailed
				43 = {
					OR = {
						owned_by = TEU
						AND = {
							exists = DNZ
							owned_by = DNZ
							DNZ = {
								is_subject_of = root
							}
						}
					}
				}
				TEU = {
					is_subject_of = root
					has_country_flag = pru_confederation_curtailed
				}
			}
		}
		effect = {
			capital_scope = {
				add_base_tax = 3
				add_base_production = 3
				add_base_manpower = 5
			}
		}
	}
}
rig_main_2_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = compelte_rig_baltic_union_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_under_the_sword = { #刀剑之下
		icon = mission_the_livonians
		position = 8
		required_missions = { "rig_baltic_union" }
		provinces_to_highlight = {
			OR = {
				area = samogitia_area
				area = lithuania_area
			}
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			OR = {
				AND = {
					samogitia_area = {
						riga_subject_of_subject_owned_land = { who = root }
					}
					lithuania_area = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				if = {
					limit = { 
						exists = LIT
						272 = {
							owned_by = LIT
						}
					}
					has_spy_network_in = {
						who = LIT
						value = 25
					}
				}
				else_if = {
					limit = { 
						exists = LIT
						272 = {
							NOT = {
								owned_by = LIT
							}
						}
					}
					272 = {
						owner = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
					}
				}
				else_if = {
					limit = { 
						exists = LIT
						is_subject_other_than_tributary_trigger = yes
						LIT = {
							NOT = {
								is_subject_of = root
							}
						}
					}
					LIT = {
						overlord = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
					}
				}
				else_if = {
					limit = { 
						exists = LIT
						is_subject_of = root
					}
					always = yes
				}
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.4
			}
		}
	}

}
rig_main_2_c_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = compelte_rig_under_the_sword_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_riga_conference = { #里加会议
		icon = catholic_volunteers
		required_missions = { "rig_under_the_sword" }
		position = 9
		provinces_to_highlight = {
			region = baltic_region
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			baltic_region = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			if = {
				limit = { 
					exists = LIT
				}
				LIT = {
					is_subject_of = root
				}
			}
		}
		effect = {
			rig_remove_subject_modifier_effect = {
				modifier = rig_joint_operation_subject
			}
			remove_country_modifier = rig_joint_operation_subject
			if = {
				limit = { 
					has_country_modifier = rig_restructure_internal_affairs
				}
				remove_country_modifier = rig_restructure_internal_affairs
			}
			rig_remove_subject_modifier_effect = {
				modifier = rig_restructure_internal_affairs
			}
			add_prestige_or_monarch_power = {
				amount = 100
			}
			add_devotion = 20
			hidden_effect = {
				country_event = {
					id = RigaExpandSupplement.0
				}
				country_event = {
					id = RigaExpandSupplement.17
					days = 3650
					random = 365
				}
			}
		}
	}
}
rig_main_3_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_self_regard
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_city_of_faith = { #信仰之城
		icon = conquer_tuscany
		required_missions = { "rig_riga_conference" }
		position = 10
		provinces_to_highlight = {
			province_id = 38
		}
		trigger = {
			38 = {
				OR = {
					is_capital_of = root
					is_core = root
				}
				has_great_project = {
					type = riga_Saint_Mary_Basilica
					tier = 1
				}
			}
			papal_influence = 50
			adm_power = 100
			dip_power = 100
			mil_power = 100
			OR = {
				manpower = 10
				treasury = 2500
			}
		}
		effect = {
			add_papal_influence = -50
			add_adm_power = -100
			add_dip_power = -100
			add_mil_power = -100
			if = {
				limit = { 
					treasury = 2500
				}
				add_treasury = -2500
			}
			else = {
				add_manpower = -10
			}
			38 = {
				add_great_project_tier = {
					type = riga_Saint_Mary_Basilica
					tier = 1
				}
			}
		}
	}
	rig_unruly_city = { #不羁之城
		icon = mission_hanseatic_city
		icon = mission_eastern_european_city
		required_missions = { "rig_city_of_faith" }
		provinces_to_highlight = {
			province_id = 38
		}
		position = 12
		trigger = {
			papal_influence = 75
			38 = {
				development = 50
				OR = {
					is_capital_of = root
					is_core = root
				}
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
				}
			}
		}
		effect = {
			38 = {
				add_province_triggered_modifier = riga_barrier_modifier
				upgrade_building = {
					fort = yes
				}
			}
		}
	}
	rig_road_to_riga = { #条条道路通里加
		icon = mission_pol_revival_krakow 
		required_missions = { "rig_unruly_city" }
		position = 14
		provinces_to_highlight = {
			province_id = 38
		}
		trigger = {
			38 = {
				is_capital_of = root
				development = 150
			}
			OR = {
				AND = {
					is_trade_league_leader = yes
					calc_true_if = {
						any_known_country = {
							is_in_trade_league_with = root
						}
						amount = 4
					}
				}
				calc_true_if = {
					all_country = {
						is_subject_of = root
					}
					amount = 8
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = rig_the_rigan_trade_league_modifier
				duration = -1
			}
			add_papal_influence = 25
		}
	}
	rig_heart_of_baltic = { #波罗的之心
		icon = mission_conquer_riga
		required_missions = { 
			"rig_road_to_riga" 
			"rig_sealand_agreement"
			"rig_neva_agreement"
		}
		provinces_to_highlight = {
			province_id = 38
			OR = {
				NOT = { is_capital_of = root }
				NOT = { is_core = root }
				NOT = { province_has_current_tech_fort_trigger = yes }
				NOT = { has_tax_building_trigger = yes }
				NOT = { has_trade_building_trigger = yes }
				NOT = { has_production_building_trigger = yes }
				NOT = { has_manpower_building_trigger = yes }
			}
		}
		position = 16
		trigger = {
			papal_influence = 20
			38 = {
				development = 200
				is_capital_of = root
				is_core = root
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
			stability = 3
		}
		effect = {
			custom_tooltip = rig_heart_of_baltic.tt
			38 = {
				add_base_tax = 5
				add_base_production = 5
				add_base_manpower = 5
				add_province_triggered_modifier = cathedral_of_riga_modifier
				add_province_triggered_modifier = market_of_riga_modifier
				add_province_triggered_modifier = fortification_of_riga_modifier
				add_province_triggered_modifier = the_heart_of_baltic_modifier
			}
			hidden_effect = {
				set_country_flag = tall_riga_mission_flag
				country_event = {
					id = rigaExpand.60
					days = 15
				}
			}
		}
	}
}
rig_main_2_mission_1_expand = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		has_country_flag = compele_rig_riga_conference
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_expand_libran = {
		icon = mission_livonian_castle
		position = 7
		provinces_to_highlight = {
			province_id = 37
		}
		trigger = {
			37 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			37 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_vilnius	= {
		icon = mission_lit_harness_steppes
		position = 9
		provinces_to_highlight = {
			province_id = 272
		}
		trigger = {
			272 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			country_event = {
				id = RigaExpandFlavour.3
			}
		}
	}
	#37 利夫兰
	#1841 玛丽安堡
	#41 柯尼斯堡
	#272 维尔纽斯
	#43 但泽
}
rig_main_2_mission_5_expand = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = compele_rig_riga_conference
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_expand_marianburg = {
		icon = mission_marienburg
		position = 7
		provinces_to_highlight = {
			province_id = 1841
		}
		trigger = {
			1841 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			country_event = {
				id = RigaExpandFlavour.1
			}
		}
	}
	rig_expand_koenigsberg	= {
		icon = develop_konigsberg
		position = 9
		provinces_to_highlight = {
			province_id = 41
		}
		trigger = {
			41 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			country_event = {
				id = RigaExpandFlavour.0
			}
		}
	}
}
rig_main_2_a_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_north
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_scandinavian_strategy = { #斯堪的纳维亚战略
		icon = mission_conquer_sweden
		position = 10
		required_missions = { "rig_riga_conference" }
		provinces_to_highlight = {
			OR = {
				owned_by = SWE
				province_id = 1
				province_id = 4163
			}
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			if = {
				limit = { 
					exists = SWE
					SWE = {
						is_subject = no
					}
				}
				OR = {
					is_rival = SWE
					SWE = {
						is_rival = root
					}
					SWE = {
						OR = {
							has_opinion_modifier = {
								who = root
								modifier = insulted
							}
							has_opinion_modifier = {
								who = root
								modifier = scornfully_insulted
							}
						}
					}
				}
			}
			else_if = {
				limit = { 
					exists = SWE
					SWE = {
						is_subject_of = root
					}
				}
				always = yes
			}
			else_if = {
				limit = { 
					exists = SWE
					SWE = {
						is_subject_other_than_tributary_trigger = yes
						NOT = { 
							is_subject_of = root
						}
					}
				}
				SWE = {
					overlord = {
						OR = {
							is_rival = root
							has_opinion_modifier = {
								who = root
								modifier = insulted
							}
							has_opinion_modifier = {
								who = root
								modifier = scornfully_insulted
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = {
						exists = SWE
					}
					1 = {
						NOT = { riga_subject_of_subject_owned_land = { who = root } }
					}
				}
				1 = {
					owner = {
						OR = {
							is_rival = root
							has_opinion_modifier = {
								who = root
								modifier = insulted
							}
							has_opinion_modifier = {
								who = root
								modifier = scornfully_insulted
							}
						}
					}
				}
			}
		}
		effect = {
			25 = {
				add_permanent_claim = root
			}
			rig_add_subject_modifier_effect = {
				modifier = rig_scandinavian_strategy_modifier
				days = 3650
			}
			add_country_modifier = {
				name = rig_commercial_espionage_modifier
				duration = 3650
			}
		}
	}
	rig_gotland_bridgehead = { #哥得兰桥头堡
		icon = mission_develop_visby
		position = 15
		required_missions = { "rig_scandinavian_strategy" }
		provinces_to_highlight = {
			province_id = 25
		}
		trigger = {
			OR = {
				AND = {
					exists = GOT
					GOT = {
						is_subject = no
						has_opinion = {
							who = root
							value = 150
						}
					}
				}
				25 = {
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			skaneland_area = {
				add_permanent_claim = root
			}
			if = {
				limit = { 
					exists = GOT
					GOT = {
						is_subject = no
					}
				}
				country_event = {
					id = rigaExpand.12
				}
			}
			else_if = {
				limit = { 
					25 = {
						owned_by = KNI
					}
				}
				add_prestige_or_monarch_power = {
					amount = 20
				}
			}
			else = {
				25 = {
					cede_province = GOT
				}
				riga_set_up_rig_trade_city_effect = {
					subject = GOT
					reform = yes
				}
			}
		}
	}
	rig_divede_norway = { #离间挪威
		icon = mission_conquer_norway
		position = 16
		required_missions = { "rig_gotland_bridgehead" }
		provinces_to_highlight = {
			owned_by = NOR
		}
		trigger = {
			if = {
				limit = { 
					exists = NOR
					NOR = {
						is_subject_of = SWE
					}
				}
				has_spy_network_in = {
					who = SWE
					value = 25
				}
			}
			else = {
				always = yes
			}
		}
		effect = {
			custom_tooltip = rig_divede_norway.tt
			add_spy_network_in = {
				who = SWE
				value = -25
			}
			if = {
				limit = { 
					exists = NOR
					NOR = {
						is_subject_of = SWE
					}
				}
				NOR = {
					add_liberty_desire = 50
				}
			}
		}
	}
	rig_waiting_in_wings = { #伺机待发
		icon = mission_alliances
		position = 17
		required_missions = { 
			"rig_divede_norway"
			"rig_skona_agreement"
		}
		trigger = {
			if = {
				limit = { 
					exists = SWE
					exists = SKN
					SKN = {
						is_subject_of = SWE
					}
				}
				has_spy_network_in = {
					who = SWE
					value = 25
				}
			}
			else = {
				1926 = {
					is_strongest_trade_power = root
				}
			}
		}
		effect = {
			custom_tooltip = rig_waiting_in_wings.tt
			hidden_effect = {
				SKN = {
					country_event = {
						id = rigaExpand.19
						days = 15
						random = 15
					}
				}
			}
		}
	}
}
rig_main_2_e_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_south
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_administrative_integration = {#行政整合
		icon = mission_king_of_eastern_europe
		position = 18
		required_missions = { "rig_plus_loin" }
		provinces_to_highlight = {
			OR = {
				region = poland_region
				region = ruthenia_region
			}
			riga_subject_of_subject_owned_land = { who = root }
			OR = {
				NOT = {
					is_core = owner
				}
				devastation = 1
			}
		}
		trigger = {
			KRA = {
				is_subject_of = root
				NOT = {
					liberty_desire = 10
				}
			}
			KIE = {
				is_subject_of = root
				NOT = {
					liberty_desire = 10
				}
			}
			poland_region = {
				OR = {
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						is_core = owner
						NOT = {
							devastation = 1
						}
					}
				}
			}
			ruthenia_region = {
				OR = {
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						is_core = owner
						NOT = {
							devastation = 1
						}
					}
				}
			}
		}
		effect = {
			riga_set_up_special_vassal_effect = {
				type = rig_episcopal_military_district
				subject = KRA
				reform = yes
			}
			riga_set_up_special_vassal_effect = {
				type = rig_episcopal_administrative_district
				subject = KIE
				reform = yes
			}
		}
	}
	rig_shield_of_south = { #南方之盾
		icon = shield_of_christendom
		position = 19
		required_missions = { "rig_administrative_integration" }
		provinces_to_highlight = {
			region = poland_region
			NOT = {
				OR = {
					area = silesia_area
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		trigger = {
			KRA = {
				is_subject_of = root
			}
			poland_region = {
				NOT = {
					area = silesia_area
				}
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		effect = {
			KRA = {
				change_tag = POL
			}
			riga_set_up_special_vassal_effect = {
				type = rig_episcopal_military_district
				subject = POL
				reform = yes
			}
			if = {
				limit = { 
					exists = POL
				}
				POL = {
					set_government_rank = 2
					swap_federation_idea_group = yes
				}
			}
			add_prestige_or_monarch_power = {
				amount = 20
			}
			if = {
				limit = { 
					ruthenia_region = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				country_event = {
					id = RigaExpandSupplement.5
				}
			}
			else = {
				country_event = {
					id = rigaExpand.11
				}
			}
			
		}
	}
}
rig_main_2_e_mission_1_expand = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_shield_of_south_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_much_will_have_more = { #得寸进尺
		icon = mission_crusade_for_varna
		position = 20
		required_missions = { "rig_shield_of_south" }
		provinces_to_highlight = {
			OR = {
				area = wallachia_area
				area = moldavia_area
				area = transylvania_area
				area = southern_transylvania_area
			}
		}
		trigger = {
			wallachia_area = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			moldavia_area = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			158 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			OR = {
				AND = {
					exists = WAL
					WAL = {
						is_subject_of = root
					}
				}
				NOT = {
					exists = WAL
				}
			}
			OR = {
				AND = {
					exists = MOL
					MOL = {
						is_subject_of = root
					}
				}
				NOT = {
					exists = MOL
				}
			}
			OR = {
				AND = {
					exists = TRA
					TRA = {
						is_subject_of = root
					}
				}
				NOT = {
					exists = TRA
				}
			}
		}
		effect = {
			if = {
				limit = { 
					exists = WAL
				}
				WAL = {
					change_tag = RMN
				}
			}
			else_if = {
				limit = { 
					exists = MOL
				}
				MOL = {
					change_tag = RMN
				}
			}
			else_if = {
				limit = { 
					exists = TRA
				}
				TRA = {
					change_tag = RMN
				}
			}
			else = {
				4532 = {
					owner = {
						release = WAL
					}
				}
				WAL = {
					change_tag = RMN
				}
			}
			RMN = {
				if = {
					limit = { 
						exists = MOL
					}
					inherit = MOL
				}
				if = {
					limit = { 
						exists = WAL
					}
					inherit = WAL
				}
				if = {
					limit = { 
						exists = TRA
					}
					inherit = TRA
				}
				swap_federation_idea_group = yes
			}
			wallachia_area = {
				cede_province = RMN
				add_core = RMN
			}
			moldavia_area = {
				cede_province = RMN
				add_core = RMN
			}
			transylvania_area = {
				cede_province = RMN
				add_core = RMN
			}
			southern_transylvania_area = {
				cede_province = RMN
				add_core = RMN
			}
			riga_set_up_special_vassal_effect = {
				type = rig_episcopal_military_district
				subject = RMN
				reform = yes
			}
			country_event = {
				id = rigaExpand.11
			}
		}
	}
}
rig_main_2_b_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_east_and_west
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_hansa_league = { #汉萨同盟
		icon = unite_the_league
		position = 10
		provinces_to_highlight = {
			province_id = 45
		}
		required_missions = { "rig_riga_conference" }
		trigger = {
			if = {
				limit = { 
					exists = HSA
					HSA = {
						is_trade_league_leader = yes
					}
				}
				HSA = {
					OR = {
						has_opinion_modifier = {
							who = root
							modifier = insulted
						}
						has_opinion_modifier = {
							who = root
							modifier = scornfully_insulted
						}
					}
				}
			}
			else_if = {
				limit = { 
					exists = HSA
					OR = {
						is_trade_league_leader = yes
						is_in_trade_league = no
					}
				}
				OR = {
					trade_embargoing = HSA
					trade_embargo_by = HSA
				}
			}
			else_if = {
				limit = { 
					45 = {
						NOT = { riga_subject_of_subject_owned_land = { who = root } }
					}
				}
				45 = {
					owner = {
						OR = {
							has_opinion_modifier = {
								who = root
								modifier = insulted
							}
							has_opinion_modifier = {
								who = root
								modifier = scornfully_insulted
							}
							trade_embargoing = root
						}
					}
				}
			}
			else = {
				45 = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				
			}
		}
		effect = {
			custom_tooltip = rig_hansa_league.tt
			45 = {
				add_permanent_claim = root
			}
			if = {
				limit = { 
					exists = HSA
					HSA = {
						is_subject = no
					}
				}
				country_event = {
					id = rigaExpand.30
				}
			}
		}
	}
	rig_sharpen_the_sword = { #磨砺刀剑
		icon = mission_teutonic_knights
		position = 11
		required_missions = { "rig_rus_departments" }
		provinces_to_highlight = {
			if = {
				limit = { 
					OR = {
						AND = {
							exists = PSK
							PSK = {
								NOT = {
									is_subject_of = root
								}
							}
						}
						pskov_area = {
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				owned_by = PSK
			}
			else = {
				owned_by = RIG
			}
		}
		trigger = {
			if = {
				limit = { 
					OR = {
						AND = {
							exists = PSK
							PSK = {
								is_subject_of = root
							}
						}
						pskov_area = {
							type = all
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				adm_power = 100
			}
			else = {
				papal_influence = 50
				manpower = 10
				treasury = 500
				adm_power = 50
				dip_power = 50
				mil_power = 200
			}
		}
		effect = {
			if = {
				limit = { 
					OR = {
						AND = {
							exists = PSK
							PSK = {
								is_subject_of = root
							}
						}
						pskov_area = {
							type = all
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				country_event = {
					id = rigaExpand.39
				}
			}
			else = {
				country_event = {
					id = rigaExpand.38
				}
				add_papal_influence = -50
				add_manpower = -10
				add_treasury = -500
				add_adm_power = -50
				add_dip_power = -50
				add_mil_power = -200
			}
			add_country_modifier = {
				name = rig_hide_an_weapon
				duration = 365
			}
		}
	}
	rig_enemy_of_enemy = { #敌人的敌人
		icon = mission_end_the_sound_toll
		position = 12
		provinces_to_highlight = {
			owner = {
				NOT = {
					num_of_cities = 2
				}
				capital_scope = {
					OR = {
						area = denmark_area
						area = jutland_area
					}
				}
				NOT = {
					OR = {
						has_opinion = {
							who = root
							value = 150
						}
						has_spy_network_from = {
							who = root
							value = 25
						}
						AND = {
							is_in_trade_league_with = RIG
							RIG = {
								is_trade_league_leader = yes
							}
						}
						is_subject_of = RIG
					}
				}
			}
		}
		required_missions = { "rig_permeate_hansa_league" }
		trigger = {
			custom_trigger_tooltip = {
				tooltip = rig_enemy_of_enemy_tt
				all_known_country = {
					OR = {
						AND = {
							capital_scope = {
								OR = {
									area = denmark_area
									area = jutland_area
								}
							}
							NOT = {
								num_of_cities = 2
							}
							OR = {
								has_opinion = {
									who = root
									value = 150
								}
								has_spy_network_from = {
									who = root
									value = 25
								}
								AND = {
									is_in_trade_league_with = RIG
									RIG = {
										is_trade_league_leader = yes
									}
								}
								AND = {
									is_subject = yes
									is_subject_of = root
								}
								is_subject = no
							}
						}
						AND = {
							num_of_cities = 2
							capital_scope = {
								OR = {
									area = denmark_area
									area = jutland_area
								}
							}
						}
						capital_scope = {
							NOT = {
								OR = {
									area = denmark_area
									area = jutland_area
								}
							}
						}
					}
				}
			}
		}
		effect = {
			custom_tooltip = rig_enemy_of_enemy_effect
			every_known_country = {
				limit = {
					NOT = {
						num_of_cities = 2
					}
					capital_scope = {
						OR = {
							area = denmark_area
							area = jutland_area
						}
					}
					is_subject = no
					NOT = {
						AND = {
							root = {
								is_trade_league_leader = yes
							}
							is_in_trade_league_with = root
						}
					}
				}
				country_event = {
					id = rigaExpand.32
					days = 1
					random = 29
				}
			}
		}
	}
	rig_whip_the_horse = { #策马扬鞭
		icon = mission_conquer_5_states
		position = 13
		required_missions = { "rig_ready_for_battle" }
		provinces_to_highlight = {
			if = {
				limit = { 
					exists = NOV
					NOV = {
						NOT = {
							is_subject_of = root
						}
					}
				}
				owned_by = NOV
			}
			else = {
				owner = {
					any_owned_province = {
						province_id = 310
					}
				}
			}
			if = {
				limit = { 
					exists = PSK
					PSK = {
						NOT = {
							is_subject_of = root
						}
					}
				}
				owned_by = PSK
			}
			else = {
				NOT = {
					pskov_area = {
						type = all
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
			}
		}
		trigger = {
			if = {
				limit = { 
					NOT = {
						has_country_modifier = rig_an_unexpected_war
					}
				}
				if = {
					limit = { 
						NOT = {
							mission_completed = rig_ready_for_battle
						}
					}
					custom_trigger_tooltip = {
						tooltip = rig_ready_for_battle_tt_1
						always = no
					}
				}
				else_if = {
					limit = { 
						mission_completed = rig_ready_for_battle
						has_country_modifier = rig_hide_an_weapon
					}
					custom_trigger_tooltip = {
						tooltip = rig_ready_for_battle_tt_2
						always = no
					}
				}
				else = {
					NOT = {
						has_country_modifier = rig_hide_an_weapon
					}
				}
			}
			else = {
				if = {
					limit = { 
						has_country_modifier = rig_hide_an_weapon
					}
					mil_power = 250
				}
				else = {
					OR = {
						NOT = {
							exists = PSK
						}
						PSK = {
							is_subject_of = root
						}
						pskov_area = {
							type = all
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
			}
		}
		effect = {
			if = {
				limit = { 
					has_country_flag = rig_psk_have_rise_up
				}
				add_mil_power = -100
				if = {
					limit = { 
						has_country_modifier = rig_an_unexpected_war
					}
					custom_tooltip = rig_whip_the_horse.tt.1
					hidden_effect = {
						every_subject_country = {
							limit = {
								has_country_modifier = rig_an_unexpected_war
							}
							remove_country_modifier = rig_an_unexpected_war
						}
						remove_country_modifier = rig_an_unexpected_war
					}
				}
				if = {
					limit = { 
						war_with = PSK
					}
					every_subject_country = {
						add_yearly_manpower = 5
					}
					add_yearly_manpower = 5
					if = {
						limit = { 
							274 = {
								NOT = {
									controlled_by = root
								}
								owner = {
									war_with = root
								}
							}
						}
						country_event = {
							id = rigaExpand.46
						}
					}
				}
			}
			else = {
				if = {
					limit = { 
						exists = PSK
						PSK = {
							NOT = {
								is_subject_of = root
							}
						}
					}
					declare_war_with_cb = {
						casus_belli = cb_vassalize_mission
						who = PSK
					}
				}
				else_if = {
					limit = {
						274 = {
							NOT = {
								riga_subject_of_subject_owned_land = { who = root }
							}
						}
						# pskov_area = {
						# 	riga_subject_of_subject_owned_land = { who = root }
						# }
					}
					274 = {
						owner = {
							root = {
								declare_war_with_cb = {
									casus_belli = cb_vassalize_mission
									who = prev
								}
							}
						}
					}
				}
				else = {
					add_prestige_or_monarch_power = {
						amount = 10
					}
				}
				if = {
					limit = { 
						274 = {
							owner = {
								war_with = root
								NOT = {
									is_subject_of = root
								}
							}
						}
					}
					country_event = {
						id = rigaExpand.46
						days = 3
					}
				}
			}
		}
	}
	rig_disaster_of_lubeck = { #吕贝克之灾
		icon = mission_bane_of_the_hansa
		position = 14
		required_missions = { "rig_advantages_and_disadvantages" }
		provinces_to_highlight = {
			OR = {
				owned_by = emperor
				province_id = 45
			}
		}
		trigger = {
			if = {
				limit = { 
					NOT = {
						OR = {
							has_country_flag = end_incident_north_german_trade_war
							has_country_flag = incident_north_german_trade_war_begin
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = incident_north_german_trade_war_begin_tt
					has_country_flag = incident_north_german_trade_war_begin
				}
			}
			else_if = {
				limit = {
					has_country_flag = incident_north_german_trade_war_begin
					NOT = {
						OR = {
							has_country_flag = rigaExpandIncident_0_aa
							has_country_flag = rigaExpandIncident_0_bb
							has_country_flag = rigaExpandIncident_0_cc
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = rigaExpandIncident_option_tt
					OR = {
						has_country_flag = rigaExpandIncident_0_aa
						has_country_flag = rigaExpandIncident_0_bb
						has_country_flag = rigaExpandIncident_0_cc
					}
				}
			}
			else_if = {
				limit = { 
					has_country_flag = incident_north_german_trade_war_begin
					has_country_flag = rigaExpandIncident_0_aa
				}
				if = {
					limit = { 
						has_country_flag = rig_submit_to_the_emperor
					}
					is_trade_league_leader = yes
				}
				else = {
					if = {
						limit = { 
							hre_size = 1
						}
						war_score_against = {
							who = emperor
							value = 40
						}
					}
					else = {
						is_at_war = no
					}
				}
			}
			else_if = {
				limit = { 
					has_country_flag = incident_north_german_trade_war_begin
					has_country_flag = rigaExpandIncident_0_bb
				}
				45 = {
					is_strongest_trade_power = root
					trade_share = {
						country = root
						share = 30
					}
				}
				is_trade_league_leader = yes
			}
			else = {
				45 = {
					is_strongest_trade_power = root
					trade_share = {
						country = root
						share = 50
					}
				}
				is_trade_league_leader = yes
			}
		}
		effect = {
			if = {
				limit = { 
					has_country_modifier = rig_hansa_league_goods_output_modifier
				}
				remove_country_modifier = rig_hansa_league_goods_output_modifier
				rig_remove_subject_modifier_effect = {
					modifier = rig_hansa_league_goods_output_modifier
				}
			}
			if = {
				limit = { 
					has_country_flag = rigaExpandIncident_0_aa
					NOT = {
						has_country_flag = rig_submit_to_the_emperor
					}
				}
				if = {
					limit = { 
						hre_size = 1
					}
					white_peace = emperor
				}
				country_event = {
					id = rigaExpand.35
				}
			}
			else_if = {
				limit = {
					has_country_flag = rigaExpandIncident_0_aa
					has_country_flag = rig_submit_to_the_emperor
				}
				add_dip_power = 100
			}
			else_if = {
				limit = { 
					OR = {
						has_country_flag = rigaExpandIncident_0_bb
						has_country_flag = rigaExpandIncident_0_cc
					}
				}
				HSA = {
					country_event = {
						id = flavor_rig.12
					}
				}
				add_country_modifier = {
					name = rig_founder_of_a_new_trade_league
					duration = 9125
				}
			}
			else = {
				add_mercantilism = 5
				hidden_effect = {
					every_known_country = {
						limit = {
							OR = {
								has_country_modifier = rig_riga_hansa_trade_conflict_normal
								has_country_modifier = rig_riga_hansa_trade_conflict_aggravate
								has_country_modifier = rig_riga_hansa_trade_conflict_seriousness
								has_country_modifier = rig_riga_hansa_trade_conflict_extremely_seriousness
								has_country_modifier = rig_riga_hansa_trade_conflict_out_of_control
							}
						}
						remove_country_modifier = rig_riga_hansa_trade_conflict_normal
						remove_country_modifier = rig_riga_hansa_trade_conflict_aggravate
						remove_country_modifier = rig_riga_hansa_trade_conflict_seriousness
						remove_country_modifier = rig_riga_hansa_trade_conflict_extremely_seriousness
						remove_country_modifier = rig_riga_hansa_trade_conflict_out_of_control
					}
				}
			}
		}
	}
	rig_neva_agreement = { #涅瓦协定
		icon = mission_develop_nevas_port
		position = 15
		required_missions = { "rig_in_the_name_of_god" }
		trigger = {
			if = {
				limit = { 
					has_country_flag = rig_psk_have_rise_up
					310 = {
						owner = {
							war_with = root
						}
					}
					war_with = PSK
				}
				310 = {
					controlled_by = root
				}
				war_score_against = {
					who = PSK
					value = 80
				}
			}
			else_if = {
				limit = { 
					has_country_flag = rig_psk_have_rise_up
					310 = {
						owner = {
							NOT = {
								war_with = root
							}
						}
					}
					war_with = PSK
				}
				war_score_against = {
					who = PSK
					value = 80
				}
			}
			else = {
				OR = {
					310 = {
						owner = {
							if = {
								limit = { 
									is_subject = no
								}
								root = {
									war_score_against = {
										who = prev
										value = 90
									}
								}
							}
							else = {
								overlord = {
									root = {
										war_score_against = {
											who = prev
											value = 90
										}
									}
								}
							}
						}
					}
					AND = {
						novgorod_area = {
							type = all
							riga_subject_of_subject_owned_land = { who = root }
						}
						karelia_area = {
							type = all
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
			}
		}
		effect = {
			# country_event = {
			# 	id = rigaExpand.47
			# }
			if = {
				limit = { 
					has_country_flag = rig_psk_have_rise_up
					war_with = NOV
					war_with = PSK
				}
				white_peace = PSK
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_administrative_district
					subject = NOV
					reform = yes
				}
				create_subject = {
					subject_type = vassal
					subject = PSK
				}
			}
			else_if = {
				limit = { 
					has_country_flag = rig_psk_have_rise_up
					war_with = PSK
				}
				if = {
					limit = { 
						NOT = {
							exists = NOV
						}
						310 = {
							owner = {
								war_with = root
							}
						}
					}
					310 = {
						owner = {
							white_peace = root
							release = NOV
							every_province = {
								limit = {
									country_or_non_sovereign_subject_holds = prev
									is_core = NOV
								}
								cede_province = NOV
							}
							root = {
								riga_set_up_special_vassal_effect = {
									type = rig_episcopal_administrative_district
									subject = NOV
									reform = yes
								}
							}
						}
					}
				}
				white_peace = PSK
				NOV = {
					create_subject = {
						subject_type = vassal
						subject = PSK
					}
				}
			}
			else = {
				310 = {
					owner = {
						if = {
							limit = { 
								tag = NOV
								NOV = {
									is_subject = no
								}
							}
							root = {
								white_peace = prev
								if = {
									limit = { 
										exists = PSK
										PSK = {
											is_subject_of = NOV
										}
									}
									NOV = {
										inherit = PSK
									}
								}
								riga_set_up_special_vassal_effect = {
									type = rig_episcopal_administrative_district
									subject = NOV
									reform = yes
								}
								
							}
						}
						else_if = {
							limit = { 
								tag = NOV
								NOV = {
									is_subject = yes
								}
							}
							overlord = {
								white_peace = root
								if = {
									limit = { 
										exists = PSK
										PSK = {
											is_subject_of = NOV
										}
									}
									NOV = {
										inherit = PSK
									}
								}
								root = {
									riga_set_up_special_vassal_effect = {
										type = rig_episcopal_administrative_district
										subject = NOV
										reform = yes
									}
								}
							}
						}
						else = {
							white_peace = root
							release = NOV
							every_province = {
								limit = {
									country_or_non_sovereign_subject_holds = prev
									is_core = NOV
								}
								cede_province = NOV
							}
							if = {
								limit = { 
									exists = PSK
									PSK = {
										is_subject_of = NOV
									}
								}
								NOV = {
									inherit = PSK
								}
							}
							root = {
								riga_set_up_special_vassal_effect = {
									type = rig_episcopal_administrative_district
									subject = NOV
									reform = yes
								}
							}
						}
					}
				}
			}
			if = {
				limit = { 
					mission_completed = rig_sealand_agreement
				}
				country_event = {
					id = rigaExpand.11
				}
			}
		}
	}
}
rig_main_2_a_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_north
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_skona_agreement = { #斯科纳协定
		icon = mission_conquer_skaneland
		position = 16
		required_missions = { "rig_gotland_bridgehead" }
		provinces_to_highlight = {
			owned_by = SKN
		}
		trigger = {
			if = {
				limit = { 
					exists = SKN
					SKN = {
						is_subject_of = SWE
					}
				}
				SKN = {
					has_opinion = {
						who = root
						value = 100
					}
				}
			}
			else = {
				skaneland_area = {
					type = all
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			if = {
				limit = { 
					exists = SKN
					SKN = {
						is_subject_of = SWE
					}
				}
				country_event = {
					id = rigaExpand.16
				}
			}
			else = {
				add_prestige_or_monarch_power = {
					amount = 20
				}
			}
		}
	}
}
rig_main_2_d_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_east_and_west
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_rus_departments = { #罗斯诸部
		icon = mission_novgorod_the_great
		position = 10
		required_missions = { "rig_riga_conference" }
		provinces_to_highlight = {
			OR = {
				AND = {
					exists = PSK
					owned_by = PSK
				}
				AND = {
					NOT = {
						exists = PSK
					}
					area = pskov_area
				}
			}
		}
		trigger = {
			if = {
				limit = { 
					exists = PSK
					PSK = {
						is_subject = no
					}
				}
				has_spy_network_in = {
					who = PSK
					value = 25
				}
			}
			else_if = {
				limit = { 
					exists = PSK
					PSK = {
						is_subject = yes
						NOT = {
							is_subject_of = root
						}
					}
				}
				PSK = {
					overlord = {
						has_spy_network_from = {
							who = root
							value = 25
						}
					}
				}
			}
			else_if = {
				limit = {
					274 = {
						owner = {
							is_subject = yes
							NOT = {
								is_subject_of = root
							}
						}
					}
				}
				274 = {
					owner =  {
						overlord = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
					}
				}
			}
			else = {
				274 = {
					OR = {
						riga_subject_of_subject_owned_land = { who = root }
						owner = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
					}
				}
			}
		}
		effect = {
			country_event = {
				id = rigaExpand.37
			}
		}
	}
	rig_permeate_hansa_league = { #渗透汉萨联盟
		icon = mission_humiliate_lubeck
		position = 11
		required_missions = { "rig_hansa_league" }
		provinces_to_highlight = {
			owner = {
				is_in_trade_league_with = HSA
				NOT = {
					has_opinion = {
						who = root
						value = 75
					}
				}
			}
		}
		trigger = {
			OR = {
				HSA = {
					OR = {
						exists = no
						is_trade_league_leader = no
					}
				}
				custom_trigger_tooltip = {
					tooltip = rig_permeate_hansa_league_tt
					all_known_country = {
						OR = {
							tag = root
							NOT = {
								is_in_trade_league_with = HSA
							}
							AND = {
								is_in_trade_league_with = HSA
								OR = {
									has_opinion = {
										who = root
										value = 75
									}
									has_spy_network_from = {
										who = root
										value = 35
									}
								}
							}
						}
					}
				}
			}
		}
		effect = {
			every_known_country = {
				limit = {
					OR = {
						tag = root
						AND = {
							is_in_trade_league_with = HSA
							has_opinion = {
								who = root
								value = 75
							}
						}
					}
				}
				add_spy_network_from = {
					who = root
					value = 75
				}
			}
		}
	}
	rig_ready_for_battle = { #严阵以待
		icon = mission_early_russian_army
		position = 12
		required_missions = { "rig_sharpen_the_sword" }
		provinces_to_highlight = {
			if = {
				limit = { 
					exists = PSK
					PSK = {
						is_subject_of = RIG
					}
				}
				owned_by = PSK
			}
			else = {
				owned_by = RIG
			}
		}
		trigger = {
			if = {
				limit = { 
					NOT = {
						mission_completed = rig_sharpen_the_sword
					}
				}
				custom_trigger_tooltip = {
					tooltip = rig_ready_for_battle_tt_1
					always = no
				}
			}
			else_if = {
				limit = { 
					mission_completed = rig_sharpen_the_sword
					has_country_modifier = rig_hide_an_weapon
				}
				custom_trigger_tooltip = {
					tooltip = rig_ready_for_battle_tt_2
					always = no
				}
			}
			else = {
				NOT = {
					has_country_modifier = rig_hide_an_weapon
				}
			}
		}
		effect = {
			country_event = {
				id = rigaExpand.41
			}
			add_country_modifier = {
				name = rig_hide_an_weapon
				duration = 365
			}
			hidden_effect = {
				country_event = {
					id = rigaExpand.42
					days = 60
					random = 180
				}
			}
		}
	}
	rig_advantages_and_disadvantages = { #优胜劣汰
		icon = unite_the_realm
		position = 13
		required_missions = { "rig_enemy_of_enemy" }
		provinces_to_highlight = {
			owner = {
				has_country_flag = rig_riga_trade_member
				NOT = {
					num_of_cities = 2
				}
			}
		}
		trigger = {
			is_trade_league_leader = yes
		}
		effect = {
			custom_tooltip = rig_advantages_and_disadvantages_tt
			hidden_effect = {
				every_known_country = {
					limit = {
						NOT = {
							num_of_cities = 2
						}
						has_country_flag = rig_riga_trade_member
						is_subject = no
						is_trade_league_leader = yes
					}
					add_prestige = -200
				}
				every_known_country = {
					limit = {
						NOT = {
							num_of_cities = 2
						}
						has_country_flag = rig_riga_trade_member
						is_subject = no
					}
					country_event = {
						id = rigaExpand.102
						days = 3
					}
				}
				if = {
					limit = { 
						exists = HSA
						HSA = {
							is_subject = no
						}
					}
					every_known_country = {
						limit = {
							capital_scope = {
								region = north_german_region
							}
							NOT = {
								tag = HSA
							}
							is_subject = no
						}
						country_event = {
							id = rigaExpand.33
							days = 1
							random = 912
						}
					}
					country_event = {
						id = rigaExpand.101
						days = 1095
						random = 30
					}
				}
				else = {
					set_country_flag = end_incident_north_german_trade_war
				}
			}
		}
	}
	rig_in_the_name_of_god = { #以主之名
		icon = spread_piety
		position = 14
		required_missions = { "rig_whip_the_horse" }
		provinces_to_highlight = {
			owner = {
				war_with = RIG
				capital_scope = {
					region = russia_region
				}
			}
		}
		trigger = {
			if = {
				limit = { 
					exists = PSK
					PSK = {
						is_subject = no
						war_with = root
					}
					has_country_flag = rig_psk_have_rise_up
				}
				war_score_against = {
					who = PSK
					value = 35
				}
			}
			else_if = {
				limit = { 
					310 = {
						owner = {
							war_with = root
						}
					}
				}
				OR = {
					310 = {
						owner = {
							if = {
								limit = { 
									is_subject = no
								}
								root = {
									war_score_against = {
										who = prev
										value = 40
									}
								}
							}
							else = {
								overlord = {
									root = {
										war_score_against = {
											who = prev
											value = 40
										}
									}
								}
							}
						}
					}
				}
			}
			else = {
				pskov_area = {
					type = all
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			add_papal_influence = 100
			if = {
				limit = { 
					has_country_flag = rig_psk_have_rise_up
				}
				karelia_area = {
					add_permanent_claim = root
				}
				novgorod_area = {
					add_permanent_claim = root
				}
			}
		}
	}
	rig_sealand_agreement = { #西兰协定
		icon = mission_the_kalmar_union
		position = 15
		required_missions = { "rig_disaster_of_lubeck" }
		provinces_to_highlight = {
			owner = {
				has_country_flag = rig_riga_trade_member
				is_subject = no
			}
		}
		trigger = {
			is_trade_league_leader = yes
		}
		effect = {
			country_event = {
				id = rigaExpand.36
			}
			hidden_effect = {
				RIG = {
					remove_country_modifier = rig_riga_hansa_trade_conflict_normal
				}
				every_country = {
					remove_country_modifier = rig_riga_hansa_trade_conflict_normal
					remove_country_modifier = rig_riga_hansa_trade_conflict_aggravate
					remove_country_modifier = rig_riga_hansa_trade_conflict_seriousness
					remove_country_modifier = rig_riga_hansa_trade_conflict_extremely_seriousness
					remove_country_modifier = rig_riga_hansa_trade_conflict_out_of_control
				}
			}
		}
	}
}
rig_main_2_e_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_south
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_crown_of_poland = {#波兰王冠
		icon = mission_the_polish_throne
		position = 16
		required_missions = { "rig_advance_slowly_fight_quickly" }
		provinces_to_highlight = {
			OR = {
				region = poland_region
				province_id = 262
			}
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = poland_region
				value = 10
			}
			OR = {
				NOT = {
					exists = KRA
				}
				KRA = {
					is_subject_of = root
				}
			}
			262 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			papal_influence = 50
		}
		effect = {
			# rig_release_special_vassal_effect = {
			# 	who = root
			# 	tag = KRA
			# 	province = 262
			# 	type = rig_episcopal_military_district
			# }
			if = {
				limit = { 
					NOT = {
						exists = KRA
					}
				}
				262 = {
					owner = {
						release = KRA
					}
				}
				every_province = {
					limit = {
						region = poland_region
						riga_subject_of_subject_owned_land = { who = root }
					}
					if = {
						limit = {
							is_core = owner
						}
						add_core = KRA
						cede_province = KRA
					}
					else = {
						cede_province = KRA
					}
				}
				create_subject = {
					subject_type = vassal
					subject = KRA
				}
				
			}
			else_if = {
				limit = { 
					exists = KRA
					KRA = {
						is_subject_of = root
					}
				}
				every_province = {
					limit = {
						region = poland_region
						riga_subject_of_subject_owned_land = { who = root }
					}
					if = {
						limit = {
							is_core = owner
						}
						add_core = KRA
						cede_province = KRA
					}
					else = {
						cede_province = KRA
					}
				}
				create_subject = {
					subject_type = vassal
					subject = KRA
				}
			}
			if = {
				limit = { 
					262 = {
						NOT = {
							religion = root
						}
					}
				}
				change_religion = root
				add_papal_influence = 100
			}
			add_prestige_or_monarch_power = {
				amount = 20
			}
			add_devotion = 20
		}
	}
}
rig_main_2_e_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_south
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_poish_ruthenia_strategy = {#波兰-鲁塞尼亚战略
		icon = mission_partition_poland
		position = 10
		required_missions = { "rig_riga_conference" }
		provinces_to_highlight = {
			OR = {
				region = poland_region
				region = ruthenia_region
			}
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			treasury = 500
		}
		effect = {
			country_event = {
				id = rigaExpand.50
			}
		}
	}
	rig_advance_slowly_fight_quickly = { #缓进急战
		icon = mission_teutonic_lancer
		position = 15
		required_missions = { "rig_poish_ruthenia_strategy" }
		provinces_to_highlight = {
			owner = {
				capital_scope = {
					OR = {
						region = poland_region
						region = ruthenia_region
					}
				}
				NOT = {
					war_with = RIG
				}
			}
		}
		trigger = {
			any_known_country = {
				capital_scope = {
					OR = {
						region = poland_region
						region = ruthenia_region
					}
				}
				war_with = root
			}
			mil_power = 100
		}
		effect = {
			country_event = {
				id = rigaExpand.51
			}
		}
	}
	rig_city_of_ross = {#罗斯之城
		icon = mission_take_over_the_kremlin
		position = 16
		required_missions = { "rig_advance_slowly_fight_quickly" }
		provinces_to_highlight = {
			OR = {
				region = ruthenia_region
				province_id = 280
			}
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = ruthenia_region
				value = 10
			}
			280 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			OR = {
				NOT = {
					exists = KIE
				}
				KIE = {
					is_subject_of = root
				}
			}
			papal_influence = 50
		}
		effect = {
			if = {
				limit = { 
					NOT = {
						exists = KIE
					}
				}
				280 = {
					owner = {
						release = KIE
					}
				}
				every_province = {
					limit = {
						region = ruthenia_region
						riga_subject_of_subject_owned_land = { who = root }
					}
					if = {
						limit = { 
							is_core = owner
						}
						add_core = KIE
						cede_province = KIE
					}
					else = {
						cede_province = KIE
					}
				}
				create_subject = {
					subject_type = vassal
					subject = KIE
				}
			}
			else_if = {
				limit = {
					exists = KIE
					KIE = {
						is_subject_of = root
					}
				}
				every_province = {
					limit = {
						region = ruthenia_region
						riga_subject_of_subject_owned_land = { who = root }
					}
					if = {
						limit = { 
							is_core = owner
						}
						add_core = KIE
						cede_province = KIE
					}
					else = {
						cede_province = KIE
					}
				}
				create_subject = {
					subject_type = vassal
					subject = KIE
				}
			}
			add_papal_influence = -50
			if = {
				limit = { 
					280 = {
						NOT = {
							religion = root
						}
					}
				}
				change_religion = root
				add_papal_influence = 100
			}
			add_prestige_or_monarch_power = {
				amount = 20
			}
			add_devotion = 20
		}
	}
	rig_plus_loin = {#更进一步
		icon = secure_the_republic
		position = 17
		required_missions = { 
			"rig_city_of_ross"
			"rig_crown_of_poland"
		}
		provinces_to_highlight = {
			OR = {
				region = poland_region
				region = ruthenia_region
			}
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = poland_region
				value = 20
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = ruthenia_region
				value = 25
			}
		}
		effect = {
			add_papal_influence = 100
			add_prestige_or_monarch_power = {
				amount = 50
			}
			every_province = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
					NOT = {
						is_core = owner
					}
				}
				add_province_modifier = {
					name = rig_province_adm_integration
					duration = 3650
				}
			}
		}
	}
}
rig_main_2_a_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_deal_with_north
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_on_the_verge_of_war = { #离弦之箭
		icon = mission_unite_home_region
		position = 18
		required_missions = { "rig_waiting_in_wings" }
		provinces_to_highlight = {
			area = skaneland_area
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
		}
		trigger = {
			if = {
				limit = { 
					exists = SKN
					SKN = {
						is_subject = yes
						NOT = {
							has_country_flag = rig_already_pre_for_uprising
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = not_has_rig_already_pre_for_uprising_tt
					always = no
				}
			}
			else_if = {
				limit = { 
					exists = SKN
					SKN = {
						is_subject = yes
						has_country_flag = rig_already_pre_for_uprising
					}
				}
				custom_trigger_tooltip = {
					tooltip = has_rig_already_pre_for_uprising_tt
					always = yes
				}
				NOT = {
					truce_with = SWE
				}
			}
			else = {
				skaneland_area = {
					type = all
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			hidden_effect = {
				if = {
					limit = { 
						exists = NOR
						NOR = {
							is_subject_of = SWE
							OR = {
								liberty_desire = 50
								AND = {
									root = {
										has_spy_network_in = {
											who = SWE
											value = 25
										}
									}
									has_opinion = {
										who = root
										value = 100
									}
								}
							}
						}
					}
					NOR = {
						country_event = {
							id = rigaExpand.21
							days = 1
						}
					}
				}
			}
			
			if = {
				limit = { 
					exists = SKN
					SKN = {
						is_subject_of = SWE
					}
				}
				SKN = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = SWE
					}
					country_event = {
						id = rigaExpand.20
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					skaneland_area = {
						type = all
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				skaneland_area ={
					cede_province = SKN
				}
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_military_district
					subject = SKN
					reform = yes
				}
			}
		}
	}
	rig_safty_north = { #安定北境
		icon = mission_swedish_nobility
		position = 19
		required_missions = { "rig_on_the_verge_of_war" }
		provinces_to_highlight = {
			owned_by = SWE
		}
		trigger = {
			if = {
				limit = { 
					exists = SWE
					war_with = SWE
					exists = SKN
					SKN = {
						war_with = SWE
						is_subject = no
					}
				}
				war_score_against = {
					who = SWE
					value = 40
				}
			}
			else = {
				skaneland_area = {
					type = all
					riga_subject_of_subject_owned_land = { who = root }
				}
				1926 = {
					is_strongest_trade_power = root
					trade_share = {
						country = root
						share = 40
					}
				}
			}
		}
		effect = {
			if = {
				limit = { 
					exists = SWE
					war_with = SWE
					exists = SKN
					SKN = {
						war_with = SWE
						is_subject = no
					}
				}
				if = {
					limit = { 
						has_country_modifier = rig_commercial_espionage_modifier
						war_score_against = {
							who = SWE
							value = 40
						}
					}
					country_event = {
						id = rigaExpand.22
					}
				}
				else = {
					SKN = {
						white_peace = SWE
					}
					1926 = {
						add_trade_modifier = {
							who = root
							duration = 18250
							power = 100
							key = rig_safty_north_tt
						}
						add_trade_modifier = {
							who = SWE
							duration = 18250
							power = -100
							key = rig_safty_north_tt
						}
					}
					country_event = {
						id = rigaExpand.11
					}
				}
			}
			else = {
				1926 = {
					add_trade_modifier = {
						who = root
						duration = 18250
						power = 100
						key = rig_safty_north_tt
					}
					add_trade_modifier = {
						who = SWE
						duration = 18250
						power = -100
						key = rig_safty_north_tt
					}
				}
				if = {
					limit = { 
						exists = SWE
						SWE = {
							NOT = {
								is_subject_of = root
							}
						}
					}
					add_casus_belli = {
						type = cb_vassalize_mission
						target = SWE
						months = 240
					}
				}
				country_event = {
					id = rigaExpand.11
				}
			}
		}
	}
}
rig_main_2_a_mission_5_expand = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_begin_greate_north_war
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_greate_north_war = { #大北方战争
		icon = mission_cannons_firing
		position = 20
		required_missions = { "rig_safty_north" }
		provinces_to_highlight = {
			is_capital = yes
			OR = {
				owned_by = SWE
				owned_by = NOR
				owned_by = SMI
				owned_by = SKN
			}
			NOT = { riga_subject_of_subject_owned_land = { who = root } }
			NOT = {
				controlled_by = root
			}
		}
		trigger = {
			OR = {
				NOT = {
					exists = SWE
				}
				SWE = {
					OR = {
						is_subject_of = root
						capital_scope = {
							controlled_by = root
						}
					}
				}
			}
			OR = {
				NOT = {
					exists = NOR
				}
				NOR = {
					OR = {
						is_subject_of = root
						capital_scope = {
							controlled_by = root
						}
					}
				}
			}
			OR = {
				NOT = {
					exists = SMI
				}
				SMI = {
					OR = {
						is_subject_of = root
						capital_scope = {
							controlled_by = root
						}
					}
				}
			}
			OR = {
				NOT = {
					exists = SKN
				}
				SKN = {
					OR = {
						is_subject_of = root
						capital_scope = {
							controlled_by = root
						}
					}
				}
			}
		}
		effect = {
			white_peace = SWE
			if = {
				limit = { 
					exists = SWE
					SWE = {
						NOT = {
							is_subject_of = root
						}
					}
				}
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_military_district
					subject = SWE
					reform = yes
				}
			}
			SWE = {
				if = {
					limit = { 
						exists = NOR
					}
					create_subject = {
						subject_type = vassal
						subject = NOR
					}
				}
				if = {
					limit = { 
						exists = SKN
					}
					create_subject = {
						subject_type = vassal
						subject = SKN
					}
				}
				if = {
					limit = { 
						exists = SMI
						SMI = {
							NOT = {
								is_subject_of = root
							}
						}
					}
					create_subject = {
						subject_type = vassal
						subject = SMI
					}
				}
			}
			country_event = {
				id = rigaExpand.11
			}
		}
	}
}
rig_main_4_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = tall_riga_mission_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_riga_fulcrum = { #里加支点
		icon = mission_novgorod_the_great
		required_missions = { "rig_heart_of_baltic" }
		position = 18
		provinces_to_highlight = {
			province_id = 38
		}
		trigger = {
			38 = {
				is_capital_of = root
				development = 300
				num_of_times_expanded_infrastructure = 3
			}
		}
		effect = {
			38 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
			}
		}
	}

	rig_terra_mariana = { #圣母之地
		icon = mission_polynesian_grand_navy
		position = 20
		required_missions = { 
			"rig_riga_fulcrum"
			"rig_advance_both_by_land_and_warter"
			"rig_direct_planning"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 38
				province_id = 43
			}
		}
		trigger = {
			treasury = 5000
			papal_influence = 100
			38 = {
				province_has_center_of_trade_of_level = 3
			}
			43 = {
				province_has_center_of_trade_of_level = 3
			}
			272 = {
				province_has_center_of_trade_of_level = 3
			}
		}
		effect = {
			add_papal_influence = -100
			add_treasury = -5000
			38 = {
				add_great_project_tier = {
					type = riga_Saint_Mary_Basilica
					tier = 1
				}
			}
			country_event = {
				id = rigaExpand.70
			}
		}
	}

}
rig_main_4_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = tall_riga_mission_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_danzig_fulcrum = { #但泽支点
		icon = mission_danzig_or_war
		position = 17
		required_missions = { "rig_heart_of_baltic" }
		provinces_to_highlight = {
			province_id = 43
		}
		trigger = {
			43 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			country_event = {
				id = RigaExpandFlavour.4
			}
		}
	}
	rig_advance_both_by_land_and_warter = { #水陆并进
		icon = mission_se_along_the_river
		position = 19
		required_missions = { "rig_danzig_fulcrum" }
		trigger = {
			43 = {
				has_shipyard_building_trigger = yes
				has_dock_building_trigger = yes
				development = 40
			}
			num_of_light_ship = 80
		}
		effect = {
			custom_tooltip = rig_advance_both_by_land_and_warter.tt
		}
	}
}
rig_main_4_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = tall_riga_mission_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_vilnius_fulcrum = { #维尔纽斯支点
		icon = mission_land_of_churches
		position = 17
		required_missions = { "rig_heart_of_baltic" }
		provinces_to_highlight = {
			province_id = 272
		}
		trigger = {
			272 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			272 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				change_trade_goods = paper
			}
		}
	}
	rig_direct_planning = { #直接计划
		icon = mission_advance_to_the_dnieper
		position = 19
		required_missions = { "rig_vilnius_fulcrum" }
		trigger = {
			272 = {
				development = 50
			}
		}
		effect = {
			custom_tooltip = rig_direct_planning.tt
		}
	}
}
rig_main_5_a_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = begin_rig_religion_reformation
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_religion_reformation = { #里加宗教改革
		icon = mission_european_church
		position = 21
		required_missions = { "rig_terra_mariana" }
		trigger = {
			papal_influence = 100
			if = {
				limit = { 
					exists = PAP
				}
				OR = {
					PAP = {
						has_opinion = {
							who = root
							value = 125
						}
					}
					alliance_with = PAP
				}
			}
		}
		effect = {
			add_papal_influence = -100
			custom_tooltip = rig_religion_reformation.tt
			hidden_effect = {
				every_province = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						has_province_modifier = religious_zeal_at_conv
						NOT = {
							religion = root
						}
					}
					remove_province_modifier = religious_zeal_at_conv
				}
			}
		}
	}
	rig_ordinance_of_piety = { #虔信条例
		icon = mission_hands_praying
		position = 23
		required_missions = { "rig_religion_reformation" }
		provinces_to_highlight = {
			owner = {
				is_subject_of = root
				NOT = {
					religion = root
				}
			}
		}
		trigger = {
			papal_influence = 50
			all_subject_country = {
				religion = root
			}
			38 = {
				owned_by = root
			}
		}
		effect = {
			add_papal_influence = 50
			38 = {
				add_reform_center = catholic
			}
			remove_country_modifier = rig_riga_religious_dilemma
			every_subject_country = {
				remove_country_modifier = rig_riga_religious_dilemma_subject
			}
		}
	}
	rig_propaganda_act = { #宣讲条例
		icon = mission_religious
		position = 25
		required_missions = { "rig_ordinance_of_piety" }
		provinces_to_highlight = {
			riga_subject_of_subject_owned_land = { who = root }
			NOT = {
				religion = root
			}
		}
		trigger = {
			OR = {
				all_province = {
					OR = {
						AND = {
							riga_subject_of_subject_owned_land = { who = root }
							OR = {
								religion = root
								AND = {
									has_province_modifier = religious_zeal_at_conv
									NOT = {
										religion = root
									}
								}
								has_province_modifier = estate_dhimmi_guaranteed_autonomy_mod
								has_province_modifier = estate_burghers_guaranteed_autonomy_mod
								has_province_modifier = eth_accepted_society
								has_province_modifier = estate_church_lao_animism_mod
								
							}
						}
						NOT = {
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				NOT = {
					hre_size = 1
				}
			}
		}
		effect = {
			add_papal_influence = 50
			if = {
				limit = { 
					hre_size = 1
					NOT = { has_global_flag = evangelical_union_happened }
				}
				custom_tooltip = rig_propaganda_act.tt
				hidden_effect = {
					emperor = {
						country_event = {
							id = RigaExpandSupplement.15
							days = 30
							random = 60
						}
					}
				}
			}
			else = {
				hidden_effect = {
					set_country_flag = rig_propaganda_act_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_propaganda_act_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_sword_of_god = { #天主之剑
		icon = mission_devastate_christianity
		position = 27
		required_missions = { "rig_propaganda_act" }

		trigger = {
			OR = {
				hre_religion_locked = yes
				hre_religion_treaty = yes
				NOT = {
					hre_size = 1
				}
			}
		}
		effect = {
			if = {
				limit = { 
					hre_religion_locked = yes
					hre_religion = catholic
				}
				custom_tooltip = rig_sword_of_god_1.tt
				hidden_effect = {
					every_province = {
						limit = {
							riga_subject_of_subject_owned_land = { who = root }
							OR = {
								religion = protestant
								religion = hussite
								religion = reformed
							}
						}
						change_religion = catholic
					}
					every_province = {
						limit = {
							has_province_modifier = religious_center
							OR = {
								religion = protestant
								religion = hussite
								religion = reformed
							}
						}
						remove_province_modifier = religious_center
						change_religion = catholic
					}
				}
			}
			else_if = {
				limit = { 
					hre_religion_locked = yes
					NOT = {
						hre_religion = catholic
					}
				}
				custom_tooltip = rig_sword_of_god_2.tt
				hidden_effect = {
					declare_war_with_cb = {
						casus_belli = cb_religious_conformance
						who = emperor
					}
					every_country = {
						limit = {
							is_elector = yes
							NOT = {
								OR = {
									alliance_with = root
									is_subject_of = root
								}
							}
						}
						RIG = {
							declare_war_with_cb = {
								casus_belli = cb_religious_conformance
								who = prev
							}
						}
					}
				}
			}
			else = {
				add_papal_influence = 50
			}
		}
	}
	rig_statute_of_religious_unity = { #宗教统一条例
		icon = catholic_volunteers
		position = 29
		required_missions = { "rig_sword_of_god" }
		trigger = {
			custom_trigger_tooltip = {
				tooltip = rig_statute_of_religious_unity_trigger.tt
				all_province = {
					OR = {
						AND = {
							country_or_non_sovereign_subject_holds = root
							religion = root
						}
						NOT = {
							country_or_non_sovereign_subject_holds = root
						}
					}
				}
			}
			all_subject_country = {
				religion = root
			}
			OR = {
				hre_religion = catholic
				hre_religion_treaty = yes
				NOT = {
					hre_size = 1
				}
			}
		}
		effect = {
			add_papal_influence = 200
			38 = {
				add_base_tax = 10
				add_base_production = 10
				add_base_manpower = 10
			}
			add_country_modifier = {
				name = rig_church_state
				duration = -1
			}
			custom_tooltip = rig_statute_of_religious_unity.tt
			hidden_effect = {
				set_country_flag = rig_statute_of_religious_unity_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_military_system_of_riga_reform
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_what_must_be_done = { #必行之事
		icon = mission_build_up_to_force_limit
		position = 21
		required_missions = { "rig_terra_mariana" }
		trigger = {
			OR = {
				mil = 4
				AND = {
					mil_power = 300
					national_focus = MIL
				}
			}
			num_of_generals = 3
		}
		effect = {
			if = {
				limit = { 
					NOT = {
						mil = 4
					}
				}
				add_mil_power = -300
			}
			country_event = {
				id = rigaExpand.73
			}
		}
	}
}
rig_main_5_e_mission_2_a = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_adm_system_of_riga_reform_begin
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_administrative_restructuring = { #行政重组
		icon = mission_mal_restore_the_mali_empire
		position = 22
		required_missions = { "rig_thngs_to_do" }
		trigger = {
			38 = {
				has_courthouse_building_trigger = yes
			}
			advisor = bailiff
		}
		effect = {
			hidden_effect = {
				set_country_flag = rig_administrative_restructuring_flag
			}
			country_event = {
				id = rigaExpand.85
			}
		}
	}
}
rig_main_5_e_mission_2_b = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_scour_the_bureaucracy_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_diocesan_renovation_ordinace = { #主教区革新条例
		icon = mission_buddhist_monk_praying
		position = 24
		required_missions = { "rig_administrative_restructuring" }
		trigger = {
			innovativeness = 5
			reformer = 1
			has_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 30
			}
		}
		effect = {
			change_innovativeness = -5
			country_event = {
				id = rigaExpand.90
			}
			hidden_effect = {
				set_country_flag = rig_diocesan_renovation_ordinace_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_2_c = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_clarify_responsibilities_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_second_allegiance_act = { #再效忠条例
		icon = mission_have_two_subjects
		position = 26
		required_missions = { "rig_diocesan_renovation_ordinace" }
		trigger = {
			innovativeness = 5
			reformer = 1
			has_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 50
			}
		}
		effect = {
			change_innovativeness = -5
			country_event = {
				id = rigaExpand.91
			}
			hidden_effect = {
				set_country_flag = rig_second_allegiance_act_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_2_d = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_each_performs_its_owned_functions_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_second_association_act = { #二次联合条例
		icon = mission_alliances
		position = 28
		required_missions = { "rig_second_allegiance_act" }
		trigger = {
			innovativeness = 5
			adm_power = 300
			has_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 80
			}
		}
		effect = {
			change_innovativeness = -5
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			add_government_reform = rig_congress_of_the_people_and_dioceses_of_all_riga_reform
			hidden_effect = {
				set_country_flag = rig_second_association_act_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_2_e = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_each_performs_its_owned_functions_flag
		has_country_flag = rig_second_association_act_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_concerning_civil_government = { #政府论
		icon = mission_engelbrekt
		position = 30
		required_missions = { 
			"rig_second_association_act" 
			"rig_each_performs_its_owned_functions"
		}
		trigger = {
			has_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 100
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.25
			}
		}
	}
}
rig_main_5_b_mission_1_a = {
	slot = 1
	potential = {
		tag = RIG
		has_country_flag = rig_military_system_of_riga_reform
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_impermeable_plane = { #滴水不漏
		icon = mission_conquer_50_development
		position = 22
		required_missions = { "rig_what_must_be_done" }
		trigger = {
			38 = {
				is_capital_of = root
				infantry_in_province = 1
				cavalry_in_province = 1
			}
			has_mil_advisor = yes
			num_of_generals = 3
		}
		effect = {
			38 = {
				kill_units = {
					who = root
					type = cavalry
					amount = 1
				}
				kill_units = {
					who = root
					type = infantry
					amount = 1
				}
			}
			country_event = {
				id = rigaExpand.74
			}
		}
	}

	rig_one_night_of_riga = { #里加一夜
		icon = mission_end_the_sound_toll
		position = 23
		required_missions = { "rig_impermeable_plane" }
		trigger = {
			num_of_generals = 3
			if = {
				limit = { 
					NOT = {
						has_country_flag = rig_all_done
					}
				}
				custom_trigger_tooltip = {
					tooltip = rig_one_night_of_riga_tt_false
					always = no
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = rig_one_night_of_riga_tt_right
					always = yes
				}
			}
		}
		effect = {
			country_event = {
				id = rigaExpand.76
			}

		}
	}
}
rig_main_5_b_mission_1_b = {
	slot = 1
	potential = {
		tag = RIG
		has_country_flag = rig_military_reorganization_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_summarize_past_experience = { #总结经验
		icon = mission_vedic_education
		position = 24
		required_missions = { "rig_one_night_of_riga" }
		trigger = {
			OR = {
				mil = 5
				AND = {
					mil_power = 300
					national_focus = MIL
				}
			}
			has_mil_advisor = yes
		}
		effect = {
			if = {
				limit = { 
					NOT = {
						mil = 5
					}
				}
				add_mil_power = -300
			}
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 5
			}
			define_advisor = {
				type = army_reformer
				skill = 3
				culture = root
				religion = root
			}
			add_prestige_or_monarch_power = {
				amount = 10
			}
		}
	}
	rig_learning_thought = { #学习思想
		icon = mission_book_of_royal_degrees
		position = 25
		required_missions = { "rig_summarize_past_experience" }
		trigger = {
			is_lacking_institutions = no
			has_mil_advisor_3 = yes
			advisor = army_reformer
		}
		effect = {
			custom_tooltip = rig_learning_thought.tt
			add_mil_tech = 1
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 5
			}
			hidden_effect = {
				set_country_flag = rig_learning_thought_flag
				rig_every_subject_country_effect = {
					effect = "
						add_mil_tech = 1
					"
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_1_c = {
	slot = 1
	potential = {
		tag = RIG
		has_country_flag = rig_military_theory_innovation_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_promotion_of_new_talent = { #提拔新秀
		icon = join_the_reformation
		position = 26
		required_missions = { "rig_learning_thought" }
		trigger = {
			num_of_generals = 3
			treasury = 1500
		}
		effect = {
			add_treasury = -1500
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 5
			}
			add_country_modifier = {
				name = rig_promotion_of_new_talent_modifier
				duration = -1
			}
		}
	}
	rig_uniform_oreder = { #统一号令
		icon = protect_against_austria
		position = 27
		required_missions = { "rig_promotion_of_new_talent" }
		trigger = {
			all_subject_country = {
				NOT = {
					liberty_desire = 10
				}
			}
			baltic_region = {
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			custom_tooltip = rig_uniform_oreder.tt
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 5
			}
			hidden_effect = {
				set_country_flag = rig_uniform_oreder_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_1_d = {
	slot = 1
	potential = {
		tag = RIG
		has_country_flag = rig_military_organization_reform_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_riga_steel_guardian = { #里加铁卫
		icon = mission_teutonic_riders
		position = 28
		required_missions = { "rig_uniform_oreder" }
		trigger = {
			OR = {
				TEU = {
					is_subject_of = root
					has_opinion = {
						who = root
						value = 190
					}
				}
				PRU = {
					is_subject_of = root
					has_opinion = {
						who = root
						value = 190
					}
				}
			}
			LIV = {
				is_subject_of = root
				has_opinion = {
					who = root
					value = 190
				}
			}
			mil_power = 100
			advisor = commandant
		}
		effect = {
			add_mil_power = -100
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 5
			}
			add_country_modifier = {
				name = rig_riga_steel_guardian_modifier
				duration = -1
			}
		}
	}
	rig_border_brave_army = { #边区悍勇
		icon = league_of_the_public_weal
		position = 29
		required_missions = { "rig_riga_steel_guardian" }
		trigger = {
			all_subject_country = {
				OR = {
					NOT = {
						is_subject_of_type = rig_episcopal_military_district
					}
					AND = {
						is_subject_of_type = rig_episcopal_military_district
						has_opinion = {
							who = root
							value = 190
						}
					}
				}
			}
			mil_power = 100
			advisor = army_organiser
			OR = {
				army_size_percentage = 0.6
				army_size = 100
			}
		}
		effect = {
			custom_tooltip = rig_border_brave_army.tt
			add_mil_power = -100
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 10
			}
			hidden_effect = {
				set_country_flag = rig_border_brave_army_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_adm_system_of_riga_reform
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_thngs_to_do = { #须行之事
		icon = mission_among_the_great_powers
		position = 21
		required_missions = { "rig_terra_mariana" }
		trigger = {
			OR = {
				adm = 4
				AND = {
					adm_power = 300
					national_focus = ADM
				}
			}
			advisor = innovator
		}
		effect = {
			if = {
				limit = { 
					NOT = {
						adm = 4
					}
				}
				add_adm_power = -300
			}
			country_event = {
				id = rigaExpand.82
			}
		}
	}
}
rig_main_5_e_mission_5_a = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_adm_system_of_riga_reform
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_thngs_which_lackluster = { #乏善可陈
		icon = mission_portuguese_oman
		position = 22
		required_missions = { "rig_thngs_to_do" }
		trigger = {
			all_subject_country = {
				OR = {
					NOT = {
						OR = {
							has_subject_of_type = rig_episcopal_administrative_district
							has_subject_of_type = rig_episcopal_military_district
							has_subject_of_type = rig_knightage_vissal
							has_subject_of_type = rig_episcopal_economic_district
						}
					}
					has_opinion = {
						who = root
						value = 100
					}
				}
			}
		}
		effect = {
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			country_event = {
				id = rigaExpand.83
			}
		}
	}
	rig_a_day_in_riga = { #里加一日
		icon = mission_great_trading_houses
		position = 23
		required_missions = { "rig_thngs_which_lackluster" }
		trigger = {
			has_adm_advisor_3 = administrative_experts
			adm_power = 100
		}
		effect = {
			add_adm_power = -100
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			country_event = {
				id = rigaExpand.84
			}
			hidden_effect = {
				set_country_flag = rig_adm_system_of_riga_reform_begin
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_5_b = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_administrative_restructuring_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_sweep_away_corruption = { #扫除腐败
		icon = mission_taula_de_canvi
		position = 24
		required_missions = { "rig_a_day_in_riga" }
		trigger = {
			NOT = {
				corruption = 1
			}
			has_adm_advisor = procurator
		}
		effect = {
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			every_subject_country = {
				add_corruption = -10
			}
		}
	}
	rig_scour_the_bureaucracy = { #彻查官僚
		icon = mission_rb_monopolize_the_channel
		position = 25
		required_missions = { "rig_sweep_away_corruption" }
		trigger = {
			has_adm_advisor_3 = procurator
			all_subject_country = {
				OR = {
					is_subject_of_type = rig_trade_city
					AND = {
						NOT = {
							is_subject_of_type = rig_trade_city
						}
						NOT = {
							corruption = 3
						}
					}
				}
			}
		}
		effect = {
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			hidden_effect = {
				set_country_flag = rig_scour_the_bureaucracy_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_5_c = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_diocesan_renovation_ordinace_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_kinght_seconde_reorganization = { #二次改组
		icon = mission_mal_riches_of_trade
		position = 26
		required_missions = { "rig_scour_the_bureaucracy" }
		trigger = {
			all_subject_country = {
				NOT = {
					liberty_desire = 10
				}
			}
			papal_influence = 50
		}
		effect = {
			add_papal_influence = -50
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
		}
	}
	rig_clarify_responsibilities = { #明晰职责
		icon = mission_spread_the_reformation
		position = 27
		required_missions = { "rig_kinght_seconde_reorganization" }
		trigger = {
			adm_power = 12
			has_adm_advisor_3 = yes
		}
		effect = {
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			hidden_effect = {
				set_country_flag = rig_clarify_responsibilities_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_e_mission_5_d = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_second_allegiance_act_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_be_sharply_demarcated_from = { #划清界限
		icon = mission_plc_governance_act
		position = 28
		required_missions = { "rig_clarify_responsibilities" }
		trigger = {
			papal_influence = 50
		}
		effect = {
			add_papal_influence = -50
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
		}
	}
	rig_each_performs_its_owned_functions = { #各司其职
		icon = spa_infantes_aragon
		position = 29
		required_missions = { "rig_be_sharply_demarcated_from" }
		trigger = {
			adm_power = 100
		}
		effect = {
			add_adm_power = -100
			add_government_power = {
				mechanic_type = rig_administrative_reform_mechanic
				power_type = rig_administrative_reform
				value = 5
			}
			hidden_effect = {
				set_country_flag = rig_each_performs_its_owned_functions_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_4_a = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_military_system_of_riga_reform_begin
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_military_reorganization = { #军队重组
		icon = mission_assemble_an_army
		position = 22
		required_missions = { "rig_what_must_be_done" }
		trigger = {
			custom_trigger_tooltip = {
				tooltip = rig_military_reorganization_trigger.tt
				NOT = {
					army_size_percentage = 0.01
				}
			}
		}
		effect = {
			custom_tooltip = rig_military_reorganization.tt
			hidden_effect = {
				country_event = {
					id = rigaExpand.77
				}
			}
		}
	}

}
rig_main_5_b_mission_4_b = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_learning_thought_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_military_theory_innovation = { #军事理论革新
		icon = fortify_malta
		position = 24
		required_missions = { "rig_military_reorganization" }
		trigger = {
			innovativeness = 5
			advisor = army_reformer
		}
		effect = {
			change_innovativeness = -5
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 10
			}
			add_country_modifier = {
				name = rig_military_theory_innovation_modifier
				duration = -1
			}
			country_event = {
				id = rigaExpand.78
			}
			hidden_effect = {
				set_country_flag = rig_military_theory_innovation_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_4_c = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_uniform_oreder_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_military_organization_reform = { #军事组织改革
		icon = take_the_littoral
		position = 26
		required_missions = { "rig_military_theory_innovation" }
		trigger = {
			innovativeness = 5
			advisor = quartermaster
		}
		effect = {
			change_innovativeness = -5
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 10
			}
			add_country_modifier = {
				name = rig_military_organization_reform_modifier
				duration = -1
			}
			country_event = {
				id = rigaExpand.79
			}
			hidden_effect = {
				set_country_flag = rig_military_organization_reform_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_4_d = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_border_brave_army_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_military_joint_exercise = { #联合军事操练
		icon = friends_in_high_places
		position = 28
		required_missions = { "rig_military_organization_reform" }
		trigger = {
			innovativeness = 5
			advisor = siege_engineer
		}
		effect = {
			change_innovativeness = -5
			add_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 10
			}
			country_event = {
				id = rigaExpand.80
			}
			hidden_effect = {
				set_country_flag = rig_military_joint_exercise_flag
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_5_b_mission_4_e = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_military_joint_exercise_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_treatise_on_campaigns = { #战略论
		icon = mission_plc_edict_education
		position = 30
		required_missions = { 
			"rig_military_joint_exercise" 
			"rig_border_brave_army"
		}
		trigger = {
			has_government_power = {
				mechanic_type = rig_military_reform_mechanic
				power_type = rig_military_reform
				value = 100
			}
		}
		effect = {
			country_event = {
				id = rigaExpand.81
			}
		}
	}
}
rig_main_6_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		has_country_flag = rig_statute_of_religious_unity_flag
		has_country_flag = rig_concerning_civil_government_flag
		has_country_flag = rig_treatise_on_campaigns_flag
		NOT = { map_setup = map_setup_random }
		riga_first_mission_tree_common_trigger = yes
	}
	has_country_shield = yes

	rig_be_able_but_modest = { #和光同尘
		icon = renaissance_city
		position = 31
		provinces_to_highlight = {
			province_id = 38
		}
		required_missions = {
			"rig_concerning_civil_government" 
			"rig_treatise_on_campaigns"
			"rig_statute_of_religious_unity"
		}
		trigger = {
			38 = {
				owned_by = root
				OR = {
					has_province_modifier = rig_riga_city_size_5
					has_province_modifier = rig_riga_city_size_6
					has_province_modifier = rig_riga_city_size_7
					has_province_modifier = rig_riga_city_size_8
					has_province_modifier = rig_riga_city_size_9
					has_province_modifier = rig_riga_city_size_10
				}
			}
		}
		effect = {
			country_event = {
				id = rigaExpandGlobal.1
			}
		}
	}
}
rig_main_7_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_the_curtain_is_rising = { #大幕渐起
		icon = mission_kon_greatest_power_kongo
		position = 1
		trigger = {
			 
		}
		effect = {
			custom_tooltip = rig_the_curtain_is_rising.tt
		}
	}
	rig_back_on_track = { #重回正轨
		icon = reform_bergordnung
		required_missions = {
			"rig_the_curtain_is_rising"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = scandinavia_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				AND = {
					region = baltic_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				AND = {
					region = poland_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				AND = {
					region = ruthenia_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				AND = {
					region = russia_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
			}
		}
		position = 2
		trigger = {
			adm_power = 50
			papal_influence = 50
			scandinavia_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			baltic_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			poland_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			ruthenia_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			russia_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			exists = RUS
			RUS = {
				is_subject_of = root
			}
			exists = UKR
			UKR = {
				is_subject_of = root
			}
		}
		effect = {
			country_event = {
				id = rigaExpand.110
			}
		} 
	}
	rig_one_size_fits_all = { #万全之策
		icon = expand_the_terraferma
		required_missions = {
			"rig_before_the_soldiers"
			"rig_grain_and_grass_go"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 151
					151 = {
						owner = {
							NOT = {
								has_spy_network_from = {
									who = root
									value = 25
								}
							}
						}
						NOT = {
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				AND = {
					province_id = 379
					379 = {
						owner = {
							NOT = {
								has_spy_network_from = {
									who = root
									value = 25
								}
							}
						}
						NOT = {
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				AND = {
					province_id = 2313
					2313 = {
						owner = {
							NOT = {
								has_spy_network_from = {
									who = root
									value = 25
								}
							}
						}
						NOT = {
							riga_subject_of_subject_owned_land = { who = root }
						}
					}
				}
				# AND = {
				# 	province_id = 464
				# 	464 = {
				# 		owner = {
				# 			NOT = {
				# 				has_spy_network_from = {
				# 					who = root
				# 					value = 50
				# 				}
				# 			}
				# 		}
				# 		NOT = {
				# 			riga_subject_of_subject_owned_land = { who = root }
				# 		}
				# 	}
				# }
				# AND = {
				# 	province_id = 1082
				# 	1082 = {
				# 		owner = {
				# 			NOT = {
				# 				has_spy_network_from = {
				# 					who = root
				# 					value = 50
				# 				}
				# 			}
				# 		}
				# 		NOT = {
				# 			riga_subject_of_subject_owned_land = { who = root }
				# 		}
				# 	}
				# }
				# AND = {
				# 	province_id = 454
				# 	454 = {
				# 		owner = {
				# 			NOT = {
				# 				has_spy_network_from = {
				# 					who = root
				# 					value = 50
				# 				}
				# 			}
				# 		}
				# 		NOT = {
				# 			riga_subject_of_subject_owned_land = { who = root }
				# 		}
				# 	}
				# }
				# AND = {
				# 	province_id = 1075
				# 	1075 = {
				# 		owner = {
				# 			NOT = {
				# 				has_spy_network_from = {
				# 					who = root
				# 					value = 50
				# 				}
				# 			}
				# 		}
				# 		NOT = {
				# 			riga_subject_of_subject_owned_land = { who = root }
				# 		}
				# 	}
				# }
				# AND = {
				# 	province_id = 358
				# 	358 = {
				# 		owner = {
				# 			NOT = {
				# 				has_spy_network_from = {
				# 					who = root
				# 					value = 50
				# 				}
				# 			}
				# 		}
				# 		NOT = {
				# 			riga_subject_of_subject_owned_land = { who = root }
				# 		}
				# 	}
				# }
			}
		}
		position = 4
		trigger = {
			151 = {
				if = {
					limit = { 
						owner = {
							is_subject = yes
						}
					}
					OR = {
						owner = {
							overlord = {
								has_spy_network_from = {
									who = root
									value = 25
								}
							}
						}
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				else = {
					OR = {
						owner = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
			}
			
			379 = {
				if = {
					limit = { 
						owner = {
							is_subject = yes
						}
					}
					OR = {
						owner = {
							overlord = {
								has_spy_network_from = {
									who = root
									value = 25
								}
							}
						}
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				else = {
					OR = {
						owner = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
			}
			2313 = {
				if = {
					limit = { 
						owner = {
							is_subject = yes
						}
					}
					OR = {
						owner = {
							overlord = {
								has_spy_network_from = {
									who = root
									value = 25
								}
							}
						}
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				else = {
					OR = {
						owner = {
							has_spy_network_from = {
								who = root
								value = 25
							}
						}
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
			}
			# 464 = {
			# 	OR = {
			# 		owner = {
			# 			has_spy_network_from = {
			# 				who = root
			# 				value = 50
			# 			}
			# 		}
			# 		riga_subject_of_subject_owned_land = { who = root }
			# 	}
			# }
			# 1082 = {
			# 	OR = {
			# 		owner = {
			# 			has_spy_network_from = {
			# 				who = root
			# 				value = 50
			# 			}
			# 		}
			# 		riga_subject_of_subject_owned_land = { who = root }
			# 	}
			# }
			# 454 = {
			# 	OR = {
			# 		owner = {
			# 			has_spy_network_from = {
			# 				who = root
			# 				value = 50
			# 			}
			# 		}
			# 		riga_subject_of_subject_owned_land = { who = root }
			# 	}
			# }
			# 1075 = {
			# 	OR = {
			# 		owner = {
			# 			has_spy_network_from = {
			# 				who = root
			# 				value = 50
			# 			}
			# 		}
			# 		riga_subject_of_subject_owned_land = { who = root }
			# 	}
			# }
			# 419 = {
			# 	OR = {
			# 		owner = {
			# 			has_spy_network_from = {
			# 				who = root
			# 				value = 50
			# 			}
			# 		}
			# 		riga_subject_of_subject_owned_land = { who = root }
			# 	}
			# }
			# 358 = {
			# 	OR = {
			# 		owner = {
			# 			has_spy_network_from = {
			# 				who = root
			# 				value = 50
			# 			}
			# 		}
			# 		riga_subject_of_subject_owned_land = { who = root }
			# 	}
			# }
			papal_influence = 50
		}
		effect = {
			add_papal_influence = -50
			151 = {
				add_permanent_claim = root
			}
			379 = {
				add_permanent_claim = root
			}
			2313 = {
				add_permanent_claim = root
			}
			# 464 = {
			# 	add_permanent_claim = root
			# }
			# 1082 = {
			# 	add_permanent_claim = root
			# }
			# 454 = {
			# 	add_permanent_claim = root
			# }
			# 1075 = {
			# 	add_permanent_claim = root
			# }
			# 419 = {
			# 	add_permanent_claim = root
			# }
			# 358 = {
			# 	add_permanent_claim = root
			# }
		} 
	}
	rig_tver_fulcrum = { #特维尔支点
		icon = mission_imperial_cities
		position = 5
		required_missions = {
			"rig_one_size_fits_all"
		}
		provinces_to_highlight = {
			province_id = 294
		}
		trigger = {
			294 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			294 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				change_trade_goods = paper
			}
		}
	}
	rig_be_ready_for_battle = { #枕戈待旦
		icon = unite_the_realm
		position = 6
		required_missions = {
			"rig_tver_fulcrum"
			"rig_Kiev_fulcrum"
			"rig_krakow_fulcrum"
		}
		trigger = {
			OR = {
				army_size_percentage = 0.8
				army_size = 300
			}
			land_maintenance = 1
		}
		effect = {
			country_event = {
				id = rigaExpand.111
			}
		}
	}
}
rig_main_7_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_expand_stockholm = { #发展斯德哥尔摩
		icon = mission_expand_into_the_forest
		position = 1
		provinces_to_highlight = {
			province_id = 1
		}
		trigger = {
			1 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			1 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_londe = { #发展隆德
		icon = mission_the_sound_toll
		position = 2
		provinces_to_highlight = {
			province_id = 6
		}
		trigger = {
			6 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			6 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
				center_of_trade = 1
			}
		}
	}
}

rig_main_7_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_expand_moscow = { #发展莫斯科
		icon = mission_saint_basils_cathedral
		position = 1
		provinces_to_highlight = {
			province_id = 295
		}
		trigger = {
			295 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			295 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_smolensk = { #发展斯摩棱斯克
		icon = mission_rb_renovate_oxbridge
		position = 2
		provinces_to_highlight = {
			province_id = 293
		}
		trigger = {
			293 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			293 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_before_the_soldiers = { #兵马未动
		icon = the_italian_league
		position = 3
		required_missions = {
			"rig_back_on_track"
		}
		provinces_to_highlight = {
			riga_subject_of_subject_owned_land = { who = root }
			OR = {
				AND = {
					province_id = 8
					NOT = {
						OR = {
							has_great_project = {
								type = falun_copper_mine
								tier = 2
							}
							has_building = weapons
							has_production_building_trigger = yes
						}
					}
				}
				AND = {
					OR = {
						trade_goods = copper
						trade_goods = iron
					}
					NOT = {
						has_building = weapons
					}
				}
			}
		}
		trigger = {
			8 = {
				riga_subject_of_subject_owned_land = { who = root }
				has_great_project = {
					type = falun_copper_mine
					tier = 2
				}
				has_building = weapons
				has_production_building_trigger = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				riga_subject_of_subject_owned_land = { who = root }
				OR = {
					AND = {
						trade_goods = copper
						has_building = weapons
					}
					AND = {
						trade_goods = iron
						has_building = weapons
					}
				}
				value = 15
			}
			# custom_trigger_tooltip = {
			# 	tooltip = rig_before_the_soldiers_trigger.tt
			# 	all_province = {
			# 		OR = {
			# 			AND = {
			# 				riga_subject_of_subject_owned_land = { who = root }
			# 				OR = {
			# 					AND = {
			# 						trade_goods = copper
			# 						has_building = weapons
			# 					}
			# 					AND = {
			# 						trade_goods = iron
			# 						has_building = weapons
			# 					}
			# 					NOT = {
			# 						OR = {
			# 							trade_goods = copper
			# 							trade_goods = iron
			# 						}
			# 					}
			# 				}
			# 			}
			# 			NOT = {
			# 				riga_subject_of_subject_owned_land = { who = root }
			# 			}
			# 		}
			# 	}
			# }
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.19
			}
		}
	}
	rig_Kiev_fulcrum = { #基辅支点
		icon = mission_develop_kiev
		position = 5
		required_missions = {
			"rig_one_size_fits_all"
		}
		provinces_to_highlight = {
			province_id = 280
		}
		trigger = {
			280 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			280 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				change_trade_goods = paper
			}
		}
	}
}
rig_main_7_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_expand_volhynia = { #发展沃里尼亚
		icon = develop_our_capital
		position = 1
		provinces_to_highlight = {
			province_id = 279
		}
		trigger = {
			279 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			279 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_podolia = { #发展波多里亚
		icon = mission_develop_visby
		position = 2
		provinces_to_highlight = {
			province_id = 281
		}
		trigger = {
			281 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			281 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
				center_of_trade = 1
			}
		}
	}
	rig_grain_and_grass_go = { #粮草先行
		icon = mission_expel_the_moriscos
		position = 3
		required_missions = {
			"rig_back_on_track"
		}
		provinces_to_highlight = {
			riga_subject_of_subject_owned_land = { who = root }
			#region = baltic_region
			OR = {
				trade_goods = livestock
				trade_goods = grain
			}
			NOT = {
				OR = {
					has_building = soldier_households
					has_building = farm_estate
				}
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				riga_subject_of_subject_owned_land = { who = root }
				OR = {
					AND = {
						trade_goods = livestock
						OR = {
							has_building = soldier_households
							has_building = farm_estate
						}
					}
					AND = {
						trade_goods = grain
						OR = {
							has_building = soldier_households
							has_building = farm_estate
						}
					}
				}
				value = 30
			}
			# custom_trigger_tooltip = {
			# 	tooltip = rig_grain_and_grass_go_trigger.tt
			# 	all_province = {
			# 		OR = {
			# 			AND = {
			# 				region = baltic_region
			# 				riga_subject_of_subject_owned_land = { who = root }
			# 				OR = {
			# 					AND = {
			# 						trade_goods = livestock
			# 						OR = {
			# 							has_building = soldier_households
			# 							has_building = farm_estate
			# 						}
			# 					}
			# 					AND = {
			# 						trade_goods = grain
			# 						OR = {
			# 							has_building = soldier_households
			# 							has_building = farm_estate
			# 						}
			# 					}
			# 					NOT = {
			# 						OR = {
			# 							trade_goods = grain
			# 							trade_goods = livestock
			# 						}
			# 					}
			# 				}
			# 			}
			# 			NOT = {
			# 				riga_subject_of_subject_owned_land = { who = root }
			# 			}
			# 			NOT = {
			# 				region = baltic_region
			# 			}
			# 		}
			# 	}
			# }
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.20
			}
		}
	}
	rig_krakow_fulcrum	= { #克拉科夫支点
		icon = mission_claim_hispaniola
		position = 5
		required_missions = {
			"rig_one_size_fits_all"
		}
		provinces_to_highlight = {
			province_id = 262
		}
		trigger = {
			262 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			262 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				change_trade_goods = paper
			}
		}
	}
}
rig_main_7_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
	}
	has_country_shield = yes
	rig_expand_warsaw = { #发展华沙
		icon = mission_eastern_european_city
		position = 1
		provinces_to_highlight = {
			province_id = 257
		}
		trigger = {
			257 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			257 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_posen = { #发展波兹南
		icon = mission_early_modern_university
		position = 2
		provinces_to_highlight = {
			province_id = 254
		}
		trigger = {
			254 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			254 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
				center_of_trade = 1
			}
		}
	}
}
rig_main_8_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_be_ready_for_battle_flag
	}
	has_country_shield = yes
	rig_lift_the_curtain = { #揭开帷幕
		icon = counter_reformation
		position = 7
		required_missions = {
			"rig_be_ready_for_battle"
		}
		trigger = {
			is_at_war = no
		}
		effect = {
			hidden_effect = {
				set_country_flag = rig_lift_the_curtain_flag
			}
			swap_non_generic_missions = yes
			if = {
				limit = { 
					has_country_flag = begin_crusade_of_the_far_east
				}
				hidden_effect = {
					complete_mission = rig_repeat_the_banners
				}
			}
			else_if = {
				limit = { 
					has_country_flag = begin_crusade_of_the_sourth
				}
				hidden_effect = {
					complete_mission = rig_dust_off
				}
			}
		}
	}
}
rig_main_9_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_lift_the_curtain_flag
	}
	rig_new_world_mission_act = { #新世界宣教条例
		icon = counter_reformation
		position = 8
		required_missions = {
			"rig_lift_the_curtain"
		}
		provinces_to_highlight = {
			owned_by = RGL
		}
		trigger = {
			exists = RGL
			RGL = {
				guaranteed_by = root
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.22
			}
		}
	}
	rig_expansion_of_the_baltic_shipbuilding = { #发展波罗的海造船业
		icon = mission_shipyards_of_gujarat
		position = 9
		provinces_to_highlight = {
			OR = {
				AND = {
					region = baltic_region
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				AND = {
					area = gotaland_area
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				AND = {
					area = ostra_svealand_area
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				AND = {
					area = norrland_area
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				AND = {
					area = bothnia_area
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				AND = {
					area = finland_area
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
				AND = {
					area = karelia_area
					has_port = yes
					NOT = {
						OR = {
							has_building = shipyard
							has_building = grand_shipyard
						}
					}
				}
			}
		}
		trigger = {
			baltic_region = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			gotaland_area = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			ostra_svealand_area = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			norrland_area = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			bothnia_area = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			finland_area = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			karelia_area = {
				type = all
				OR = {
					AND = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
		}
		effect = {
			38 = {
				add_province_modifier = {
					name = rig_a_thriving_shipbuilding_industry
					duration = -1
				}
			}
			custom_tooltip = rig_expansion_of_the_baltic_shipbuilding.tt
			hidden_effect = {
				baltic_region = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
						NOT = {
							province_id = 38
						}
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
				gotaland_area = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
				ostra_svealand_area = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
				norrland_area = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
				bothnia_area = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
				finland_area = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
				karelia_area = {
					limit = {
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
			}
		}
	}
	rig_formation_of_the_riga_combined_fleet = { #组建里加联合舰队
		icon = mission_pirate_fleet
		position = 10
		required_missions = {
			"rig_expansion_of_the_baltic_shipbuilding"
		}
		trigger = {
			OR = {
				navy_size = 200
				navy_size_percentage = 0.8
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.26
			}
		}
	}
	rig_formation_of_black_sea_fleet = { #拓展黑海港口
		icon = mission_grand_bengali_shipyards
		position = 11
		required_missions = {
			"rig_formation_of_the_riga_combined_fleet"
		}
		provinces_to_highlight = {
			region = crimea_region
			NOT = {
				has_shipyard_building_trigger = yes
			}
			riga_subject_of_subject_owned_land = { who = root }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = crimea_region
				value = 5
				riga_subject_of_subject_owned_land = { who = root }
				has_shipyard_building_trigger = yes
			}
			286 = {
				riga_subject_of_subject_owned_land = { who = root }
				has_shipyard_building_trigger = yes
			}
			2410 = {
				riga_subject_of_subject_owned_land = { who = root }
				has_shipyard_building_trigger = yes
			}
		}
		effect = {
			286 = {
				change_trade_goods = naval_supplies
				add_province_modifier = {
					name = rig_a_thriving_shipbuilding_industry
					duration = -1
				}
			}
			2410 = {
				change_trade_goods = naval_supplies
				add_province_modifier = {
					name = rig_a_thriving_shipbuilding_industry
					duration = -1
				}
			}
			custom_tooltip = rig_formation_of_black_sea_fleet.tt
			hidden_effect = {
				crimea_region = {
					limit = {
						has_shipyard_building_trigger = yes
						riga_subject_of_subject_owned_land = { who = root }
						NOT = {
							OR = {
								province_id = 286
								province_id = 2410
							}
						}
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
				}
			}
		}
	}
}
rig_main_9_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_lift_the_curtain_flag
		has_country_flag = begin_crusade_of_the_far_east
	}
	has_country_shield = yes
	rig_repeat_the_banners = { #重整旌旗
		icon = the_holy_league
		position = 3
		required_missions = {
			"rig_back_on_track"
		}
		trigger = {
			
		}
		effect = {
			
		}
	}
	rig_far_east_area = { #远东战略
		icon = mission_invade_the_deccan_ori
		position = 8
		required_missions = {
			"rig_repeat_the_banners"
			"rig_lift_the_curtain"
		}
		trigger = {
			
		}
		effect = {
			custom_tooltip = rig_far_east_area.tt
			hidden_effect = {
				country_event = {
					id = rigaExpand.112
					days = 30
				}
				set_country_flag = rig_far_east_area_flag
			}
		}
	}
}
rig_main_10_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_return_to_the_holy_land_flag
		has_country_flag = rig_great_victory_in_the_east_flag
	}
	has_country_shield = yes
	rig_across_the_bosphorus = { #穿过博斯普鲁斯海峡
		icon = mission_the_bospborus
		position = 11
		required_missions = {
			"rig_formation_of_black_sea_fleet"
		}
		trigger = {
			151 = {
				owned_by = LAE
			}
			treasury = 5000
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.27
			}
		}
	}
}
rig_main_10_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_far_east_area_flag
	}
	has_country_shield = yes
	rig_be_the_first = { #首当其冲
		icon = mission_bedouins
		position = 9
		provinces_to_highlight = {
			province_id = 1082
		}
		required_missions = {
			"rig_far_east_area"
		}
		trigger = {
			1082 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			ural_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_over_the_urals = { #翻过乌拉尔山
		icon = mission_unite_west_india
		position = 10
		required_missions = {
			"rig_be_the_first"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 1075
				AND = {
					region = ural_region
					NOT = {
						controlled_by = root
					}
				}
			}
			owner = {
				war_with = root
			}
		}
		trigger = {
			1075 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
			ural_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			west_siberia_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_penetrate_deeply_into = { #深入腹地
		icon = mission_unite_the_deccan
		position = 11
		required_missions = {
			"rig_over_the_urals"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 1075
				AND = {
					region = west_siberia_region
					NOT = {
						controlled_by = root
					}
				}
			}
			owner = {
				war_with = root
			}
		}
		trigger = {
			1075 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
			west_siberia_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
}
rig_main_10_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_far_east_area_flag
	}
	has_country_shield = yes
	rig_second_piece_of_domijo = { #第二块多米若
		icon = mission_non-western_cavalry_raid
		position = 9
		required_missions = {
			"rig_far_east_area"
		}
		provinces_to_highlight = {
			province_id = 464
		}
		trigger = {
			464 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			crimea_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_across_the_caucasus = { #越过高加索
		icon = mission_bijapur_karnatak
		position = 9
		required_missions = {
			"rig_second_piece_of_domijo"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 419
				AND = {
					region = crimea_region
					NOT = {
						controlled_by = root
					}
				}
			}
			owner = {
				war_with = root
			}
		}
		trigger = {
			419 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
			crimea_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			caucasia_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_the_crossroad = { #十字路口
		icon = mission_marathi_fiefs
		position = 11
		required_missions = {
			"rig_across_the_caucasus"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 454
				AND = {
					region = central_asia_region
					NOT = {
						controlled_by = root
					}
					owner = {
						war_with = root
					}
				}
			}
		}
		trigger = {
			454 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
			central_asia_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			central_asia_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_great_victory_in_the_east = { #东方惊雷
		icon = mission_rein_in_the_velamas
		position = 12
		required_missions = {
			"rig_the_crossroad"
			"rig_penetrate_deeply_into"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = central_asia_region
					NOT = {
						owned_by = root
					}
				}
				AND = {
					region = ural_region
					NOT = {
						owned_by = root
					}
				}
				AND = {
					region = west_siberia_region
					NOT = {
						owned_by = root
					}
				}
				AND = {
					region = crimea_region
					NOT = {
						owned_by = root
					}
				}
				AND = {
					region = caucasia_region
					NOT = {
						owned_by = root
					}
				}
			}
		}
		trigger = {
			OR = {
				NOT = {
					exists = GEO
				}
				GEO = {
					is_subject_of = root
				}
			}
			OR =  {
				NOT = {
					exists = TRS
				}
				TRS = {
					is_subject_of = root
				}
			}
			ural_region = {
				type = all
				OR = {
					riga_subject_of_subject_owned_land = { who = root }
					is_empty = yes
				}
			}
			crimea_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = caucasia_region
				value = 15
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = central_asia_region
				value = 25
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = west_siberia_region
				value = 10
			}
			419 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			454 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			1075 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		effect = {
			caucasia_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
					NOT = {
						OR = {
							area = kashgaria_area
							area = tarim_basin_area
							area = shanshan_area
						}
					}
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = GEO
					cede_province = GEO
				}
				else = {
					cede_province = GEO
				}
			}
			RUS = {
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_military_district
					subject = GEO
					reform = yes
				}
			}
			central_asia_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
					NOT = {
						OR = {
							area = kashgaria_area
							area = tarim_basin_area
							area = shanshan_area
						}
					}
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = TRS
					cede_province = TRS
				}
				else = {
					cede_province = TRS
				}
			}
			RUS = {
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_economic_district
					subject = TRS
					reform = yes
				}
			}
			if = {
				limit = { 
					NOT = {
						has_country_flag = begin_crusade_of_the_sourth
					}
				}
				hidden_effect = {
					set_country_flag = begin_crusade_of_the_sourth
					set_country_flag = rig_great_victory_in_the_east_flag
				}
				swap_non_generic_missions = yes
				hidden_effect = {
					complete_mission = rig_dust_off
				}
			}
			else = {
				hidden_effect = {
					set_country_flag = rig_great_victory_in_the_east_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_9_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_lift_the_curtain_flag
		has_country_flag = begin_crusade_of_the_sourth
	}
	has_country_shield = yes
	rig_dust_off = { #拭去尘埃
		icon = shield_of_christendom
		position = 3
		required_missions = {
			"rig_back_on_track"
		}
		trigger = {
			
		}
		effect = {
			
		}
	}
	rig_southern_strategy = { #南部战略
		icon = mission_hagia_sophia
		position = 8
		required_missions = {
			"rig_dust_off"
			"rig_lift_the_curtain"
		}
		trigger = {
			
		}
		effect = {
			custom_tooltip = rig_southern_strategy.tt
			hidden_effect = {
				country_event = {
					id = rigaExpand.113
					days = 30
				}
				set_country_flag = rig_southern_strategy_flag
			}
		}
	}
}
rig_main_10_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_southern_strategy_flag
	}
	has_country_shield = yes
	rig_balkan_tour = { #巴尔干之行
		icon = mission_eyalet_crisis
		position = 9
		required_missions = {
			"rig_southern_strategy"
		}
		provinces_to_highlight = {
			region = balkan_region
			NOT = {
				controlled_by = root
			}
			owner = {
				war_with = root
			}
		}
		trigger = {
			balkan_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.23
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_the_road_to_asia_minor = { #小亚细亚之路
		icon = anatolian_frontier
		position = 10
		required_missions = {
			"rig_balkan_tour"
		}
		provinces_to_highlight = {
			region = anatolia_region
			NOT = {
				controlled_by = root
			}
			owner = {
				war_with = root
			}
		}
		trigger = {
			anatolia_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			if = {
				limit = { 
					exists = LAE
				}
				hudavendigar_area = {
					add_core = LAE
					cede_province = LAE
				}
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_mesopotamia_plain = { #美索布达里亚平原
		icon = mission_the_caucasus_tur
		position = 11
		required_missions = {
			"rig_the_road_to_asia_minor"
		}
		provinces_to_highlight = {
			region = mashriq_region
			NOT = {
				controlled_by = root
			}
			owner = {
				war_with = root
			}
		}
		trigger = {
			mission_completed = rig_liberation_of_jerusalem
			mashriq_region = {
				type = all
				OR = {
					is_empty = yes
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
					owner = {
						NOT = {
							war_with = root
						}
					}
				}
			}
		}
		effect = {
			every_province = {
				limit = {
					is_core = IRQ
					controlled_by = root
				}
				cede_province = IRQ
			}
			every_province = {
				limit = {
					is_core = SYR
					controlled_by = root
				}
				cede_province = SYR
			}
			KOJ = {
				create_subject = {
					subject_type = vassal
					subject = IRQ
				}
				create_subject = {
					subject_type = vassal
					subject = SYR
				}
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
}
rig_main_10_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_southern_strategy_flag
	}
	has_country_shield = yes
	rig_the_city_the_world_desires = { #世界渴望之城
		icon = mission_constantinople
		position = 9
		required_missions = {
			"rig_southern_strategy"
		}
		provinces_to_highlight = {
			province_id = 151
		}
		trigger = {
			151 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			balkan_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_march_on_antioch = { #进军安条克
		icon = mission_the_caucasus_rus
		position = 10
		required_missions = {
			"rig_the_city_the_world_desires"
		}
		provinces_to_highlight = {
			province_id = 2313
		}
		trigger = {
			2313 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			mashriq_region = {
				add_permanent_claim = root
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_liberation_of_jerusalem = { #光复耶路撒冷
		icon = jerusalem
		position = 11
		required_missions = {
			"rig_march_on_antioch"
		}
		provinces_to_highlight = {
			province_id = 379
		}
		trigger = {
			379 = {
				OR = {
					controlled_by = root
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.24
			}
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
		}
	}
	rig_return_to_the_holy_land = { #重回圣地
		icon = convert_the_holy_lands
		position = 12
		required_missions = {
			"rig_liberation_of_jerusalem"
			"rig_mesopotamia_plain"
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = balkan_region
				value = 15
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = anatolia_region
				value = 15
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = mashriq_region
				value = 15
			}
			151 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			2313 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			379 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		effect = {
			add_papal_influence = 200
			custom_tooltip = rig_give_subject_prestige_and_war_exhaustion
			hidden_effect = {
				rig_every_subject_country_effect = {
					effect = "
						add_war_exhaustion = -2
						add_prestige_or_monarch_power = {
							amount = 10
						}
					"
				}
			}
			if = {
				limit = { 
					NOT = {
						has_country_flag = begin_crusade_of_the_far_east
					}
				}
				hidden_effect = {
					set_country_flag = begin_crusade_of_the_far_east
					set_country_flag = rig_return_to_the_holy_land_flag
				}
				swap_non_generic_missions = yes
				hidden_effect = {
					complete_mission = rig_repeat_the_banners
				}
			}
			else = {
				hidden_effect = {
					set_country_flag = rig_return_to_the_holy_land_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_11_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_across_the_bosphorus_flag
	}
	has_country_shield = yes

	rig_steady_front = { #稳固阵线
		icon = defend_the_city
		position = 13
		required_missions = {
			"rig_return_to_the_holy_land"
			"rig_across_the_bosphorus"
			"rig_great_victory_in_the_east"
		}
		trigger = {
			anatolia_region = {
				type = all
				riga_subject_of_subject_owned_land = {
					who = root
				}
			}
			mashriq_region = {
				type = all
				riga_subject_of_subject_owned_land = {
					who = root
				}
			}
			caucasia_region = {
				type = all
				riga_subject_of_subject_owned_land = {
					who = root
				}
			}
			treasury = 5000
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.28
			}
			hidden_effect = {
				set_country_flag = rig_steady_front_flag
			}
		}
	}
}
rig_main_12_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_steady_front_flag
	}
	has_country_shield = yes
	rig_rebuild_antiochus = { #重建安条克
		icon = mission_early_game_buildings
		position = 13
		trigger = {
			2313 = {
				riga_subject_of_subject_owned_land = { who = root }
				religion = root
				development = 20
			}
			treasury = 5000
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.29
			}
		}

	}
}
rig_main_12_mission_1 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_steady_front_flag
	}
	has_country_shield = yes
	rig_rebuild_alexander	= { #复兴亚历山大
		icon = mission_conquer_alexandria
		position = 13
		trigger = {
			358 = {
				riga_subject_of_subject_owned_land = { who = root }
				religion = root
				development = 20
			}
			treasury = 5000
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.30
			}
		}

	}
}
rig_main_12_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_steady_front_flag
	}
	has_country_shield = yes
	rig_the_gift_of_the_nile = { #尼罗河的馈赠
		icon = mission_occupy_alexandria
		position = 14
		required_missions = {
			"rig_steady_front"
		}
		provinces_to_highlight = {
			region = egypt_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			exists = KOJ
			KOJ = {
				is_subject_of = root
			}
			egypt_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			OR = {
				NOT = {
					exists = EGY
				}
				EGY = {
					is_subject_of = root
				}
			}
		}
		effect = {
			egypt_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = EGY
					cede_province = EGY
				}
				else = {
					cede_province = EGY
				}
			}
			KOJ = {
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_economic_district
					subject = EGY
					reform = yes
				}
			}
			hidden_effect = {
				set_country_flag = rig_the_gift_of_the_nile_flag
			}
			if = {
				limit = { 
					has_country_flag = rig_patrol_the_mountains_flag
					has_country_flag = rig_in_the_sand_flag
				}
				custom_tooltip = enable_great_battle_for_maghreb_horn_of_africa_khorasan_flag
				hidden_effect = {
					set_country_flag = enable_great_battle_for_maghreb_horn_of_africa_khorasan_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_12_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_steady_front_flag
	}
	has_country_shield = yes
	rig_in_the_sand = { #于黄沙之中
		icon = mission_into_arabia
		position = 14
		required_missions = {
			"rig_steady_front"
		}
		provinces_to_highlight = {
			region = arabia_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = arabia_region
				value = 25
			}
		}
		effect = {
			arabia_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				add_province_modifier = {
					name = rig_province_adm_integration
					duration = 1825
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = KOJ
					cede_province = KOJ
				}
				else = {
					cede_province = KOJ
				}
			}
			if = {
				limit = { 
					SYR = {
						is_subject_of = KOJ	
					}
				}
				KOJ = {
					inherit = SYR
				}
			}
			if = {
				limit = { 
					IRQ = {
						is_subject_of = KOJ	
					}
				}
				KOJ = {
					inherit = IRQ
				}
			}
			mashriq_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = KOJ
					cede_province = KOJ
				}
				else = {
					cede_province = KOJ
				}
			}
			hidden_effect = {
				set_country_flag = rig_in_the_sand_flag
			}
			if = {
				limit = { 
					has_country_flag = rig_patrol_the_mountains_flag
					has_country_flag = rig_the_gift_of_the_nile_flag
				}
				custom_tooltip = enable_great_battle_for_maghreb_horn_of_africa_khorasan_flag
				hidden_effect = {
					set_country_flag = enable_great_battle_for_maghreb_horn_of_africa_khorasan_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_12_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_steady_front_flag
	}
	has_country_shield = yes
	rig_patrol_the_mountains = { #巡群山之间
		icon = mission_into_persia_1
		position = 14
		required_missions = {
			"rig_steady_front"
		}
		provinces_to_highlight = {
			region = persia_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = persia_region
				value = 25
			}
		}
		effect = {
			persia_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = QOM
					cede_province = QOM
				}
				else = {
					cede_province = QOM
				}
			}
			riga_set_up_special_vassal_effect = {
				type = rig_episcopal_administrative_district
				subject = QOM
				reform = yes
			}
			hidden_effect = {
				set_country_flag = rig_patrol_the_mountains_flag
			}
			if = {
				limit = { 
					has_country_flag = rig_in_the_sand_flag
					has_country_flag = rig_the_gift_of_the_nile_flag
				}
				custom_tooltip = enable_great_battle_for_maghreb_horn_of_africa_khorasan_flag
				hidden_effect = {
					set_country_flag = enable_great_battle_for_maghreb_horn_of_africa_khorasan_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_13_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_the_gift_of_the_nile_flag
		has_country_flag = rig_in_the_sand_flag
		has_country_flag = rig_patrol_the_mountains_flag
	}
	has_country_shield = yes
	rig_the_legacy_of_the_french_crusaders = { #法兰西十字军的遗产
		icon = crusader_fleet
		position = 15
		required_missions = {
			"rig_the_gift_of_the_nile"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = maghreb_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				province_id = 341
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = maghreb_region
				value = 25
			}
			341 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			OR = {
				NOT = {
					exists = CDC
				}
				CDC = {
					is_subject_of = root
				}
			}
		}
		effect = {
			maghreb_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = CDC
					cede_province = CDC
				}
				else = {
					cede_province = CDC
				}
			}
			create_subject = {
				subject_type = rig_episcopal_military_district
				subject = CDC
			}
			CDC = {
				add_government_reform = rig_theocracy_mechanic
				add_government_reform = rig_crusader_states
			}
		}
	}
	rig_western_frontier = { #边陲重地
		icon = mission_arabian_fort
		position = 16
		required_missions = {
			"rig_the_legacy_of_the_french_crusaders"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = maghreb_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				province_id = 1110
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = maghreb_region
				value = 50
			}
			1110 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		effect = {
			maghreb_region = {
				add_province_modifier = {
					name = rig_province_adm_integration
					duration = 1825
				}
			}
		}
	}
	rig_the_fire_of_africa = { #阿非利加之火
		icon = mission_mal_west_african_great_power
		position = 17
		required_missions = {
			"rig_western_frontier"
		}
		provinces_to_highlight = {
			region = maghreb_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			maghreb_region = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
			341 = {
				religion = root
				has_tax_building_trigger = yes
			}
			treasury = 5000
		}
		effect = {
			add_treasury = -5000
			sahel_region = {
				discover_country = root
			}
			maghreb_region = {
				add_devastation = -20
			}
			341 = {
				change_trade_goods = paper
				add_base_tax = 3
				add_base_production = 3
				add_base_manpower = 3
				add_reform_center = catholic
			}
			custom_tooltip = rig_the_fire_of_africa.tt
			hidden_effect = {
				maghreb_region = {
					limit = {
						trade_goods = slaves
					}
					random_list = {
						2 = {
							change_trade_goods = livestock
						}
						2 = {
							change_trade_goods = grain
						}
						2 = {
							change_trade_goods = salt
						}
						2 = {
							change_trade_goods = wool
						}
						1 = {
							change_trade_goods = spices
						}
						1 = {
							change_trade_goods = sugar
						}
					}
				}
			}
		}
	}
}
rig_main_13_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_the_gift_of_the_nile_flag
		has_country_flag = rig_in_the_sand_flag
		has_country_flag = rig_patrol_the_mountains_flag
	}
	has_country_shield = yes
	rig_to_solomon_land = { #所罗门之地
		icon = sweep_the_po
		position = 15
		required_missions = {
			"rig_in_the_sand"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = horn_of_africa_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				province_id = 1227
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = horn_of_africa_region
				value = 30
			}
			1227 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			OR = {
				NOT = {
					exists = ETH
				}
				ETH = {
					is_subject_of = root
				}
			}
		}
		effect = {
			horn_of_africa_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				if = {
					limit = { 
						is_core = owner
					}
					add_core = ETH
					cede_province = ETH
				}
				else = {
					cede_province = ETH
				}
			}
			riga_set_up_special_vassal_effect = {
				type = rig_episcopal_administrative_district
				subject = ETH
				reform = yes
			}
		}
	}
	rig_uniting_the_horn_of_africa = { #统一非洲之角
		icon = mission_west_african_ports
		position = 16
		required_missions = {
			"rig_to_solomon_land"
		}
		provinces_to_highlight = {
			region = horn_of_africa_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			horn_of_africa_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			1227 = {
				religion = root
				has_tax_building_trigger = yes
			}
			treasury = 5000
			
		}
		effect = {
			add_treasury = -5000
			horn_of_africa_region = {
				add_devastation = -20
			}
			1227 = {
				change_trade_goods = paper
				add_base_tax = 3
				add_base_production = 3
				add_base_manpower = 3
				add_reform_center = catholic
			}
			custom_tooltip = rig_uniting_the_horn_of_africa.tt
			hidden_effect = {
				horn_of_africa_region = {
					limit = {
						trade_goods = slaves
					}
					random_list = {
						4 = {
							change_trade_goods = livestock
						}
						4 = {
							change_trade_goods = grain
						}
						1 = {
							change_trade_goods = coffee
						}
						1 = {
							change_trade_goods = gold
						}
					}
				}
			}
		}
	}
	rig_deep_in_the_forest = { #密林深处
		icon = mission_into_africa
		position = 17
		required_missions = {
			"rig_uniting_the_horn_of_africa"
		}
		provinces_to_highlight = {
			OR = {
				superregion = southern_africa_superregion
				superregion = africa_superregion
			}
			is_empty = yes
		}
		trigger = {
			treasury = 2500
			dip_power = 250
			mil_power = 100
			if = {
				limit = { 
					exists = KON
				}
				knows_country = KON
			}
			exists = ETH
			ETH = {
				is_subject_of = root
			}
		}
		effect = {
			add_treasury = -2500
			add_dip_power = -250
			add_mil_power = -100
			if = {
				limit = { 
					exists = KON
				}
				add_casus_belli = {
					type = cb_vassalize_mission
					target = KON
				}
			}
			ETH = {
				add_country_modifier = {
					name = rig_heading_for_the_dense_forest
					duration = 18250
				}
			}
		}
	}
	rig_western_passage = { #西方通道
		icon = mission_south_african_bases
		position = 18
		required_missions = {
			"rig_deep_in_the_forest"
			"rig_gold_miner"
		}
		provinces_to_highlight = {
			superregion = europe_superregion
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			dip_power = 300
			treasury = 2500
		}
		effect = {
			add_dip_power = -300
			add_treasury = -2500
			custom_tooltip = enable_great_battle_for_europe
			hidden_effect = {
				set_country_flag = enable_great_battle_for_europe_flag
				set_country_flag = rig_western_passage_flag
			}
			if = {
				limit = { 
					has_country_flag = rig_eastern_entrance_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_13_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_the_gift_of_the_nile_flag
		has_country_flag = rig_in_the_sand_flag
		has_country_flag = rig_patrol_the_mountains_flag
	}
	has_country_shield = yes
	rig_along_the_gulf_of_aden = { #沿着亚丁湾...
		icon = mission_conquer_aden
		position = 15
		required_missions = {
			"rig_in_the_sand"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 388
				AND = {
					OR = {
						area = yemen_area
						area = tihama_al_yemen_area
						area = aussa_area
					}
					NOT = {
						has_shipyard_building_trigger = yes
					}
					has_port = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
				AND = {
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
					OR = {
						area = yemen_area
						area = tihama_al_yemen_area
						area = aussa_area
					}
				}
			}
		}
		trigger = {
			388 = {
				has_shipyard_building_trigger = yes
				has_trade_building_trigger = yes
			}
			yemen_area = {
				type = all
				OR = {
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			tihama_al_yemen_area = {
				type = all
				OR = {
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			aussa_area = {
				type = all
				OR = {
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
		}
		effect = {
			388 = {
				add_base_production = 2
				add_province_modifier = {
					name = rig_a_thriving_shipbuilding_industry
					duration = -1
				}
			}
			custom_tooltip = rig_along_the_gulf_of_aden.tt
			388 = {
				add_unit_construction = {
					type = light_ship
					amount = 20
					cost = 0
					speed = 0
				}
			}
			hidden_effect = {
				yemen_area = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
						NOT = {
							province_id = 388
						}
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
					add_base_production = 2
				}
				tihama_al_yemen_area = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
					add_base_production = 2
				}
				aussa_area = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
					add_base_production = 2
				}
			}
		}
	}
	rig_islamic_wine = { #“伊斯兰之酒”
		icon = mission_divert_trade_from_bengal
		position = 16
		required_missions = {
			"rig_along_the_gulf_of_aden"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 387
				AND = {
					riga_subject_of_subject_owned_land = { who = root }
					trade_goods = coffee
					NOT = {
						AND = {
							base_production = 6
							has_production_building_trigger = yes
						}
					}
					OR = {
						region = arabia_region
						region = horn_of_africa_region
					}
				}
				AND = {
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
					trade_goods = coffee
					OR = {
						region = arabia_region
						region = horn_of_africa_region
					}
				}
			}
		}
		trigger = {
			387 = {
				has_production_building_trigger = yes
				base_production = 12
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = arabia_region
				value = 3
				trade_goods = coffee
				base_production = 6
				has_production_building_trigger = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = horn_of_africa_region
				value = 3
				trade_goods = coffee
				base_production = 6
				has_production_building_trigger = yes
			}
		}
		effect = {
			387 = {
				add_province_modifier = {
					name = rig_early_coffee_plantations
					duration = -1
				}
			}
			custom_tooltip = rig_islamic_wine.tt
			hidden_effect = {
				arabia_region = {
					limit = {
						trade_goods = coffee
						base_production = 6
						has_production_building_trigger = yes
						NOT = {
							province_id = 387
						}
					}
					add_province_modifier = {
						name = rig_early_coffee_plantations
						duration = -1
					}
				}
				horn_of_africa_region = {
					limit = {
						trade_goods = coffee
						base_production = 6
						has_production_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_early_coffee_plantations
						duration = -1
					}
				}
			}
		}
	}
	rig_gold_miner = { #黄金矿工
		icon = mission_african_gold
		position = 17
		required_missions = {
			"rig_islamic_wine"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 2762
				province_id = 2757
			}
		}
		trigger = {
			exists = ETH
			ETH = {
				is_subject_of = root
			}
			2762 = {
				owned_by = ETH
				base_production = 12
			}
			2757 = {
				owned_by = ETH
				base_production = 12
			}
		}
		effect = {
			add_years_of_income = 10
			ETH = {
				add_country_modifier = {
					name = rig_unified_mining_system
					duration = -1
				}
			}
		}
	}
}
rig_main_13_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_the_gift_of_the_nile_flag
		has_country_flag = rig_in_the_sand_flag
		has_country_flag = rig_patrol_the_mountains_flag
	}
	has_country_shield = yes
	rig_to_hormuz = { #...到霍尔木兹
		icon = mission_steer_trade_to_bengal
		position = 15
		required_missions = {
			"rig_patrol_the_mountains"
		}
		provinces_to_highlight = {
			OR = {
				province_id = 2999
				AND = {
					OR = {
						area = pirate_coast_area
						area = mogostan_area
					}
					NOT = {
						has_shipyard_building_trigger = yes
					}
					has_port = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
				AND = {
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
					OR = {
						area = pirate_coast_area
						area = mogostan_area
					}
				}
			}
		}
		trigger = {
			2999 = {
				has_shipyard_building_trigger = yes
				has_trade_building_trigger = yes
			}
			pirate_coast_area = {
				type = all
				OR = {
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
			mogostan_area = {
				type = all
				OR = {
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					has_port = no
				}
			}
		}
		effect = {
			2999 = {
				add_base_production = 2
				add_province_modifier = {
					name = rig_a_thriving_shipbuilding_industry
					duration = -1
				}
			}
			custom_tooltip = rig_to_hormuz.tt
			2999 = {
				add_unit_construction = {
					type = light_ship
					amount = 20
					cost = 0
					speed = 0
				}
			}
			hidden_effect = {
				pirate_coast_area = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
						NOT = {
							province_id = 388
						}
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
					add_base_production = 2
				}
				mogostan_area = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						has_port = yes
						has_shipyard_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_a_thriving_shipbuilding_industry
						duration = -1
					}
					add_base_production = 2
				}
			}
		}
	}
	rig_mediterranean_granary = { #地中海粮仓
		icon = mission_iroquois_food_surplus
		position = 16
		required_missions = {
			"rig_to_hormuz"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = egypt_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				AND = {
					region = egypt_region
					riga_subject_of_subject_owned_land = { who = root }
					has_terrain = farmlands
					NOT = {
						AND = {
							development = 20
							has_tax_building_trigger = yes
							has_trade_building_trigger = yes
							has_production_building_trigger = yes
						}
					}
				}
			}
		}
		trigger = {
			exists = EGY
			EGY = {
				OR = {
					is_subject_of = root
					AND = {
						is_subject = yes
						overlord = {
							is_subject_of = root
						}
					}
				}
			}
			egypt_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
				OR = {
					AND = {
						has_terrain = farmlands
						development = 20
						has_tax_building_trigger = yes
						has_trade_building_trigger = yes
						has_production_building_trigger = yes
					}
					NOT = {
						has_terrain = farmlands
					}
				}
			}
			362 = {
				owned_by = EGY
				has_manufactory_trigger = yes
			}
			363 = {
				owned_by = EGY
				has_manufactory_trigger = yes
			}
			4316 = {
				owned_by = EGY
				has_manufactory_trigger = yes
			}
			2316 = {
				owned_by = EGY
				has_manufactory_trigger = yes
			}
		}
		effect = {
			316 = {
				add_province_modifier = {
					name = rig_urban_revitalization_plan
					duration = -1
				}
			}
			custom_tooltip = rig_mediterranean_granary.tt
			hidden_effect = {
				egypt_region = {
					limit = {
						development = 20
						has_tax_building_trigger = yes
						has_trade_building_trigger = yes
						has_production_building_trigger = yes
						NOT = {
							province_id = 410
						}
					}
					add_province_modifier = {
						name = rig_urban_revitalization_plan
						duration = -1
					}
				}
			}
			EGY = {
				add_country_modifier = {
					name = rig_egy_mediterranean_granary
					duration = -1
				}
			}
		}
	}
	rig_euphrates_and_tigris_rivers = { #幼发拉底河与底格里斯河
		icon = mission_caribbean_cn
		position = 17
		required_missions = {
			"rig_mediterranean_granary"
		}
		provinces_to_highlight = {
			OR = {
				AND = {
					region = mashriq_region
					NOT = {
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
				AND = {
					region = mashriq_region
					riga_subject_of_subject_owned_land = { who = root }
					has_terrain = farmlands
					NOT = {
						AND = {
							development = 20
							has_tax_building_trigger = yes
							has_trade_building_trigger = yes
							has_production_building_trigger = yes
						}
					}
				}
			}
		}
		trigger = {
			mashriq_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
				OR = {
					AND = {
						has_terrain = farmlands
						development = 20
						has_tax_building_trigger = yes
						has_trade_building_trigger = yes
						has_production_building_trigger = yes
					}
					NOT = {
						has_terrain = farmlands
					}
				}
			}
		}
		effect = {
			410 = {
				add_province_modifier = {
					name = rig_urban_revitalization_plan
					duration = -1
				}
			}
			custom_tooltip = rig_euphrates_and_tigris_rivers.tt
			hidden_effect = {
				mashriq_region = {
					limit = {
						development = 20
						has_tax_building_trigger = yes
						has_trade_building_trigger = yes
						has_production_building_trigger = yes
						NOT = {
							province_id = 410
						}
					}
					add_province_modifier = {
						name = rig_urban_revitalization_plan
						duration = -1
					}
				}
			}
		}
	}
	
}
rig_main_13_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_the_gift_of_the_nile_flag
		has_country_flag = rig_in_the_sand_flag
		has_country_flag = rig_patrol_the_mountains_flag
	}
	has_country_shield = yes
	rig_below_the_junction = { #交汇点之下
		icon = mission_into_persia_2
		position = 15
		required_missions = {
			"rig_patrol_the_mountains"
		}
		provinces_to_highlight = {
			region = khorasan_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			exists = QOM
			QOM = {
				is_subject_of = root
			}
			OR = {
				NOT = {
					exists = AFG
				}
				AFG = {
					is_subject_of = root
				}
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = khorasan_region
				value = 15
			}
		}
		effect = {
			khorasan_region = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				add_province_modifier = {
					name = rig_province_adm_integration
					duration = 1825
				}
			}
			every_province = {
				limit = {
					riga_subject_of_subject_owned_land = { who = root }
					region = khorasan_region
				}
				if = {
					limit = {
						is_core = owner
					}
					add_core = AFG
					cede_province = AFG
				}
				else = {
					cede_province = AFG
				}
			}
			QOM = {
				riga_set_up_special_vassal_effect = {
					type = rig_episcopal_military_district
					subject = AFG
					reform = yes
				}
			}
		}
	}
	rig_gain_a_firm_foothold = { #站稳脚跟
		icon = mission_rb_take_north_india
		position = 16
		required_missions = {
			"rig_below_the_junction"
		}
		provinces_to_highlight = {
			region = khorasan_region
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			khorasan_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
			}
			2226 = {
				province_has_current_tech_fort_trigger = yes
			}
			576 = {
				province_has_current_tech_fort_trigger = yes
			}
			454 = {
				riga_subject_of_subject_owned_land = { who = root }
			}
			treasury = 2500
		}
		effect = {
			add_treasury = -2500
			khorasan_region = {
				add_devastation = -20
			}
			454 = {
				add_base_tax = 3
				add_base_production = 3
				add_base_manpower = 3
				add_reform_center = catholic
			}
		}
	}
	rig_four_way_access = { #四方通达
		icon = mission_central_asian_city
		position = 17
		required_missions = {
			"rig_gain_a_firm_foothold"
		}
		provinces_to_highlight = {
			region = khorasan_region
			trade_goods = cotton
			NOT = {
				AND = {
					has_production_building_trigger = yes
					base_production = 6
				}
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				region = khorasan_region
				value = 5
				trade_goods = cotton
				has_production_building_trigger = yes
				base_production = 6
			}
		}
		effect = {
			custom_tooltip = rig_four_way_access.tt
			hidden_effect = {
				khorasan_region = {
					limit = {
						trade_goods = cotton
						has_production_building_trigger = yes
						base_production = 6
					}
					add_base_manpower = 2
					add_base_tax = 2
				}
			}
		}
	}
	rig_eastern_entrance = { #东部入口
		icon = mission_indian_trade_company
		position = 18
		required_missions = {
			"rig_four_way_access"
			"rig_euphrates_and_tigris_rivers"
		}
		provinces_to_highlight = {
			superregion = india_superregion
			NOT = {
				riga_subject_of_subject_owned_land = { who = root }
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				superregion = india_superregion
				value = 5
			}
			dip_power = 300
			treasury = 2500
		}
		effect = {
			add_dip_power = -300
			add_treasury = -2500
			custom_tooltip = enable_great_battle_for_india
			hidden_effect = {
				set_country_flag = enable_great_battle_for_india_flag
				set_country_flag = rig_eastern_entrance_flag
			}
			if = {
				limit = { 
					has_country_flag = rig_western_passage_flag
				}
				swap_non_generic_missions = yes
			}
		}
	}
}
rig_main_14_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_eastern_entrance_flag
		has_country_flag = rig_western_passage_flag
	}
	has_country_shield = yes
	rig_look_far_into_the_distance = { #目光远眺
		icon = mission_trade_with_cathay
		position = 18
		provinces_to_highlight = {
			if = {
				limit = { 
					exists = RGL
				}
				owned_by = RGL
			}
		}
		trigger = {
			if = {
				limit = { 
					exists = RGL
				}
				RGL = {
					is_subject_of = root
				}
			}
			else = {
				OR = {
					north_america_superregion = {
						type = any
						riga_subject_of_subject_owned_land = { who = root }
					}
					central_america_superregion = {
						type = any
						riga_subject_of_subject_owned_land = { who = root }
					}
					south_america_superregion = {
						type = any
						riga_subject_of_subject_owned_land = { who = root }
					}
					andes_superregion = {
						type = any
						riga_subject_of_subject_owned_land = { who = root }
					}
				}
			}
			
		}
		effect = {
			if = {
				limit = { 
					exists = RGL
					RGL = {
						is_subject_of = root
					}
				}
				custom_tooltip = rig_look_far_into_the_distance.tt
				hidden_effect = {
					set_country_flag = rig_new_world_administration
				}
			}
			else = {
				add_prestige_or_monarch_power = {
					amount = 20
				}
			}
			hidden_effect = {
				set_country_flag = rig_look_far_into_the_distance_flag
			}
			swap_non_generic_missions = yes
		}
	}
}
rig_main_14_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_look_far_into_the_distance_flag
	}
	has_country_shield = yes
	rig_cease_all_activities = { #偃旗息鼓
		icon = mission_book_of_royal_degrees
		position = 19
		required_missions = {
			"rig_look_far_into_the_distance"
		}
		provinces_to_highlight = {
			is_capital = yes
			owner = {
				NOT = {
					OR = {
						is_subject_of_type = rig_trade_city
						is_subject_of_type = tributary_state
					}
				}
				is_subject_of = root
				war_exhaustion = 1
			}
		}
		trigger = {
			NOT = {
				war_exhaustion = 1
			}
			all_subject_country = {
				OR = {
					is_subject_of_type = rig_trade_city
					is_subject_of_type = tributary_state
					NOT = {
						war_exhaustion = 1
					}
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = rig_country_rehabilitate
				duration = 1825
			}
			custom_tooltip = rig_cease_all_activities.tt
			hidden_effect = {
				rig_add_subject_modifier_effect = {
					modifier = rig_country_rehabilitate
					days = 1825
				}
			}
		}
	}
	rig_build_largely = { #大兴土木
		icon = mission_hanseatic_city
		position = 20
		required_missions = {
			"rig_cease_all_activities"
		}
		provinces_to_highlight = {
			province_id = 38
		}
		trigger = {
			38 = {
				OR = {
					has_province_modifier = rig_riga_city_size_7
					has_province_modifier = rig_riga_city_size_8
					has_province_modifier = rig_riga_city_size_9
					has_province_modifier = rig_riga_city_size_10
				}
			}
			has_adm_advisor_3 = architect
		}
		effect = {
			add_years_of_income = -5
			add_country_modifier = {
				name = rig_build_largely_modifier
				duration = 3650
			}
			custom_tooltip = rig_build_largely.tt
			hidden_effect = {
				rig_add_subject_modifier_effect = {
					modifier = rig_build_largely_modifier
					days = 3650
				}
			}
		}
	}
	rig_jerusalem_fulcrum = { #耶路撒冷支点
		icon = mission_pue_sky_city
		position = 21
		required_missions = {
			"rig_build_largely"
		}
		provinces_to_highlight = {
			province_id = 379
		}
		trigger = {
			379 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			379 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				change_trade_goods = paper
				center_of_trade = 1
			}
		}
	}
	rig_kilk_roads = { #丝绸之路
		icon = mission_silk_road
		position = 22
		required_missions = {
			"rig_jerusalem_fulcrum"
			"rig_constantinople_fulcrum"
			"rig_tabriz_fulcrum"
		}
		provinces_to_highlight = {
			region = persia_region
			trade_goods = silk
			NOT = {
				has_manufactory_trigger = yes
			}
		}
		trigger = {
			persia_region = {
				type = all
				riga_subject_of_subject_owned_land = { who = root }
				OR = {
					AND = {
						trade_goods = silk
						has_manufactory_trigger = yes
						has_production_building_trigger = yes
					}
					NOT = {
						trade_goods = silk
					}
				}
			}
			416 = {
				has_manufactory_trigger = yes
				has_production_building_trigger = yes
			}
		}
		effect = {
			416 = {
				add_province_modifier = {
					name = rig_build_silk_farm
					duration = -1
				}
			}
			custom_tooltip = rig_kilk_roads.tt
			hidden_effect = {
				persia_region = {
					limit = {
						trade_goods = silk
						has_manufactory_trigger = yes
						has_production_building_trigger = yes
						NOT = {
							province_id = 416
						}
					}
					add_province_modifier = {
						name = rig_build_silk_farm
						duration = -1
					}
				}
			}
		}
	}
}
rig_main_14_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_look_far_into_the_distance_flag
	}
	has_country_shield = yes
	rig_constantinople_fulcrum = { #君士坦丁堡支点
		icon = mission_expand_inland
		position = 21
		required_missions = {
			"rig_build_largely"
		}
		provinces_to_highlight = {
			province_id = 151
		}
		trigger = {
			151 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			151 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				change_trade_goods = paper
			}
		}
	}
	rig_siberian_trade_route = { #西伯利亚商路
		icon = mission_control_fur_trade
		position = 23
		required_missions = {
			"rig_kilk_roads"
		}
		provinces_to_highlight = {
			region = west_siberia_region
			trade_goods = fur
			NOT = {
				has_manufactory_trigger = yes
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				riga_subject_of_subject_owned_land = { who = root }
				region = west_siberia_region
				value = 5
				trade_goods = fur
				has_manufactory_trigger = yes
				has_production_building_trigger = yes
			}
			1075 = {
				riga_subject_of_subject_owned_land = { who = root }
				has_manufactory_trigger = yes
				has_production_building_trigger = yes
			}
		}
		effect = {
			1075 = {
				add_province_modifier = {
					name = rig_siberian_fur_exchange
					duration = -1
				}
			}
			custom_tooltip = rig_siberian_trade_route.tt
			hidden_effect = {
				persia_region = {
					limit = {
						trade_goods = fur
						has_manufactory_trigger = yes
						has_production_building_trigger = yes
						NOT = {
							province_id = 1075
						}
					}
					add_province_modifier = {
						name = rig_siberian_fur_exchange
						duration = -1
					}
				}
				set_country_flag = rig_siberian_trade_route_flag
			}
			if = {
				limit = {
					has_country_flag = rig_connection_origin_flag
				}
				swap_non_generic_missions = yes
				hidden_effect = {
					complete_mission = rig_accumulate_steadily
					complete_mission = rig_broad_view_about_taking
				}
			}
		}
	}
	rig_expand_ankara = { #发展安卡拉
		icon = alpine_defenses
		position = 24
		provinces_to_highlight = {
			province_id = 326
		}
		trigger = {
			326 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			326 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_adana = { #发展阿达纳
		icon = claim_the_borderlands
		position = 25
		provinces_to_highlight = {
			province_id = 327
		}
		trigger = {
			327 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			327 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
}
rig_main_14_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_look_far_into_the_distance_flag
	}
	has_country_shield = yes
	rig_tabriz_fulcrum = { #大不里士支点
		icon = explore_caribbean
		position = 21
		required_missions = {
			"rig_build_largely"
		}
		provinces_to_highlight = {
			province_id = 416
		}
		trigger = {
			416 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
				development = 35
			}
		}
		effect = {
			416 = {
				add_province_modifier = {
					name = rig_world_city_fulcrum
					duration = -1
				}
				center_of_trade = 1
			}
		}
	}
	rig_connection_origin = { #连接起点
		icon = mission_develop_the_scandes
		position = 23
		required_missions = {
			"rig_kilk_roads"
		}
		provinces_to_highlight = {
			OR = {
				region = scandinavia_region
				region = russia_region
				AND = {
					trade_goods = fur
					NOT = {
						has_manufactory_trigger = yes
					}
				}
				province_id = 33
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				riga_subject_of_subject_owned_land = { who = root }
				region = russia_region
				value = 10
				trade_goods = fur
				has_manufactory_trigger = yes
				has_production_building_trigger = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				riga_subject_of_subject_owned_land = { who = root }
				region = scandinavia_region
				value = 5
				trade_goods = fur
				has_manufactory_trigger = yes
				has_production_building_trigger = yes
			}
			33 = {
				riga_subject_of_subject_owned_land = { who = root }
				has_manufactory_trigger = yes
				has_production_building_trigger = yes
			}
		}
		effect = {
			33 = {
				add_province_modifier = {
					name = rig_siberian_fur_exchange
					duration = -1
				}
			}
			custom_tooltip = rig_connection_origin.tt
			hidden_effect = {
				russia_region = {
					limit = {
						trade_goods = fur
						has_manufactory_trigger = yes
						has_production_building_trigger = yes
						NOT = {
							province_id = 33
						}
					}
					add_province_modifier = {
						name = rig_siberian_fur_exchange
						duration = -1
					}
				}
				scandinavia_region = {
					limit = {
						trade_goods = fur
						has_manufactory_trigger = yes
						has_production_building_trigger = yes
					}
					add_province_modifier = {
						name = rig_siberian_fur_exchange
						duration = -1
					}
				}
				set_country_flag = rig_connection_origin_flag
			}
			if = {
				limit = {
					has_country_flag = rig_siberian_trade_route_flag
				}
				swap_non_generic_missions = yes
				hidden_effect = {
					complete_mission = rig_accumulate_steadily
					complete_mission = rig_broad_view_about_taking
				}
			}
		}
	}
	rig_expand_cairo = { #发展开罗
		icon = develop_provence
		position = 24
		provinces_to_highlight = {
			province_id = 361
		}
		trigger = {
			361 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			361 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_damascus = { #发展大马士革
		icon = fortify_malta
		position = 25
		provinces_to_highlight = {
			province_id = 382
		}
		trigger = {
			382 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			382 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
}
rig_main_15_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_siberian_trade_route_flag
		has_country_flag = rig_connection_origin_flag
	}
	has_country_shield = yes
	rig_everything_is_ready = { #万事俱全
		icon = mission_found_arkhangelsk
		position = 24
		required_missions = {
			"rig_broad_view_about_taking"
			"rig_accumulate_steadily"
			"rig_connection_origin"
			"rig_siberian_trade_route"
		}
		trigger = {
			38 = {
				is_capital_of = root
				OR = {
					has_province_modifier = rig_riga_city_size_9
					has_province_modifier = rig_riga_city_size_10
				}
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.32
			}
			hidden_effect = {
				set_country_flag = rig_everything_is_ready_flag
			}
		}
	}
}
rig_main_15_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_siberian_trade_route_flag
		has_country_flag = rig_connection_origin_flag
	}
	has_country_shield = yes
	rig_broad_view_about_taking = { #博观约取
		icon = found_the_vatican_library
		position = 23
		required_missions = {
			"rig_western_passage"
		}
		trigger = {

		}
		effect = {

		}
	}
}
rig_main_15_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_siberian_trade_route_flag
		has_country_flag = rig_connection_origin_flag
	}
	has_country_shield = yes
	rig_accumulate_steadily = { #厚积薄发
		icon = bibliotheca_corviana
		position = 23
		required_missions = {
			"rig_eastern_entrance"
		}
		trigger = {

		}
		effect = {

		}
	}
}
rig_main_15_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_everything_is_ready_flag
	}
	has_country_shield = yes
	rig_make_the_world_a_city_and_the_city_a_world = { #铸世界为一城铸一城为世界
		icon = EDG_ICON_
		position = 25
		required_missions = {
			"rig_everything_is_ready"
		}
		trigger = {
			38 = {
				has_province_modifier = rig_riga_city_size_10
				has_great_project = {
					type = riga_world_city
					tier = 3
				}
			}
		}
		effect = {
			38 = {
				if = {
					limit = { 
						has_building = fort_15th
					}
					add_building = fort_18th
					
				}
				else_if = {
					limit = { 
						has_building = fort_16th
					}
					add_building = fort_18th
					
				}
				else_if = {
					limit = { 
						has_building = fort_17th
					}
					add_building = fort_18th
					
				}
				add_province_triggered_modifier = rig_riga_ideal_city_complex_modifier
			}
			hidden_effect = {
				country_event = {
					id = RigaExpandSupplement.33
					days = 30
				}
			}
		}
	}
}
rig_main_14_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_look_far_into_the_distance_flag
	}
	has_country_shield = yes
	rig_expand_macedonia = { #发展马其顿
		icon = the_london_steelyard
		position = 24
		provinces_to_highlight = {
			province_id = 148
		}
		trigger = {
			148 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			148 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_athens = { #发展雅典
		icon = reclaim_the_ducal_lands
		position = 25
		provinces_to_highlight = {
			province_id = 146
		}
		trigger = {
			146 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			146 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
}
rig_main_14_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_second_mission_tree_common_trigger = yes
		has_country_flag = rig_look_far_into_the_distance_flag
	}
	has_country_shield = yes
	rig_expand_delanje = { #发展德兰黑
		icon = mission_develop_alhambra
		position = 24
		provinces_to_highlight = {
			province_id = 428
		}
		trigger = {
			428 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			428 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
	rig_expand_isfahan = { #发展伊斯法罕
		icon = mission_raid_on_genoa
		position = 25
		provinces_to_highlight = {
			province_id = 429
		}
		trigger = {
			429 = {
				riga_subject_of_subject_owned_land = { who = root }
				province_has_current_tech_fort_trigger = yes
				has_tax_building_trigger = yes
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_manpower_building_trigger = yes
			}
		}
		effect = {
			429 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = rig_city_expand_project
					duration = -1
				}
			}
		}
	}
}
rig_main_16_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
	}
	has_country_shield = yes

	rig_universal_declaration = { #世界宣言
		icon = catholic_volunteers
		position = 1
		trigger = {
			dip_power = 100
		}
		effect = {
			custom_tooltip = rig_universal_declaration.tt
			hidden_effect = {
				set_country_flag = enable_unconditional_conversion_of_dioceses
				set_country_flag = rig_universal_declaration_flag
				country_event = {
					id = RigaExpandSupplement.34
					days = 3
				}
			}
		}
	}
}
rig_main_17_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
		has_country_flag = rig_universal_declaration_flag
	}
	has_country_shield = yes
	rig_riga_unify_europe_superregion = { #西欧
		icon = mission_european_politics
		position = 2
		provinces_to_highlight = {
			superregion = europe_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			europe_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_china_superregion = { #中华
		icon = sweep_the_po
		position = 4
		provinces_to_highlight = {
			superregion = china_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			china_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_south_america_superregion = { #亚马逊
		icon = mission_colonize_florida
		position = 6
		provinces_to_highlight = {
			superregion = south_america_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			south_america_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_oceania_superregion = { #大洋洲
		icon = conquer_east_francia
		position = 8
		provinces_to_highlight = {
			superregion = oceania_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			oceania_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
}
rig_main_17_mission_1 = {
	slot = 1
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
		has_country_flag = rig_universal_declaration_flag
	}
	has_country_shield = yes
	
	rig_riga_unify_eastern_europe_superregion = { #东欧
		icon = mission_king_of_eastern_europe
		position = 2
		provinces_to_highlight = {
			superregion = eastern_europe_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			eastern_europe_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	
	rig_riga_unify_tartary_superregion = { #鞑靼
		icon = mch_proclaim_later_jin
		position = 4
		provinces_to_highlight = {
			superregion = tartary_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			tartary_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	
	rig_riga_unify_andes_superregion = { #安第斯
		icon = mission_colonize_california
		position = 6
		provinces_to_highlight = {
			superregion = andes_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			andes_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	
	
}
rig_main_17_mission_2 = {
	slot = 2
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
		has_country_flag = rig_universal_declaration_flag
	}
	has_country_shield = yes
	rig_riga_unify_east_indies_superregion = { #东印度
		icon = mission_sail_to_the_east_indies
		position = 3
		provinces_to_highlight = {
			superregion = east_indies_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			east_indies_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_africa_superregion = { #北非
		icon = mission_kon_greatest_power_kongo
		position = 5
		provinces_to_highlight = {
			superregion = africa_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			africa_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_central_america_superregion = { #中美洲
		icon = mission_colonize_the_caribbean
		position = 7
		provinces_to_highlight = {
			superregion = central_america_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			central_america_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
}
rig_main_17_mission_4 = {
	slot = 4
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
		has_country_flag = rig_universal_declaration_flag
	}
	has_country_shield = yes
	rig_riga_unify_persia_superregion = { #波斯
		icon = mission_pf_map_table
		position = 3
		provinces_to_highlight = {
			superregion = persia_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			persia_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	
	rig_riga_unify_southern_africa_superregion = { #南非
		icon = mission_colonize_panama
		position = 5
		provinces_to_highlight = {
			superregion = southern_africa_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			southern_africa_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_near_east_superregion = { #黎凡特
		icon = peace_in_europe
		position = 7
		provinces_to_highlight = {
			superregion = near_east_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			near_east_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
}
rig_main_17_mission_5 = {
	slot = 5
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
		has_country_flag = rig_universal_declaration_flag
	}
	has_country_shield = yes
	rig_riga_unify_india_superregion = { #印度
		icon = mission_indian_empire
		position = 2
		provinces_to_highlight = {
			superregion = india_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			india_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_far_east_superregion = { #远东
		icon = mission_the_chola_conquests
		position = 4
		provinces_to_highlight = {
			superregion = far_east_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			far_east_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
	rig_riga_unify_north_america_superregion = { #北美
		icon = mission_rb_the_thirteen_colonies
		position = 6
		provinces_to_highlight = {
			superregion = north_america_superregion
			OR = {
				NOT = {
					riga_subject_of_subject_owned_land = { who = root }
				}
				is_empty = yes
			}
		}
		trigger = {
			north_america_superregion = {
				type = all
				OR = {
					is_empty = yes
					riga_subject_of_subject_owned_land = { who = root }
				}
			}
		}
		effect = {
			rig_cal_count_for_last_mission = yes
		}
	}
}
rig_main_18_mission_3 = {
	slot = 3
	generic = no
	potential = {
		tag = RIG
		riga_third_mission_tree_common_trigger = yes
		has_country_flag = rig_last_mission_flag
	}
	has_country_shield = yes
	rig_one_country = { #一主一国，一球一教
		icon = spread_piety
		position = 9
		trigger = {
			all_province = {
				OR = {
					is_empty = yes
					AND = {
						riga_subject_of_subject_owned_land = { who = root }
						religion = root
					}
				}
			}
		}
		effect = {
			country_event = {
				id = RigaExpandSupplement.35
			}
			custom_tooltip = rig_one_country.tt
			hidden_effect = {
				every_subject_country = {
					limit = {
						NOT = {
							tag = RGL
						}
					}
					country_event = {
						id = RigaExpandSupplement.36
						days = 1
						random = 30
					}
				}
				if = {
					limit = { 
						exists = RGL
						RGL = {
							is_subject = root
						}
					}
					RGL = {
						every_subject_country = {
							prev = {
								inherit = prev
							}
						}
					}
				}
			}
			override_country_name = WORLD_PEACE_TERRITORY
			if = {
				limit = { 
					exists = RGL
					RGL = {
						is_subject = root
					}
				}
				RGL = {
					override_country_name = WORLD_PEACE_TERRITORY
				}
			}
		}
	}
}