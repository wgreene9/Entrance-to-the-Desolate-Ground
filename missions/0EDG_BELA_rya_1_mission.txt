EDG_BELA_RYA_A_1 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = RYA
		is_subject = no
	}

	EDG_BELA_RYA_A_1_1 = {
		icon = mission_unite_home_region
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			has_regency = no
			if = {
				limit = {
					4116 = { is_core = root }
				}
				4116 = { owned_by = root }
			}
		}

		effect = {
			add_stability = 1
			add_legitimacy = 5
			add_treasury = 50
			country_event = { id = EDG_RYA_events.301 } 
		}
	}

	EDG_BELA_RYA_A_1_3 = {
		icon = mission_empire
		position = 3
		required_missions = { EDG_BELA_RYA_A_2_2 } 
		provinces_to_highlight = {
			area = chernigov_area
			not = { country_or_non_sovereign_subject_holds = root } 
		}

		trigger = {
			chernigov_area = {
				country_or_non_sovereign_subject_holds = root
				type = all
			}
		}

		effect = {
			chernigov_area = { add_core = root } 
			add_legitimacy = 5
			add_prestige_or_monarch_power = { amount = 10 } 
			add_manpower = 2
		}
	}

	EDG_BELA_RYA_A_1_4 = {
		icon = mission_advance_to_the_dnieper
		position = 4
		required_missions = { EDG_BELA_RYA_A_1_3 } 
		provinces_to_highlight = {
			if = {
				limit = { 280 = { owner = { alliance_with = root }  }  } 
				or = {
					province_id = 280
					area = east_dniepr_area
				}
				not = { country_or_non_sovereign_subject_holds = root } 
			}
			else = {
				area = east_dniepr_area
				not = { country_or_non_sovereign_subject_holds = root } 
			}
		}

		trigger = {
			east_dniepr_area = {
				country_or_non_sovereign_subject_holds = root
				type = all
			}
			280 = {
				or = {
					owner = { not = { alliance_with = root }  } 
					owned_by = root
				}
			}
		}

		effect = {
			west_dniepr_area = {
				limit = {
					not = {
						and = {
							is_permanent_claim = root
							is_core = root
						}
					}
				}
				add_permanent_claim = root
			}
			ruthenia_region = {
				limit = {
					not = {
						and = {
							is_permanent_claim = root
							is_core = root
						}
					}
				}
				add_claim = root
			}
			set_country_flag = EDG_rya_zhuangyvan_reform_1flag
			custom_tooltip = EDG_rya_zhuangyvan_reform_1flag_tt
		}
	}

	EDG_BELA_RYA_A_1_5 = {
		icon = mission_sovereign_principality
		position = 5
		required_missions = { EDG_BELA_RYA_A_1_4 } 
		provinces_to_highlight = {
			province_id = 280
			not = { country_or_non_sovereign_subject_holds = root } 
		}

		trigger = {
			280 = {
				or = {
					and = {
						owner = { defensive_war_with = root } 
						controlled_by = root
					}
					country_or_non_sovereign_subject_holds = root
				}
			}
		}

		effect = {
			280 = {
				add_core = root
				cede_province = root
			}
			country_event = { id = EDG_RYA_events.305 }
			set_country_flag = EDG_rya_zhuangyvan_reform_4flag
			custom_tooltip = EDG_rya_zhuangyvan_reform_4flag_tt
		}
	}
}
EDG_BELA_RYA_A_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = RYA
		is_subject = no
	}

	EDG_BELA_RYA_A_2_2 = {
		icon = mission_weather_the_troubles
		position = 2
		required_missions = {
			EDG_BELA_RYA_A_1_1
			EDG_BELA_RYA_A_3_1
		}
		provinces_to_highlight = {  } 

		trigger = {
			is_at_war = no
			stability = 0
		}

		effect = {
			if = {
				limit = {
					KIE = { war_with = VOL } 
					not = { is_year = 1450 } 
				}
				country_event = { id = EDG_RYA_events.309 } 
			}
			if = {
				limit = { exists = CHR } 
				add_casus_belli = {
					type = cb_vassalize_mission
					target = CHR
				}
			}
			add_manpower = 1
		}
	}

	EDG_BELA_RYA_A_2_3 = {
		icon = mission_consolidate_the_state
		position = 3
		required_missions = { EDG_BELA_RYA_A_2_2 } 
		provinces_to_highlight = {
			is_core = root
			not = { owned_by = root } 
		}

		trigger = { all_core_province = { owned_by = root }  } 

		effect = {
			moscow_area = {
				limit = {
					not = {
						and = {
							is_permanent_claim = root
							is_core = root
						}
					}
				}
				add_permanent_claim = root
			}
			oka_area = {
				limit = {
					not = {
						and = {
							is_permanent_claim = root
							is_core = root
						}
					}
				}
				add_permanent_claim = root
			}
		}
	}

	EDG_BELA_RYA_A_2_4 = {
		icon = mission_recruit_streltsy
		position = 4
		required_missions = { EDG_BELA_RYA_A_2_3 } 
		provinces_to_highlight = {  } 

		trigger = { num_of_streltsy = 10 } 

		effect = {
			country_event = { id = EDG_RYA_events.3026 } 
			custom_tooltip = EDG_rya_future_cssjjgg_tt
		}
	}

	EDG_BELA_RYA_A_2_6 = {
		icon = mission_restore_kiev
		position = 6
		required_missions = {
			EDG_BELA_RYA_A_1_5
			EDG_BELA_RYA_A_3_5
		}
		provinces_to_highlight = {  } 

		trigger = {
			custom_trigger_tooltip = {
				tooltip = had_EDG_RYA_fall_disaster_flag_tt
				has_country_flag = had_EDG_RYA_fall_disaster_flag
			}
		} 

		effect = {
			hidden_effect = {
				country_event = {
					id = EDG_RYA_events.3028
				}
			}
			custom_tooltip = EDG_BELA_RYA_A_2_6tt
			override_country_name = Great_Ryanzan_nation
			if = {
				limit = {
					has_custom_ideas = no
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
			swap_non_generic_missions = yes
			change_country_color = {
				color = { 165 200 135 }
			}
		} 
	}
}
EDG_BELA_RYA_A_3 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = RYA
		is_subject = no
	}

	EDG_BELA_RYA_A_3_1 = {
		icon = mission_empire_of_russia
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			has_reform = EDG_BELA_RYA_boyal_landshare_reform
			and = {
				has_estate = estate_nobles
				has_estate_privilege = estate_EDG_rya_tartar_privilege
			}
		}

		effect = {
			add_manpower = 10
			add_treasury = 150
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = 10
			}
		}
	}

	EDG_BELA_RYA_A_3_2 = {
		icon = mission_non-western_cavalry_raid
		position = 2
		required_missions = { EDG_BELA_RYA_A_3_1 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {
			set_variable = {
				which = EDG_rya_army_reform_var
				value = 0
			}
			hidden_effect = {
				set_variable = {
					which = EDG_rya_num_army_reform_var
					value = 0
				}
			}
			custom_tooltip = EDG_rya_army_reform_tt
		}
	}

	EDG_BELA_RYA_A_3_3 = {
		icon = mission_assemble_an_army
		position = 3
		required_missions = { EDG_BELA_RYA_A_3_2 } 
		provinces_to_highlight = {  } 

		trigger = {
			army_size_percentage = 0.9
			army_size = 50
			custom_trigger_tooltip = {
				tooltip = EDG_BELA_RYA_A_3_3_mission_tt
				check_variable = {
					which = EDG_rya_num_army_reform_var
					value = 1
				}
			}
		}

		effect = {
			set_country_flag = EDG_rya_tibajungui_flag
			custom_tooltip = EDG_rya_tibajungui_flag_tt
		} 
	}

	EDG_BELA_RYA_A_3_4 = {
		icon = mission_conquer_moscow
		position = 4
		required_missions = { EDG_BELA_RYA_A_2_3 } 
		provinces_to_highlight = {
			or = {
				area = moscow_area
				area = oka_area
			}
			not = { country_or_non_sovereign_subject_holds = root } 
		}

		trigger = {
			moscow_area = {
				country_or_non_sovereign_subject_holds = root
				type = all
			}
			oka_area = {
				country_or_non_sovereign_subject_holds = root
				type = all
			}
		}

		effect = {
			tver_area = {
				limit = {
					not = {
						and = {
							is_permanent_claim = root
							is_core = root
						}
					}
				}
				add_permanent_claim = root
			}
			hidden_effect = {
				every_province = {
					limit = { country_or_non_sovereign_subject_holds = TVE } 
					add_permanent_claim = root
				}
			}
			russia_region = { add_claim = root }
			set_country_flag = EDG_rya_zhuangyvan_reform_2flag
			custom_tooltip = EDG_rya_zhuangyvan_reform_2flag_tt
		}
	}

	EDG_BELA_RYA_A_3_5 = {
		icon = mission_dethrone_the_rurikovichs
		position = 5
		required_missions = { EDG_BELA_RYA_A_3_4 } 
		provinces_to_highlight = {
			or = {
				area = tver_area
				is_capital_of = TVE
			}
			not = { country_or_non_sovereign_subject_holds = root } 
		}

		trigger = {
			tver_area = {
				country_or_non_sovereign_subject_holds = root
				type = all
			}
			not = { exists = TVE } 
		}

		effect = {
			country_event = { id = EDG_RYA_events.307 }
			set_country_flag = EDG_rya_zhuangyvan_reform_3flag
			custom_tooltip = EDG_rya_zhuangyvan_reform_3flag_tt
		}
	}
}
EDG_BELA_RYA_A_4 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = RYA
		is_subject = no
	}

	EDG_BELA_RYA_A_4_2 = {
		icon = mission_have_two_subjects
		position = 2
		required_missions = { EDG_BELA_RYA_A_3_1 } 
		provinces_to_highlight = {  } 

		trigger = {
			or = {
				QAS = {
					is_subject_of = root
					not = { liberty_desire = 5 } 
				}
				not = { exists = QAS } 
			}
		}

		effect = {
			add_prestige = 5
			if = {
				limit = { exists = QAS } 
				inherit = QAS
			}
			custom_tooltip = EDG_rya_sarai_declare_war_tt
			if = {
				limit = { 466 = { owner = { is_nomad = yes }  }  } 
				hidden_effect = { 466 = { owner = { country_event = { id = EDG_RYA_events.3021 }  }  }  } 
			}
			custom_tooltip = EDG_rya_get_tartar_claim_tt
			hidden_effect = {
				tambov_area = { add_claim = root } 
				sloboda_ukraine_area = { add_claim = root } 
				crimea_region = { add_claim = root } 
				ural_region = {
					limit = {
						not = { area = kama_area } 
						not = { area = galich_area } 
						not = { area = perm_area } 
						not = { area = ural_area } 
					}
					add_claim = root
				}
				ural_region = {
					limit = { not = { has_discovered = root }  } 
					discover_country = root
				}
				central_asia_region = {
					limit = { not = { has_discovered = root }  } 
					discover_country = root
				}
				west_siberia_region = {
					limit = { not = { has_discovered = root }  } 
					discover_country = root
				}
				east_siberia_region = {
					limit = { not = { has_discovered = root }  } 
					discover_country = root
				}
				mongolia_region = {
					limit = { not = { has_discovered = root }  } 
					discover_country = root
				}
				manchuria_region = {
					limit = { not = { has_discovered = root }  } 
					discover_country = root
				}
			}
		}
	}

	EDG_BELA_RYA_A_4_4 = {
		icon = mission_mal_subjugate_zaf
		position = 4
		required_missions = { EDG_BELA_RYA_A_4_2 } 
		provinces_to_highlight = {
			province_id = 466
			not = {
				or = {
					owned_by = root
					and = {
						owner = { war_with = root } 
						controlled_by = root
					}
				}
			}
		}

		trigger = {
			if = {
				limit = { 466 = { not = { owned_by = root }  }  } 
				466 = {
					owner = { war_with = root } 
					controlled_by = root
				}
			}
			else = { 466 = { owned_by = root }  } 
		}

		effect = {
			if = {
				limit = { 466 = { owned_by = root }  } 
				add_prestige = 20
				add_legitimacy = 5
			}
			else = { country_event = { id = EDG_RYA_events.3022 }  } 
			custom_tooltip = EDG_rya_get_tartar_claim_2_tt
			hidden_effect = {
				crimea_region = { add_permanent_claim = root } 
				ural_region = { add_claim = root } 
				ural_region = {
					limit = {
						not = { area = kama_area } 
						not = { area = galich_area } 
						not = { area = perm_area } 
						not = { area = ural_area } 
					}
					add_permanent_claim = root
				}
				balchasj_area = { add_claim = root } 
				kazakhstan_area = { add_claim = root } 
				kyzylkum_area = { add_claim = root } 
				lower_yik_area = { add_claim = root } 
				nogai_area = { add_claim = root } 
				syr_darya_area = { add_claim = root } 
			}
		}
	}

	EDG_BELA_RYA_A_4_5 = {
		icon = mission_have_two_subjects
		position = 5
		required_missions = {
			EDG_BELA_RYA_A_4_4
			EDG_BELA_RYA_A_5_4
		}
		provinces_to_highlight = {
			if = {
				limit = {
					root = {
						not = {
							num_of_owned_provinces_with = {
								value = 15
								culture_group = tartar
								has_terrain = steppe
								has_owner_accepted_culture = yes
								not = { unrest = 0 } 
							}
						}
					}
				}
				culture_group = tartar
				has_terrain = steppe
				or = {
					has_owner_accepted_culture = no
					unrest = 0
				}
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 15
				culture_group = tartar
				has_terrain = steppe
				has_owner_accepted_culture = yes
				not = { unrest = 0 } 
			}
		}

		effect = {
			set_country_flag = EDG_rya_change_tartar_to_ryatartar_flag
			custom_tooltip = EDG_rya_change_tartar_to_ryatartar_tt
			hidden_effect = {
				every_province = {
					limit = {
						owned_by = root
						culture_group = tartar
						has_owner_accepted_culture = yes
						not = { unrest = 0 } 
					}
					change_culture = EDG_bela_tatar
				}
				if = {
					limit = {
						accepted_culture = astrakhani
					}
					remove_accepted_culture = astrakhani
				}
				if = {
					limit = {
						accepted_culture = bashkir
					}
					remove_accepted_culture = bashkir
				}
				if = {
					limit = {
						accepted_culture = crimean
					}
					remove_accepted_culture = crimean
				}
				if = {
					limit = {
						accepted_culture = kazani
					}
					remove_accepted_culture = kazani
				}
				if = {
					limit = {
						accepted_culture = mishary
					}
					remove_accepted_culture = mishary
				}
				if = {
					limit = {
						accepted_culture = nogaybak
					}
					remove_accepted_culture = nogaybak
				}
				if = {
					limit = {
						accepted_culture = siberian
					}
					remove_accepted_culture = siberian
				}
				add_accepted_culture = EDG_bela_tatar
				add_country_modifier = {
					name = "EDG_rya_banners_modifier"
					duration = -1
				}
			}
		}
	}

	EDG_BELA_RYA_A_4_6 = {
		icon = mission_chinese_general_riding
		position = 6
		required_missions = { EDG_BELA_RYA_A_4_5 } 
		provinces_to_highlight = {  } 

		trigger = {
			not = {
				any_country = {
					is_nomad = yes
					capital_scope = {
						superregion = eastern_europe_superregion
					}
				}
			}
		} 

		effect = {
			country_event = {
				id = EDG_RYA_events.3030
			}
		} 
	}
}
EDG_BELA_RYA_A_5 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = RYA
		is_subject = no
	}

	EDG_BELA_RYA_A_5_1 = {
		icon = mission_have_manufactories
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			production_efficiency = 0.1
			or = {
				production_efficiency = 0.2
				development_in_provinces = {
					value = 100
					culture_group = east_slavic
					development = 10
				}
			}
		}

		effect = { set_estate_privilege = estate_EDG_rya_zhuangyvan_privilege } 
	}

	EDG_BELA_RYA_A_5_3 = {
		icon = mission_high_income
		position = 3
		required_missions = {
			EDG_BELA_RYA_A_4_2
			EDG_BELA_RYA_A_5_1
		}
		provinces_to_highlight = {
			if = {
				limit = {
					root = {
						not = {
							num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
								value = 10
								has_terrain = steppe
							}
						}
					}
				}
				has_terrain = steppe
			}
		} 

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				has_terrain = steppe
			}
			years_of_income = 0.15
		}

		effect = {
			custom_tooltip = EDG_rya_rus_tartar_trade_tt
			set_country_flag = EDG_rya_zhuangyvan_reform_5flag
			custom_tooltip = EDG_rya_zhuangyvan_reform_5flag_tt
		}
	}

	EDG_BELA_RYA_A_5_4 = {
		icon = mission_dethrone_the_rurikovichs
		position = 4
		required_missions = {
			EDG_BELA_RYA_A_3_3
			EDG_BELA_RYA_A_5_3
		}
		provinces_to_highlight = {
		}

		trigger = {
			has_country_modifier = EDG_rya_army_reform_1_modifier
		}

		effect = {
			remove_estate_privilege = estate_EDG_rya_tartar_privilege
			add_country_modifier = {
				name = "EDG_rya_tartar_privilege_modifier"
				duration = -1
			}
		}
	}

	EDG_BELA_RYA_A_5_5 = {
		icon = mission_recruit_the_cossacks
		position = 5
		required_missions = { EDG_BELA_RYA_A_5_4 } 
		provinces_to_highlight = {  } 

		trigger = {
			num_of_cavalry = 20
			or = {
				estate_loyalty = {
					estate = estate_nobles
					loyalty = 60
				}
				estate_loyalty = {
					estate = estate_nomadic_tribes
					loyalty = 60
				}
				estate_loyalty = {
					estate = estate_cossacks
					loyalty = 60
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = EDG_BELA_RYA_A_5_5_modifier
				duration = -1
			}
		} 
	}
}
