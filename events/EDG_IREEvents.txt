namespace = EDG_IREEvents
country_event = {
	id = EDG_IREEvents.0
	is_triggered_only = yes
	title = EDG_IREEvents.0.name
	desc = EDG_IREEvents.0.desc
	fire_only_once = yes
	picture = LIBERUM_VETO_eventPicture
	immediate = {
		hidden_effect = {
			log = "[Root.GetName] has EDG_IRE_government_war Disaster."
		}
		set_country_flag = had_EDG_IRE_government_war
		hidden_effect = {
			add_stability = -6
			if = {
				limit = {
					NOT = {
						mission_completed = EDG_IRE_mission_3_1
					}
				}
				complete_mission = EDG_IRE_mission_3_1
			}
		}
	}
	option = {
		name = EDG_IREEvents.0.aa
		add_prestige = -10
		if = {
			limit = {
				any_owned_province = {
					development = 15
					highest_supply_limit_in_area = yes
					is_in_capital_area = yes
					fort_level = 1
					is_capital = no
				}
			}
			random_owned_province = {
				limit = {
					development = 10
					highest_supply_limit_in_area = yes
					is_in_capital_area = yes
					fort_level = 1
					is_capital = no
				}
				spawn_rebels = {
					size = 1
					win = yes
					unrest = 10
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 1
					win = yes
					unrest = 10
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 1
					win = yes
					unrest = 10
				}
			}
		}
		else = {
			random_owned_province = {
				spawn_rebels = {
					size = 1
					win = yes
					unrest = 10
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_dlc = "Emperor"
				}
			}
			random_owned_province = {
				limit = {
					is_capital = yes
				}
				spawn_rebels = {
					size = 1
					win = yes
				}
			}
		}
		tooltip = {
			add_stability = -6
			
		}
		if = {
			limit = { 
				NOT = {
					mission_completed = EDG_IRE_mission_3_1
				}
			}
			tooltip = {
				complete_mission = EDG_IRE_mission_3_1
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.1
	is_triggered_only = yes
	title = EDG_IREEvents.1.name
	desc = EDG_IREEvents.1.desc
	fire_only_once = yes
	major = yes
	option = {
		name = EDG_IREEvents.1.aa
		hidden_effect = {
			set_country_flag = EDG_Ireland_monarchy_flag
			set_country_flag = EDG_IRE_government_war_end_flag
		}
		random_owned_province = {
			spawn_rebels = {
				size = 1
				win = yes
				unrest = 10
			}
		}
		add_government_reform = EDG_Ireland_monarchy
		custom_tooltip = EDG_IREEvents.1.aa.tt
	}
	option = {
		name = EDG_IREEvents.1.bb
		hidden_effect = {
			set_country_flag = EDG_Ireland_sobor_flag
			set_country_flag = EDG_IRE_government_war_end_flag
		}
		add_stability_or_adm_power = yes
		add_government_reform = EDG_Ireland_sobor
		custom_tooltip = EDG_IREEvents.1.bb.tt
	}
}

country_event = {
	id = EDG_IREEvents.2
	is_triggered_only = yes
	title = EDG_IREEvents.2.name
	desc = EDG_IREEvents.2.desc
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	option = {
		name = EDG_IREEvents.2.aa
		country_event = {
			id = EDG_IREEvents.3
		}
	}
}

country_event = {
	id = EDG_IREEvents.3
	is_triggered_only = yes
	title = EDG_IREEvents.3.name
	desc = EDG_IREEvents.3.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	fire_only_once = yes
	option = {
		name = EDG_IREEvents.3.aa
		add_ruler_modifier = {
			name = EDG_IRE_long_cherished_wish
			duration = -1
		}
		custom_tooltip = EDG_IREEvents.3.aa.tt
		add_prestige = 50
		change_estate_land_share = {
			estate = all
			share = 15
		}
		enable_estate_effect = {
			estate = estate_EDG_bard
		}
		if = {
			limit = { 
				ai = yes
			}
			add_historical_friend = WLS
			add_historical_friend = BRI
			BRI = {
				add_historical_friend = root
			}
			WLS = {
				add_historical_friend = root
			}
			if = {
				limit = { 
					is_rival = BRI
				}
				remove_rival = BRI
			}
			if = {
				limit = { 
					is_rival = WLS
				}
				remove_rival = WLS
			}
			WLS = {
				if = {
					limit = { 
						is_rival = root
					}
					remove_rival = root
				}
			}
			BRI = {
				if = {
					limit = { 
						is_rival = root
					}
					remove_rival = root
				}
			}
		}
		hidden_effect = {
			set_ruler_flag = EDG_IRE_long_cherished_wish_flag
			every_country = {
				limit = {
					marriage_with = root
				}
				break_marriage = root
			}
			if = {
				limit = {
					has_heir = yes
				}
				kill_heir = {
					allow_new_heir = no
				}
			}
			if = {
				limit = {
					has_consort = yes
				}
				remove_consort = yes
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.4
	is_triggered_only = yes
	title = EDG_IREEvents.4.name
	desc = EDG_IREEvents.4.desc
	picture = DIPLOMACY_eventPicture
	fire_only_once = yes
	option = {
		name = EDG_IREEvents.4.aa
		custom_tooltip = EDG_IREEvents.4.aa.tt
		hidden_effect = {
			set_country_flag = EDG_IRE_action_alone
		}
	}
	option = {
		name = EDG_IREEvents.4.bb
		custom_tooltip = EDG_IREEvents.4.bb.tt
		hidden_effect = {
			set_country_flag = EDG_IRE_action_together
		}
	}
}

country_event = {
	id = EDG_IREEvents.5
	is_triggered_only = yes
	title = EDG_IREEvents.5.name
	desc = EDG_IREEvents.5.desc
	picture = CITY_DEVELOPMENT_eventPicture
	fire_only_once = yes
	option = {
		#维持现有首都
		name = EDG_IREEvents.5.aa
		add_stability_or_adm_power = yes
		if = {
			limit = {
				has_country_flag = EDG_IRE_government_war_end_flag
				owns = 4378
				4378 = {
					has_building = fort_15th
				}
				4121 = {
					NOT = {
						has_building = fort_15th
					}
				}
			}
			4378 = {
				remove_building = fort_15th
			}
			4121 = {
				add_building = fort_15th
				add_province_modifier = {
					name = EDG_IRE_consolidate_the_front_line_1
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = EDG_IRE_government_war_end_flag
				4121 = {
					has_building = fort_15th
				}
			}
			4121 = {
				add_province_modifier = {
					name = EDG_IRE_consolidate_the_front_line_1
					duration = -1
				}
			}
		}
		else = {
			custom_tooltip = EDG_IRE_mission_3_4_fort.effect.tt
			4121 = {
				add_province_modifier = {
					name = EDG_IRE_consolidate_the_front_line_2
					duration = -1
				}
			}
		}
	}
	option = {
		name = EDG_IREEvents.5.bb
		set_capital = 373
		if = {
			limit = {
				owns = 4378
				4378 = {
					has_building = fort_15th
				}
				4121 = {
					NOT = {
						has_building = fort_15th
					}
				}
			}
			4378 = {
				remove_building = fort_15th
			}
			4121 = {
				add_building = fort_15th
				add_province_modifier = {
					name = EDG_IRE_consolidate_the_front_line_1
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				4121 = {
					has_building = fort_15th
				}
			}
			4121 = {
				add_province_modifier = {
					name = EDG_IRE_consolidate_the_front_line_1
					duration = -1
				}
			}
		}
		else = {
			custom_tooltip = EDG_IRE_mission_3_4_fort.effect.tt
			add_mil_power = 50
		}
	}
}

country_event = {
	id = EDG_IREEvents.6
	is_triggered_only = yes
	title = EDG_IREEvents.6.name
	desc = EDG_IREEvents.6.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	major = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			set_country_flag = EDG_IRE_get_ready_light_war
		}
	}
	option = {
		name = EDG_IREEvents.6.aa
		custom_tooltip = EDG_IREEvents.6.aa.tt
		declare_war_with_cb = {
			casus_belli = cb_annex
			who = SCO
		}
		if = {
			limit = {
				SCO = {
					owns = 249
				}
			}
			249 = {
				change_controller = root
			}
		}
		else = {
			custom_tooltip = EDG_IREEvents.6.aa.control_249.tt
		}
		kingdom_of_the_isles_area = {
			limit = {
				NOT = {
					owned_by = root
				}
				NOT = {
					is_permanent_claim = root
				}
			}
			add_permanent_claim = root
		}
		highlands_area = {
			limit = {
				NOT = {
					owned_by = root
				}
				NOT = {
					is_permanent_claim = root
				}
			}
			add_permanent_claim = root
		}
		lowlands_area = {
			limit = {
				NOT = {
					owned_by = root
				}
				NOT = {
					is_permanent_claim = root
				}
			}
			add_permanent_claim = root
		}
		if = {
			limit = {
				has_country_flag = EDG_IRE_action_together
			}
			custom_tooltip = EDG_IRE_action_together.tt
			add_country_modifier = {
				name = EDG_IRE_intruder_operation
				duration = 3650
			}
			WLS = {
				join_all_offensive_wars_of = IRE
				add_country_modifier = {
					name = EDG_IRE_intruder_operation
					duration = 3650
				}
			}
			BRI = {
				join_all_offensive_wars_of = IRE
				add_country_modifier = {
					name = EDG_IRE_intruder_operation
					duration = 3650
				}
			}
		}
		else = {
			custom_tooltip = EDG_IRE_action_alone.tt
		}
	}
}

country_event = {
	id = EDG_IREEvents.7
	is_triggered_only = yes
	title = EDG_IREEvents.7.name
	desc = EDG_IREEvents.7.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	fire_only_once = yes
	option = {
		name = EDG_IREEvents.7.aa
		if = {
			limit = {
				has_country_flag = EDG_IRE_action_alone
			}
			custom_tooltip = EDG_IREEvents.7.aa.personal_union.tt
			if = {
				limit = {
					exists = WLS
					is_subject = no
				}
				WLS = {
					country_event = {
						id = EDG_IREEvents.8
						days = 3
					}
				}
			}
			if = {
				limit = {
					exists = BRI
					is_subject = no
				}
				BRI = {
					country_event = {
						id = EDG_IREEvents.8
						days = 3
					}
				}
			}
		}
		else = {
			custom_tooltip = EDG_IREEvents.7.aa.vassal.tt
			if = {
				limit = {
					exists = WLS
					is_subject = no
				}
				WLS = {
					country_event = {
						id = EDG_IREEvents.8
						days = 3
					}
				}
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.8
	is_triggered_only = yes
	title = EDG_IREEvents.8.name
	desc = EDG_IREEvents.8.desc
	picture = DIPLOMACY_eventPicture
	option = {
		name = EDG_IREEvents.8.aa
		if = {
			limit = {
				from = {
					has_country_flag = EDG_IRE_action_alone
				}
			}
			from = {
				create_subject = {
					subject_type = personal_union
					subject = root
				}
			}
		}
		else = {
			from = {
				create_subject = {
					subject_type = vassal
					subject = root
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = EDG_IREEvents.8.bb
		add_stability = -3
		from = {
			country_event = {
				id = EDG_IREEvents.9
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = EDG_IREEvents.9
	is_triggered_only = yes
	title = EDG_IREEvents.9.name
	desc = EDG_IREEvents.9.desc
	picture = DIPLOMACY_eventPicture
	option = {
		name = EDG_IREEvents.9.aa
		if = {
			limit = {
				has_country_flag = EDG_IRE_action_alone
			}
			declare_war_with_cb = {
				casus_belli = cb_restore_personal_union
				who = from
			}
		}
		else = {
			declare_war_with_cb = {
				casus_belli = cb_vassalize_mission
				who = from
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = EDG_IREEvents.9.bb
		add_prestige = -10
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = EDG_IREEvents.10
	is_triggered_only = yes
	title = EDG_IREEvents.10.name
	desc = EDG_IREEvents.10.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	option = {
		name = EDG_IREEvents.10.aa
		custom_tooltip = EDG_IREEvents.10.aa.tt
		hidden_effect = {
			every_country = {
				limit = {
					has_opinion_modifier = {
						who = root
						modifier = aggressive_expansion
					}
				}
				remove_opinion = {
					who = root
					modifier = aggressive_expansion
				}
			}
		}
		add_country_modifier = {
			name = EDG_IRE_crown_of_scotland
			duration = -1
		}
		kingdom_of_the_isles_area = {
			limit = {
				owned_by = root
			}
			add_devastation = -100
			add_nationalism = -20
		}
		highlands_area = {
			limit = {
				owned_by = root
			}
			add_devastation = -100
			add_nationalism = -20
		}
		lowlands_area = {
			limit = {
				owned_by = root
			}
			add_devastation = -100
			add_nationalism = -20
		}
	}
}

country_event = {
	id = EDG_IREEvents.11
	is_triggered_only = yes
	title = EDG_IREEvents.11.name
	desc = EDG_IREEvents.11.desc
	picture = DIPLOMACY_eventPicture
	option = {
		name = EDG_IREEvents.11.aa
		ai_chance = {
			factor = 2
			modifier = {
				factor = 1.2
				from = {
					diplomatic_reputation = 1
				}
			}
			modifier = {
				factor = 1.4
				from = {
					diplomatic_reputation = 2
				}
			}
			modifier = {
				factor = 1.8
				from = {
					diplomatic_reputation = 3
				}
			}
			modifier = {
				factor = 2
				from = {
					diplomatic_reputation = 4
				}
			}
			modifier = {
				factor = 1.2
				alliance_with = from
			}
			modifier = {
				factor = 0
				total_development = from
			}
			modifier = {
				factor = 0
				total_development = 60
			}
		}
		from = {
			create_subject = {
				subject_type = vassal
				subject = root
			}
		}
	}
	option = {
		name = EDG_IREEvents.11.bb
		custom_tooltip = EDG_IREEvents.11.bb.tt
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_opinion = {
					who = from
					value = 190
				}
			}
		}
		from = {
			declare_war_with_cb = {
				casus_belli = cb_annex
				who = root
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.12
	is_triggered_only = yes
	title = EDG_IREEvents.12.name
	desc = EDG_IREEvents.12.desc
	picture = DIPLOMACY_eventPicture
	option = {
		name = EDG_IREEvents.12.aa
		east_anglia_area = {
			add_province_modifier = {
				name = EDG_IRE_retain_lollardy
				duration = -1
			}
		}
	}
	option = {
		name = EDG_IREEvents.12.bb
		east_anglia_area = {
			add_province_modifier = {
				name = EDG_IRE_dissolve_lollardy
				duration = -1
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.13
	is_triggered_only = yes
	title = EDG_IREEvents.13.name
	desc = EDG_IREEvents.13.desc
	picture = EXPLORERS_eventPicture
	option = {
		name = EDG_IREEvents.13.aa
		custom_tooltip = EDG_IREEvents.13.aa.tt
		add_country_modifier = {
			name = EDG_IRE_great_celtism
			duration = -1
		}
		add_prestige_or_monarch_power = {
			amount = 50
		}
		add_stability_or_adm_power = yes
		set_country_flag = EDG_flavorSCO_mission_9_a_tooltip_country_flag
		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
		hidden_effect = {
			every_province = {
				limit = {
					culture = scottish
				}
				change_culture = highland_scottish
			}
			every_country = {
				limit = {
					primary_culture = scottish
				}
				change_primary_culture = highland_scottish
				set_ruler_culture = highland_scottish
				if = {
					limit = {
						has_heir = yes
					}
					set_heir_culture = highland_scottish
				}
				if = {
					limit = {
						has_consort = yes
						consort_culture = scottish
					}
					set_consort_culture = highland_scottish
				}
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.14
	is_triggered_only = yes
	title = EDG_IREEvents.14.name
	desc = EDG_IREEvents.14.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	option = {
		name = EDG_IREEvents.14.aa
		custom_tooltip = EDG_IREEvents.14.aa.tt
		hidden_effect = {
			BRI = {
				change_primary_culture = EDG_gaelic_French
				# set_ruler_culture = EDG_gaelic_French
				# if = {
				# 	limit = {
				# 		has_heir = yes
				# 	}
				# 	set_heir_culture = EDG_gaelic_French
				# }
				# if = {
				# 	limit = {
				# 		has_consort = yes
				# 		consort_culture = breton
				# 	}
				# 	set_consort_culture = EDG_gaelic_French
				# }
				every_province = {
					limit = {
						culture = breton
					}
					change_culture = EDG_gaelic_French
				}
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.15
	is_triggered_only = yes
	title = EDG_IREEvents.15.name
	desc = EDG_IREEvents.15.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	option = {
		name = EDG_IREEvents.15.aa
		add_core = 236
		236 = {
			move_capital_effect = yes
			change_culture = ROOT
			change_religion = ROOT
			add_base_tax = 1
			add_base_production = 2
			add_base_manpower = 1
			EDG_IRE_change_236_name_effect = yes
		}
		add_country_modifier = {
			name = EDG_IRE_crown_of_england
			duration = -1
		}
	}
	option = {
		name = EDG_IREEvents.15.bb
		add_stability_or_adm_power = yes
		236 = {
			change_culture = ROOT
			change_religion = ROOT
			add_base_tax = 1
			add_base_production = 2
			add_base_manpower = 1
			EDG_IRE_change_236_name_effect = yes
		}
		add_country_modifier = {
			name = EDG_IRE_crown_of_england
			duration = -1
		}
	}
}

country_event = {
	id = EDG_IREEvents.16
	title = EDG_IREEvents.16.name
	desc = EDG_IREEvents.16.desc
	picture = PRAYING_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	major = yes
	trigger = {
		has_country_flag = EDG_flavorSCO_mission_9_a_tooltip_country_flag
		current_age = age_of_reformation
		OR = {
			tag = IRE
			tag = ABN
		}
	}
	option = { #我们将拥抱大凯尔特主义。
		name = EDG_IREEvents.16.aa
		ai_chance = {
			factor = 100
		}
		add_patriarch_authority = 0.1
		add_adm_power = 25
		add_dip_power = 25
		add_mil_power = 25
		change_religion = EDG_Great_Celtic_Church
		custom_tooltip = EDG_IREEvents.16.effect.tt
		hidden_effect = {
			add_prestige_or_monarch_power = {
				amount = 100
			}
			every_owned_province = {
				limit = {
					culture_group = gaelic
				}
				change_religion = EDG_Great_Celtic_Church
			}
		}
		
	}
	option = { #世界属于凯尔特！
		name = EDG_IREEvents.16.bb
		ai_chance = {
			factor = 1
		}
		custom_tooltip = EDG_IREEvents.16.effect.tt
		capital_scope = {
			custom_tooltip = EDG_add_reform_center_EDG_Great_Celtic_Church_tooltip
			add_reform_center = EDG_Great_Celtic_Church
		}
		add_years_of_income = -0.5

		add_patriarch_authority = 0.25
		add_adm_power = 25
		add_dip_power = 25
		add_mil_power = 25
		change_religion = EDG_Great_Celtic_Church

		hidden_effect = {
			every_owned_province = {
				limit = {
					culture_group = gaelic
				}
				change_religion = EDG_Great_Celtic_Church
			}
			add_prestige_or_monarch_power = {
				amount = 100
			}
		}
		
		
	}
	option = { #我们不应抛弃当前的道路。
		name = EDG_IREEvents.16.cc
		ai_chance = {
			factor = 1
		}
		add_stability_or_adm_power = yes
		add_prestige_or_monarch_power = {
			amount = 10
		}
	}
}
country_event = {
	id = EDG_IREEvents.17
	title = EDG_IREEvents.17.name
	desc = EDG_IREEvents.17.desc
	picture = CULTURE_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	major = yes

	option = {
		name = EDG_IREEvents.17.aa
		custom_tooltip = EDG_IREEvents.17.aa.tt
		remove_country_modifier = EDG_IRE_crown_of_england
		remove_country_modifier = EDG_IRE_crown_of_scotland
		remove_country_modifier = EDG_IRE_crown_of_ireland
		add_government_reform = EDG_ABN_albion_united_kingdom
		hidden_effect = {
			every_subject_country = {
				limit = {
					capital_scope = {
						region = british_isles_region
					}
				}
				root = {
					inherit = prev
				}
			}
		}
	}
}

country_event = {
	id = EDG_IREEvents.500
	is_triggered_only = yes
	hidden = yes
	immediate = {
		change_tag = BTA
		swap_non_generic_missions = yes
		swap_free_idea_group = yes
	}
	option = {
	}
}

country_event = {
	id = EDG_IREEvents.501
	is_triggered_only = yes
	hidden = yes
	immediate = {
		
	}
	option = {
	}
}
country_event = {
	id = EDG_IREEvents.502
	is_triggered_only = yes
	hidden = yes
	immediate = {
		EDG_remove_religious_zeal_at_conv_effect = yes
		EDG_remove_religious_zeal_at_conv_effect = {
			limit = ""
		}
		EDG_remove_religious_zeal_at_conv_effect = {
			limit = "
				area = connacht_area
			"
		}
	}
	option = {
	}
}
country_event = {
	id = EDG_IREEvents.503
	is_triggered_only = yes
	hidden = yes
	immediate = {
		every_owned_province = {
			limit = {
				OR = {
					area = munster_area
					area = connacht_area
				}
			}
			change_religion = catholic
			add_province_modifier = {
				name = religious_zeal_at_conv
				duration = 3650
			}
		}
	}
	option = {
	}
}