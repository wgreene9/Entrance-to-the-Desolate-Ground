namespace = FOI_ActionEvents

country_event = {
	id = FOI_ActionEvents.0
	is_triggered_only = yes
	hidden = yes

	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		has_country_flag = FOI_UCI_expand_6_3_flag
	}

	immediate = {
		every_owned_province = {
			limit = {
				region = iberia_region
			}
			if = {
				limit = { 
					is_prosperous = yes
					NOT = {
						devastation = 5
					}
				}
				random_list = {
					1 = {
						add_random_development = 1
					}
					19 = {

					}
				}
			}
			if = {
				limit = { 
					devastation = 10
				}
				remove_random_development = yes
			}
		}
	}

	option = {
		
	}
}
country_event = {
	id = FOI_ActionEvents.1
	is_triggered_only = yes
	hidden = yes

	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	immediate = {
		change_variable = {
			which = EDG_FOI_UCI_empirical_value
			value = 1
		}
		every_known_country = {
			if = {
				limit = { 
					NOT = {
						OR = {
							has_reform = FOI_UCI_union_commune_of_iberian
							has_reform = FOI_FWF_forward_front
							has_reform = peasants_republic
							has_government_attribute = EDG_Peasant_regime
							is_revolutionary_republic_trigger = yes
						}
					}
				}
				if = {
					limit = { 
						NOT = {
							has_opinion_modifier = {
								who = root
								modifier = opinion_FOI_peasant_regime_other
							}
						}
					}
					add_opinion = {
						who = root
						modifier = opinion_FOI_peasant_regime_other
					}
					root = {
						add_opinion = {
							who = prev
							modifier = opinion_FOI_peasant_regime_other
						}
					}
				}
				
			}
			else = {
				if = {
					limit = { 
						NOT = {
							has_opinion_modifier = {
								who = root
								modifier = opinion_FOI_peasant_regime_same
							}
						}
					}
					add_opinion = {
						who = root
						modifier = opinion_FOI_peasant_regime_same
					}
					root = {
						add_opinion = {
							who = prev
							modifier = opinion_FOI_peasant_regime_same
						}
					}
				}
			}
			
		}
	}

	option = {
		
	}
}
country_event = {
	id = FOI_ActionEvents.2
	title = FOI_ActionEvents.2.name
	desc = FOI_ActionEvents.2.desc
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = FOI_ActionEvents.2.aa
		custom_tooltip = FOI_ActionEvents.2.aa.tt
		hidden_effect = {
			set_global_flag = FOI_UCI_modifier_enemy_flag
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = FOI_ActionEvents.2.bb
		custom_tooltip = FOI_ActionEvents.2.bb.tt
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = FOI_ActionEvents.3
	title = FOI_ActionEvents.3.name
	desc = FOI_ActionEvents.3.desc
	mean_time_to_happen = {
		months = 50
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.3.aa
		if = {
			limit = { 
				NOT = {
					adm = 6
				}
			}
			change_adm = 1
		}
		else = {
			add_adm_power = 100
		}
	}
}
country_event = {
	id = FOI_ActionEvents.4
	title = FOI_ActionEvents.4.name
	desc = FOI_ActionEvents.4.desc
	mean_time_to_happen = {
		months = 50
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.4.aa
		if = {
			limit = { 
				NOT = {
					dip = 6
				}
			}
			change_dip = 1
		}
		else = {
			add_dip_power = 100
		}
	}
}
country_event = {
	id = FOI_ActionEvents.5
	title = FOI_ActionEvents.5.name
	desc = FOI_ActionEvents.5.desc
	mean_time_to_happen = {
		months = 50
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.5.aa
		if = {
			limit = { 
				NOT = {
					mil = 6
				}
			}
			change_mil = 1
		}
		else = {
			add_mil_power = 100
		}
	}
}
country_event = {
	id = FOI_ActionEvents.6
	title = FOI_ActionEvents.6.name
	desc = FOI_ActionEvents.6.desc
	mean_time_to_happen = {
		months = 150
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.6.aa
		if = {
			limit = { 
				adm = 1
			}
			change_adm = -1
		}
		else = {
			add_adm_power = -100
		}
	}
}
country_event = {
	id = FOI_ActionEvents.7
	title = FOI_ActionEvents.7.name
	desc = FOI_ActionEvents.7.desc
	mean_time_to_happen = {
		months = 150
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.7.aa
		if = {
			limit = { 
				dip = 1
			}
			change_dip = -1
		}
		else = {
			add_dip_power = -100
		}
	}
}
country_event = {
	id = FOI_ActionEvents.8
	title = FOI_ActionEvents.8.name
	desc = FOI_ActionEvents.8.desc
	mean_time_to_happen = {
		months = 150
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.8.aa
		if = {
			limit = { 
				mil = 1
			}
			change_mil = -1
		}
		else = {
			add_mil_power = -100
		}
	}
}
country_event = {
	id = FOI_ActionEvents.9
	title = FOI_ActionEvents.9.name
	desc = FOI_ActionEvents.9.desc
	mean_time_to_happen = {
		months = 50
	}
	picture = DEBATE_REPUBLICAN_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		war_exhaustion = 5
		revolutionary_zeal = 50
		is_at_war = yes
	}

	option = {
		name = FOI_ActionEvents.8.aa
		add_war_exhaustion = -3
	}
}
country_event = {
	id = FOI_ActionEvents.10
	title = FOI_ActionEvents.10.name
	desc = FOI_ActionEvents.10.desc
	fire_only_once = yes
	mean_time_to_happen = {
		months = 10
	}
	picture = FEAST_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		had_country_flag = {
			flag = EDG_FOI_end_iberia_great_famine_flag
			days = 365
		}
		is_at_war = no
	}

	option = {
		name = FOI_ActionEvents.10.aa
		custom_tooltip = FOI_ActionEvents.10.aa.tt
		add_years_of_income = 5
		hidden_effect = {
			every_owned_province = {
				limit = {
					is_core = root
				}
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
		}
	}
}
country_event = {
	id = FOI_ActionEvents.11
	title = FOI_ActionEvents.11.name
	desc = FOI_ActionEvents.11.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = RELIGION_eventPicture
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		current_age = age_of_reformation
		has_reform = FOI_UCI_state_religion
		religion = EDG_catharism
	}

	option = {
		name = FOI_ActionEvents.11.aa
		213 = {
			add_reform_center = EDG_catharism
		}
		
	}
}
country_event = {
	id = FOI_ActionEvents.12
	is_triggered_only = yes
	hidden = yes
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		has_country_flag = EDG_FOI_UCI_religion_muslim_tolerance
	}

	immediate = {
		every_owned_province = {
			limit = {
				religion_group = muslim
				NOT = {
					has_province_modifier = FOI_UCI_expand_8_1_tolerance_modifier
				}
			}
			add_province_modifier = {
				name = FOI_UCI_expand_8_1_tolerance_modifier
				duration = -1
			}
		}
	}

	option = {

	}
}
country_event = {
	id = FOI_ActionEvents.13
	is_triggered_only = yes
	hidden = yes
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		any_owned_province = {
			has_province_modifier = FOI_UCI_expand_8_1_tolerance_modifier
		}
	}

	immediate = {
		for = {
			amount = 5
			effect = "
				random_owned_province = {
					limit = {
						is_core = root
						has_province_modifier = FOI_UCI_expand_8_1_tolerance_modifier
					}
					change_religion = root
					remove_province_modifier = FOI_UCI_expand_8_1_tolerance_modifier
				}
			"
		}
	}

	option = {

	}
}
province_event = {
	id = FOI_ActionEvents.14
	title = FOI_ActionEvents.14.name
	desc = FOI_ActionEvents.14.desc
	goto = root
	mean_time_to_happen = {
		months = 6
	}
	trigger = {
		owner = {
			OR = {
				has_reform = FOI_UCI_union_commune_of_iberian
				has_reform = FOI_FWF_forward_front
			}
		}
		trade_goods = slaves
	}
	option = {
		name = FOI_ActionEvents.14.aa
		owner = {
			add_revolutionary_zeal = 3
			add_government_power = {
				mechanic_type = FOI_UCI_liberation_mania_mechanic
				power_type = FOI_UCI_liberation_mania
				value = 1
			}
		}
		random_list = {
			1 = {
				change_trade_goods = livestock
			}
			1 = {
				change_trade_goods = grain
			}
			1 = {
				change_trade_goods = wool
			}
		}
	}
}
country_event = {
	id = FOI_ActionEvents.15
	title = FOI_ActionEvents.15.name
	desc = FOI_ActionEvents.15.desc
	fire_only_once = yes
	mean_time_to_happen = {
		months = 50
	}
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		is_at_war = no
		total_development = 650
		stability = 0
	}
	picture = ST_PETERS_CHURCH_eventPicture

	option = {
		name = FOI_ActionEvents.15.aa
		add_revolutionary_zeal = 10
		add_government_power = {
			mechanic_type = FOI_UCI_liberation_mania_mechanic
			power_type = FOI_UCI_liberation_mania
			value = 5
		}
		add_stability_or_adm_power = yes
		add_years_of_income = 1
		add_yearly_manpower = 1
	}
}
country_event = {
	id = FOI_ActionEvents.16
	title = FOI_ActionEvents.16.name
	desc = FOI_ActionEvents.16.desc
	mean_time_to_happen = {
		months = 12
	}
	trigger = {
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		is_at_war = no
		revolutionary_zeal = 50
		NOT = {
			army_size_percentage = 1
		}
	}
	picture = ST_PETERS_CHURCH_eventPicture

	option = {
		name = FOI_ActionEvents.16.aa
		create_unit_forcelimit_percentage = {
			special_unit_category = revolutionary_guard
			type = infantry
			force_limit_percentage = 0.1
		}
		add_revolutionary_zeal = -10
	}
	option = {
		name = FOI_ActionEvents.16.bb
		create_unit_forcelimit_percentage = {
			special_unit_category = revolutionary_guard
			type = cavalry
			force_limit_percentage = 0.08
		}
		add_revolutionary_zeal = -10
	}
	option = {
		name = FOI_ActionEvents.16.cc
		trigger = {
			mil_tech = 7
		}
		create_unit_forcelimit_percentage = {
			special_unit_category = revolutionary_guard
			type = artillery
			force_limit_percentage = 0.05
		}
		add_revolutionary_zeal = -10
	}
	option = {
		name = FOI_ActionEvents.16.dd
		add_revolutionary_zeal = 5
	}
}
country_event = {
	id = FOI_ActionEvents.17
	is_triggered_only = yes
	title = FOI_ActionEvents.17.name
	desc = FOI_ActionEvents.17.desc
	fire_only_once = yes
	picture = MILITARY_CAMP_eventPicture
	trigger = {
		mil_tech = 10
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.17.aa
		add_country_modifier = {
			name = FOI_UCI_cavalry_fire_up
			duration = -1
		}
		remove_country_modifier = FOI_UCI_cavalry_low_power
	}
	option = {
		name = FOI_ActionEvents.17.bb
		remove_country_modifier = FOI_UCI_cavalry_low_power
	}
}
country_event = {
	id = FOI_ActionEvents.18
	is_triggered_only = yes
	title = FOI_ActionEvents.18.name
	desc = FOI_ActionEvents.18.desc
	fire_only_once = yes
	picture = MILITARY_CAMP_eventPicture
	trigger = {
		mil_tech = 11
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
	}

	option = {
		name = FOI_ActionEvents.18.aa
		custom_tooltip = FOI_ActionEvents.18.aa.tt
	}
}
country_event = {
	id = FOI_ActionEvents.19
	is_triggered_only = yes
	title = FOI_ActionEvents.19.name
	desc = FOI_ActionEvents.19.desc
	fire_only_once = yes
	picture = MILITARY_CAMP_eventPicture
	trigger = {
		mil_tech = 16
		OR = {
			has_reform = FOI_UCI_union_commune_of_iberian
			has_reform = FOI_FWF_forward_front
		}
		220 = {
			has_province_modifier = EDG_FOI_UCI_wheellock_modifier
		}
	}

	option = {
		name = FOI_ActionEvents.19.aa
		220 = {
			remove_province_triggered_modifier = EDG_FOI_UCI_wheellock_modifier
			add_province_triggered_modifier = EDG_FOI_UCI_flintlock_factory
		}
	}
}