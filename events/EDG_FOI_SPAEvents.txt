namespace = FOI_SPAEvents

country_event = {
	id = FOI_SPAEvents.0
	is_triggered_only = yes
	title = FOI_SPAEvents.0.name
	desc = FOI_SPAEvents.0.desc
	picture = CARIBBEAN_PIRATE_FORT_eventPicture

	option = {
		name = FOI_SPAEvents.0.aa
		custom_tooltip = FOI_SPAEvents.0.aa.tt
		hidden_effect = {
			213 = {
				for = {
					amount = 25
					effect = "
						create_flagship = {
							type = heavy_ship
						}
					"
				}
				for = {
					amount = 50
					effect = "
						create_flagship = {
							type = light_ship
						}
					"
				}
			}
		}
		add_prestige_or_monarch_power = { amount = 100 }
		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 50
		}
	}
}
country_event = {
	id = FOI_SPAEvents.1
	is_triggered_only = yes
	title = FOI_SPAEvents.1.name
	desc = FOI_SPAEvents.1.desc
	picture = GOOD_WITH_MONARCH_eventPicture

	option = {
		name = FOI_SPAEvents.1.aa
		change_tag = IBR
		change_primary_culture = EDG_iberians
		on_change_tag_effect = yes
		country_event = { id = ideagroups.1 } #Swap Ideas
		swap_non_generic_missions = yes
		iberia_region = {
			limit = {
				owned_by = root
			}
			change_culture = EDG_iberians
		}
		set_government_rank = 3
	}
}
country_event = {
	id = FOI_SPAEvents.100
	is_triggered_only = yes
	title = FOI_SPAEvents.100.tt
	desc = FOI_SPAEvents.100.desc
	picture = GOOD_WITH_MONARCH_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = EDG_FOI_rebuild_uk_flag
		}
	}

	option = {
		name = FOI_SPAEvents.100.aa
		trigger = {
			NOT = {
				exists = CAS
			}
		}
		custom_tooltip = FOI_SPAEvents.100.remove_core.tt
		change_tag = CAS
		swap_free_idea_group = yes
		custom_tooltip = EDG_SPACE_TT
		galicia_area = {
			add_core = CAS
		}
		4551 = {
			add_core = CAS
		}
		217 = {
			add_core = CAS
		}
		219 = {
			add_core = CAS
		}
		2751 = {
			add_core = CAS
		}
		custom_tooltip = EDG_SPACE_TT
		add_prestige_or_monarch_power = { amount = 25 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					is_core = ASU
				}
				remove_core = ASU
			}
			every_owned_province = {
				limit = {
					is_core = LON
				}
				remove_core = LON
			}
			every_owned_province = {
				limit = {
					is_core = GAL
				}
				remove_core = GAL
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = FOI_SPAEvents.100.bb
		trigger = {
			NOT = {
				exists = LON
			}
		}
		custom_tooltip = FOI_SPAEvents.100.remove_core.tt
		change_tag = LON
		swap_free_idea_group = yes
		custom_tooltip = EDG_SPACE_TT
		galicia_area = {
			add_core = LON
		}
		4551 = {
			add_core = LON
		}
		217 = {
			add_core = LON
		}
		219 = {
			add_core = LON
		}
		2751 = {
			add_core = LON
		}
		custom_tooltip = EDG_SPACE_TT
		add_prestige_or_monarch_power = { amount = 25 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					is_core = ASU
				}
				remove_core = ASU
			}
			every_owned_province = {
				limit = {
					is_core = CAS
				}
				remove_core = CAS
			}
			every_owned_province = {
				limit = {
					is_core = GAL
				}
				remove_core = GAL
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = FOI_SPAEvents.100.cc
		trigger = {
			NOT = {
				exists = GAL
			}
		}
		custom_tooltip = FOI_SPAEvents.100.remove_core.tt
		custom_tooltip = EDG_SPACE_TT
		change_tag = GAL
		swap_free_idea_group = yes
		custom_tooltip = EDG_SPACE_TT
		galicia_area = {
			add_core = GAL
		}
		4551 = {
			add_core = GAL
		}
		217 = {
			add_core = GAL
		}
		219 = {
			add_core = GAL
		}
		2751 = {
			add_core = GAL
		}
		custom_tooltip = EDG_SPACE_TT
		add_prestige_or_monarch_power = { amount = 25 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					is_core = LON
				}
				remove_core = LON
			}
			every_owned_province = {
				limit = {
					is_core = CAS
				}
				remove_core = CAS
			}
			every_owned_province = {
				limit = {
					is_core = ASU
				}
				remove_core = ASU
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = FOI_SPAEvents.100.dd
		custom_tooltip = FOI_SPAEvents.100.remove_core.tt
		custom_tooltip = EDG_SPACE_TT
		galicia_area = {
			add_core = root
		}
		4551 = {
			add_core = root
		}
		217 = {
			add_core = root
		}
		219 = {
			add_core = root
		}
		2751 = {
			add_core = root
		}
		custom_tooltip = EDG_SPACE_TT
		add_legitimacy_or_mil_power = { amount = 10 }
		add_prestige_or_monarch_power = { amount = 25 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					is_core = LON
				}
				remove_core = LON
			}
			every_owned_province = {
				limit = {
					is_core = CAS
				}
				remove_core = CAS
			}
			every_owned_province = {
				limit = {
					is_core = GAL
				}
				remove_core = GAL
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}