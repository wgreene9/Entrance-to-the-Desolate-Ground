namespace = EDG_FYM_eyalet_rebellion_events


#Generic Eyalet Revolt Event - Liberty Desire
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.3
	title = EDG_FYM_eyalet_rebellion_events.3.t
	desc = EDG_FYM_eyalet_rebellion_events.3.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	option = {
		name = EDG_FYM_eyalet_rebellion_events.3.a
		goto = angry_eyalet_capital
		event_target:angry_eyalet = {
			add_liberty_desire = 10
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Generic Eyalet Revolt Event - Refusal to Pay
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.4
	title = EDG_FYM_eyalet_rebellion_events.4.t
	desc = EDG_FYM_eyalet_rebellion_events.4.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
		}
		NOT = { has_country_modifier = tur_inefficient_tax_collection }
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	option = {
		name = EDG_FYM_eyalet_rebellion_events.4.a
		add_country_modifier = {
			name = tur_inefficient_tax_collection
			duration = 1825
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = EDG_FYM_eyalet_rebellion_events.4.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet = {
			add_liberty_desire = 15
			add_years_of_income = -0.25
		}
		add_years_of_income = 0.05

		ai_chance = {
			factor = 1
		}
	}
}

#Generic Eyalet Revolt Event - Revolting Son of Sultan
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.5
	title = EDG_FYM_eyalet_rebellion_events.5.t
	desc = {
		desc = EDG_FYM_eyalet_rebellion_events.5.desc.son
		trigger = {
			ruler_age = 30
		}
	}
	desc = {
		desc = EDG_FYM_eyalet_rebellion_events.5.desc.brother
		trigger = {
			NOT = { ruler_age = 30 }
		}
	}
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	option = {
		name = EDG_FYM_eyalet_rebellion_events.5.a
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = renegade_sultan_son_rebels
				size = 4
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}


#Special Eyalet Revolt Event - Egyptian War for Independence
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.7
	title = EDG_FYM_eyalet_rebellion_events.7.t
	desc = EDG_FYM_eyalet_rebellion_events.7.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
			liberty_desire = 75
			num_of_owned_provinces_with = {
				region = egypt_region
				value = 10
			}
		}
	}
	goto = angry_eyalet_capital

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
					liberty_desire = 75
					num_of_owned_provinces_with = {
						region = egypt_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#To arms!
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.a
		event_target:angry_eyalet = {
			declare_war_with_cb = {
				casus_belli = cb_independence_war
				who = ROOT
			}
			add_country_modifier = {
			  name = EDG_FYM_vassal_war_3_B_modifier
			  duration = -1
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Let them go
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.b
		event_target:angry_eyalet = {
			grant_independence = yes
		}

		ai_chance = {
			factor = 0
		}
	}

	#Give them autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.c
		event_target:angry_eyalet = {
			add_liberty_desire = -30
		}
		add_stability = -1
		add_dip_power = -100

		ai_chance = {
			factor = 0
		}
	}
}

#Special Eyalet Revolt Event - Revolting Persia
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.8
	title = EDG_FYM_eyalet_rebellion_events.8.t
	desc = EDG_FYM_eyalet_rebellion_events.8.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
			num_of_owned_provinces_with = {
				region = persia_region
				value = 10
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
					num_of_owned_provinces_with = {
						region = persia_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#Grant them more autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.6.a
		event_target:angry_eyalet = {
			add_liberty_desire = 15			
		}

		ai_chance = {
			factor = 1
		}
	}

	#No
	option = {
		name = EDG_FYM_eyalet_rebellion_events.6.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = independence_rebels
				size = 2
			}
		}
		event_target:angry_eyalet_capital = {
			random_owned_province = {
				spawn_rebels = {
					type = independence_rebels
					size = 4
				}
			}
		}
		custom_tooltip = EDG_FYM_eyalet_rebellion_events.tt

		ai_chance = {
			factor = 1
		}
	}

	#Grant them more autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.6.c
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = well_connected_personality
				ruler_has_personality = silver_tongue_personality
				dip = 5
			}
		}
		add_dip_power = -15

		ai_chance = {
			factor = 1
		}
	}
}

#Special Eyalet Revolt Event - Persian War for Independence
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.9
	title = EDG_FYM_eyalet_rebellion_events.9.t
	desc = EDG_FYM_eyalet_rebellion_events.9.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
			liberty_desire = 75
			num_of_owned_provinces_with = {
				region = persia_region
				value = 10
			}
		}
	}
	goto = angry_eyalet_capital

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
					liberty_desire = 75
					num_of_owned_provinces_with = {
						region = persia_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#To arms!
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.a
		event_target:angry_eyalet = {
			declare_war_with_cb = {
				casus_belli = cb_independence_war
				who = ROOT
			}
			add_country_modifier = {
			  name = EDG_FYM_vassal_war_3_B_modifier
			  duration = -1
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Let them go
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.b
		event_target:angry_eyalet = {
			grant_independence = yes
		}

		ai_chance = {
			factor = 0
		}
	}

	#Give them autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.c
		event_target:angry_eyalet = {
			add_liberty_desire = -30
		}
		add_stability = -1
		add_dip_power = -100

		ai_chance = {
			factor = 0
		}
	}
}

#Special Eyalet Revolt Event - Revolting Europe
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.10
	title = EDG_FYM_eyalet_rebellion_events.11.t
	desc = EDG_FYM_eyalet_rebellion_events.10.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
			num_of_owned_provinces_with = {
				continent = europe
				value = 10
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
					num_of_owned_provinces_with = {
						continent = europe
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#Grant them more autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.6.a
		event_target:angry_eyalet = {
			add_liberty_desire = 15			
		}

		ai_chance = {
			factor = 1
		}
	}

	#No
	option = {
		name = EDG_FYM_eyalet_rebellion_events.6.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = independence_rebels
				size = 4
			}
		}
		event_target:angry_eyalet = {
			random_owned_province = {
				spawn_rebels = {
					type = independence_rebels
					size = 4
				}
			}
		}
		custom_tooltip = EDG_FYM_eyalet_rebellion_events.tt

		ai_chance = {
			factor = 1
		}
	}

	#Grant them more autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.6.c
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = well_connected_personality
				ruler_has_personality = silver_tongue_personality
				dip = 5
			}
		}
		add_dip_power = -15

		ai_chance = {
			factor = 1
		}
	}
}

#Special Eyalet Revolt Event - European War for Independence
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.11
	title = EDG_FYM_eyalet_rebellion_events.10.t
	desc = EDG_FYM_eyalet_rebellion_events.11.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
			is_EDG_FYM_eyalet_trigger = yes
			liberty_desire = 75
			num_of_owned_provinces_with = {
				continent = europe
				value = 10
			}
		}
	}
	goto = angry_eyalet_capital

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = { has_country_modifier = EDG_FYM_vassal_war_subject_defeated_modifier }
					is_EDG_FYM_eyalet_trigger = yes
					liberty_desire = 75
					num_of_owned_provinces_with = {
						continent = europe
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#To arms!
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.a
		event_target:angry_eyalet = {
			declare_war_with_cb = {
				casus_belli = cb_independence_war
				who = ROOT
			}
			add_country_modifier = {
			  name = EDG_FYM_vassal_war_3_B_modifier
			  duration = -1
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Let them go
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.b
		event_target:angry_eyalet = {
			grant_independence = yes
		}

		ai_chance = {
			factor = 0
		}
	}

	#Give them autonomy
	option = {
		name = EDG_FYM_eyalet_rebellion_events.7.c
		event_target:angry_eyalet = {
			add_liberty_desire = -30
		}
		add_stability = -1
		add_dip_power = -100

		ai_chance = {
			factor = 0
		}
	}
}

#Non-Eyalet Revolt Event - Revolt in Persia
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.12
	title = EDG_FYM_eyalet_rebellion_events.12.t
	desc = EDG_FYM_eyalet_rebellion_events.12.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		num_of_owned_provinces_with = {
			region = persia_region
			value = 15
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { region = persia_region }
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = EDG_FYM_eyalet_rebellion_events.12.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Non-Eyalet Revolt Event - Revolt in Egypt
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.13
	title = EDG_FYM_eyalet_rebellion_events.13.t
	desc = EDG_FYM_eyalet_rebellion_events.13.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		num_of_owned_provinces_with = {
			region = egypt_region
			value = 15
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { region = egypt_region }
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = EDG_FYM_eyalet_rebellion_events.12.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Non-Eyalet Revolt Event - Revolt in Europe
country_event = {
	id = EDG_FYM_eyalet_rebellion_events.14
	title = EDG_FYM_eyalet_rebellion_events.14.t
	desc = EDG_FYM_eyalet_rebellion_events.14.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		num_of_owned_provinces_with = {
			superregion = europe_superregion
			value = 15
		}
		any_owned_province = {
			superregion = europe_superregion
			religion_group = christian
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					superregion = europe_superregion
					religion_group = christian
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = EDG_FYM_eyalet_rebellion_events.12.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

