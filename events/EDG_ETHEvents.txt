namespace = EDG_ETHEvents

country_event = {
	id = EDG_ETHEvents.0
	is_triggered_only = yes
	fire_only_once = yes
	title = EDG_ETHEvents.0.name
	desc = EDG_ETHEvents.0.desc
	picture = GOOD_WITH_MONARCH_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = wih_eleniethiopia_flag
			1227 = {
				add_province_triggered_modifier = EDG_ETH_holy_site_1227_modifier
			}
			1234 = {
				add_province_triggered_modifier = EDG_ETH_holy_site_1234_modifier
			}
			358 = {
				add_province_triggered_modifier = EDG_ETH_holy_site_358_modifier
			}
			379 = {
				add_province_triggered_modifier = EDG_ETH_holy_site_379_modifier
			}
			2313 = {
				add_province_triggered_modifier = EDG_ETH_holy_site_2313_modifier
			}
			419 = {
				add_province_triggered_modifier = EDG_ETH_holy_site_419_modifier
			}
			set_variable = {
				which = EDG_ETH_modernization_interactions_1_var
				value = 0
			}
			set_variable = {
				which = EDG_ETH_modernization_interactions_2_var
				value = 0
			}
			set_variable = {
				which = EDG_ETH_modernization_interactions_3_var
				value = 0
			}
		}
	}

	option = {
		name = EDG_ETHEvents.0.aa
		EDG_ETH_define_eth_mate = yes
		add_ruler_modifier = {
			name = EDG_ETH_ethiopian_emperor
		}
		add_country_modifier = {
			name = EDG_ETH_help_of_Errani
			duration = -1
		}
		country_event = {
			id = EDG_ETHEvents.1
		}
	}
}
country_event = {
	id = EDG_ETHEvents.1
	is_triggered_only = yes
	fire_only_once = yes
	title = EDG_ETHEvents.1.name
	desc = EDG_ETHEvents.1.desc
	picture = GOOD_WITH_MONARCH_eventPicture

	option = {
		name = EDG_ETHEvents.1.aa
		set_estate_privilege = estate_EDG_rist_gult_system
		country_event = {
			id = flavor_eth.29
		}
	}
}
country_event = {
	id = EDG_ETHEvents.2
	is_triggered_only = yes
	fire_only_once = yes
	title = EDG_ETHEvents.2.name
	desc = EDG_ETHEvents.2.desc
	picture = GOOD_WITH_MONARCH_eventPicture

	option = {
		name = EDG_ETHEvents.2.aa
		trigger = {
			exists = ABB
		}
		ABB = {
			country_event = {
				id = EDG_ETHEvents.3
				days = 1
			}
		}
		custom_tooltip = EDG_ETHEvents.2.aa.tt
	}
	option = {
		name = EDG_ETHEvents.2.bb
		if = {
			limit = { 
				exists = ABB
			}
			add_casus_belli = {
				type = cb_crusade_pheasants
				target = ABB
				months = 60
			}
		}
		else = {
			1228 = {
				owner = {
					root = {
						add_casus_belli = {
							type = cb_crusade_pheasants
							target = prev
							months = 60
						}
					}
				}
			}
		}
		custom_tooltip = EDG_ETHEvents.2.aa.tt
	}
}
country_event = {
	id = EDG_ETHEvents.3
	is_triggered_only = yes
	fire_only_once = yes
	title = EDG_ETHEvents.3.name
	desc = EDG_ETHEvents.3.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	major = yes
	major_trigger = {
		capital_scope = {
			OR = {
				region = horn_of_africa_region
				region = egypt_region
			}
		}
		
	}

	option = {
		name = EDG_ETHEvents.3.aa
		from = {
			declare_war_with_cb = {
				casus_belli = cb_crusade
				who = root
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 100
				any_ally = {
					total_development = 50
				}
			}
			modifier = {
				factor = 100
				army_size = from
			}
			modifier = {
				factor = 0
				any_ally = {
					NOT = {
						total_development = 30
					}
				}
			}
		}
	}
	option = {
		name = EDG_ETHEvents.3.bb
		1228 = {
			cede_province = MAK
		}
		2797 = {
			cede_province = ALO
		}
		from = {
			create_subject = {
				subject_type = vassal
				subject = root
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				has_opinion = {
					who = from
					value = 50
				}
			}
			modifier = {
				factor = 10
				has_opinion = {
					who = from
					value = 100
				}
			}
			modifier = {
				factor = 10
				from = {
					diplomatic_reputation = 1
				}
			}
			modifier = {
				factor = 20
				from = {
					diplomatic_reputation = 2
				}
			}
			modifier = {
				factor = 30
				from = {
					diplomatic_reputation = 3
				}
			}
			modifier = {
				factor = 50
				from = {
					diplomatic_reputation = 4
				}
			}
		}
	}
}
country_event = {
	id = EDG_ETHEvents.4
	is_triggered_only = yes
	title = EDG_ETHEvents.4.name
	desc = EDG_ETHEvents.4.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	major = yes
	major_trigger = {
		capital_scope = {
			OR = {
				superregion = southern_africa_superregion
				superregion = africa_superregion
			}
		}
	}

	option = {
		name = EDG_ETHEvents.4.aa
		change_religion = coptic
		ETH = {
			create_subject = {
				subject_type = vassal
				subject = root
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				total_development = 50
			}
		}
	}
	option = {
		name = EDG_ETHEvents.4.bb
		add_stability = 1
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					total_development = 50
				}
			}
		}
	}
}
country_event = {
	id = EDG_ETHEvents.5
	is_triggered_only = yes
	title = EDG_ETHEvents.5.name
	desc = EDG_ETHEvents.5.desc
	picture = RELIGIOUS_CONVERSION_eventPicture
	major = yes
	major_trigger = {
		capital_scope = {
			OR = {
				superregion = southern_africa_superregion
				superregion = africa_superregion
			}
		}
	}

	option = {
		name = EDG_ETHEvents.5.aa
		change_religion = coptic
		capital_scope = {
			change_religion = coptic
		}
		set_ruler_religion = coptic
		hidden_effect = {
			add_prestige = 100
		}
		add_stability = 1
		ai_chance = {
			factor = 90
		}
		add_country_modifier = {
			name = EDG_ETH_embrace_new_faith
			duration = 3650
		}
	}
	option = {
		name = EDG_ETHEvents.5.bb
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				tag = KON
			}
		}
	}
}