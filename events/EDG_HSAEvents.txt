namespace = EDG_HSAEvents

country_event = {
	id = EDG_HSAEvents.0
	is_triggered_only = yes
	title = EDG_HSAEvents.0.name
	desc = EDG_HSAEvents.0.desc
	picture = DIPLOMACY_eventPicture

	option = {
		name = EDG_HSAEvents.0.aa
		SAX = {
			country_event = {
				id = EDG_HSAEvents.1
				days = 1
			}
		}
	}
}
country_event = {
	id = EDG_HSAEvents.1
	is_triggered_only = yes
	title = EDG_HSAEvents.1.name
	desc = EDG_HSAEvents.1.desc
	picture = DIPLOMACY_eventPicture

	option = {
		name = EDG_HSAEvents.1.aa
		custom_tooltip = EDG_HSAEvents.1.aa.tt
		hidden_effect = {
			set_country_flag = EDG_HSA_lauenburg_greement_flag
		}
		add_historical_friend = from
		from = {
			add_historical_friend = root
		}
		if = {
			limit = { 
				is_rival = from
			}
			remove_rival = from
		}
		if = {
			limit = { 
				from = {
					is_rival = root
				}
			}
			from = {
				remove_rival = root
			}
		}
		if = {
			limit = { 
				ai = yes
			}
			set_ai_attitude = {
				attitude = attitude_friendly
				who = from
			}
		}
		if = {
			limit = { 
				NOT = {
					alliance_with = from
				}
			}
			create_alliance = from
		}
		from = {
			country_event = {
				id = EDG_HSAEvents.2
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						is_in_trade_league_with = HSA
						tag = HSA
					}
				}
				every_owned_province = {
					limit = {
						is_claim = root
					}
					remove_claim = root
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = EDG_HSAEvents.1.bb
		from = {
			country_event = {
				id = EDG_HSAEvents.3
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}
country_event = {
	id = EDG_HSAEvents.2
	is_triggered_only = yes
	title = EDG_HSAEvents.2.name
	desc = EDG_HSAEvents.2.desc
	picture = DIPLOMACY_eventPicture
	
	immediate = {
		hidden_effect = {
			set_country_flag = EDG_HSA_lauenburg_greement_flag
		}
	}

	option = {
		name = EDG_HSAEvents.2.aa
		custom_tooltip = EDG_HSAEvents.2.aa.tt
		
		custom_tooltip = EDG_HSA_mission_1_2.effect.tt
		weser_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { is_permanent_claim = ROOT }
			}
			add_permanent_claim = ROOT
		}
		hidden_effect = {
			if = {
				limit = {
					HAM = { 
						is_in_trade_league_with = ROOT 
							has_opinion = {
							who = ROOT 
							value = 160 
						}
					}
					calc_true_if = {
						all_country = {
							is_in_trade_league_with = ROOT
						}
						amount = 6
					}
				}
				add_country_modifier = {
					name = hsa_development_works_of_the_hansa_modifier6
					duration = 5475 
				}
				every_country = {
					limit = { is_in_trade_league_with = ROOT }
					add_country_modifier = {
						name = hsa_development_works_of_the_hansa_modifier6
						duration = 5475 
					}
				}
			}
			else_if = {
				limit = {
					HAM = { 
						is_in_trade_league_with = ROOT 
							has_opinion = {
							who = ROOT 
							value = 160 
						}
					}
					calc_true_if = {
						all_country = {
							is_in_trade_league_with = ROOT
						}
						amount = 5
					}
				}
				add_country_modifier = {
					name = hsa_development_works_of_the_hansa_modifier5
					duration = 5475 
				}
				every_country = {
					limit = { is_in_trade_league_with = ROOT }
					add_country_modifier = {
						name = hsa_development_works_of_the_hansa_modifier5
						duration = 5475 
					}
				}
			}
			else_if = {
				limit = {
					HAM = { 
						is_in_trade_league_with = ROOT 
							has_opinion = {
							who = ROOT 
							value = 160 
						}
					}
					calc_true_if = {
						all_country = {
							is_in_trade_league_with = ROOT
						}
						amount = 4
					}
				}
				add_country_modifier = {
					name = hsa_development_works_of_the_hansa_modifier4
					duration = 5475 
				}
				every_country = {
					limit = { is_in_trade_league_with = ROOT }
					add_country_modifier = {
						name = hsa_development_works_of_the_hansa_modifier4
						duration = 5475 
					}
				}
			}
			else_if = {
				limit = {
					HAM = { 
						is_in_trade_league_with = ROOT 
							has_opinion = {
							who = ROOT 
							value = 160 
						}
					}
					calc_true_if = {
						all_country = {
							is_in_trade_league_with = ROOT
						}
						amount = 3
					}
				}
				add_country_modifier = {
					name = hsa_development_works_of_the_hansa_modifier3
					duration = 5475 
				}
				every_country = {
					limit = { is_in_trade_league_with = ROOT }
					add_country_modifier = {
						name = hsa_development_works_of_the_hansa_modifier3
						duration = 5475 
					}
				}
			}
			else_if = {
				limit = {
					HAM = { 
						is_in_trade_league_with = ROOT 
							has_opinion = {
							who = ROOT 
							value = 160 
						}
					}
					calc_true_if = {
						all_country = {
							is_in_trade_league_with = ROOT
						}
						amount = 2
					}
				}
				add_country_modifier = {
					name = hsa_development_works_of_the_hansa_modifier2
					duration = 5475 
				}
				every_country = {
					limit = { is_in_trade_league_with = ROOT }
					add_country_modifier = {
						name = hsa_development_works_of_the_hansa_modifier2
						duration = 5475 
					}
				}
			}
			else = {
				add_country_modifier = {
					name = hsa_development_works_of_the_hansa_modifier1
					duration = 5475 
				}
				every_country = {
					limit = { is_in_trade_league_with = ROOT }
					add_country_modifier = {
						name = hsa_development_works_of_the_hansa_modifier1
						duration = 5475 
					}
				}
			}
			if = {
				limit = {
					HAM = {
						is_in_trade_league_with = ROOT 
						owns = 44 
					}
				}
				44 = { change_trade_goods = salt }
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}
country_event = {
	id = EDG_HSAEvents.3
	is_triggered_only = yes
	title = EDG_HSAEvents.3.name
	desc = EDG_HSAEvents.3.desc
	picture = DIPLOMACY_eventPicture

	option = {
		name = EDG_HSAEvents.3.aa
		add_historical_rival = from
		from = {
			add_historical_rival = root
		}
		weser_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { is_permanent_claim = ROOT }
			}
			add_permanent_claim = ROOT
		}
		ai_chance = {
			factor = 100
		}
		
	}
}
country_event = {
	id = EDG_HSAEvents.4
	is_triggered_only = yes
	title = EDG_HSAEvents.4.name
	desc = EDG_HSAEvents.4.desc
	picture = DIPLOMACY_eventPicture

	option = {
		name = EDG_HSAEvents.4.aa
		add_treasury = -250
		add_navy_tradition = 15
		north_atlantic_region = {
			discover_country = ROOT
		}
		greenland_area = {
			discover_country = ROOT
		}
		hidden_effect = {
			1804 = { discover_country = ROOT }
		}
	}
}
country_event = {
	id = EDG_HSAEvents.5
	is_triggered_only = yes
	title = EDG_HSAEvents.5.name
	desc = EDG_HSAEvents.5.desc
	fire_only_once = yes
	picture = CITY_VIEW_eventPicture

	option = {
		name = EDG_HSAEvents.5.aa
		custom_tooltip = EDG_HSAEvents.5.aa.tt
		custom_tooltip = EDG_HSAEvents.5.aa.tt.1
		set_variable = {
			which = EDG_HSA_trading_post_count
			value = 3
		}
		set_variable = {
			which = EDG_HSA_trade_city_count
			value = 1
		}
		if = {
			limit = { 
				ai = yes
			}
			add_prestige = 100
		}
	}
}