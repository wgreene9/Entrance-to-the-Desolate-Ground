#特维尔任务涉及事件
#Belaslav

namespace = EDG_tve_missions

country_event = {
    id = EDG_tve_missions.101
    title = EDG_tve_missions.101t
    desc = EDG_tve_missions.101d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes

    trigger = {
        tag = TVE
    }

    major = yes

    option = {
        name = "EDG_tve_missions.101A"
        add_country_modifier = {
            name = EDG_tve_war_with_mos_modifier
            duration = 1825
        }
        ai_chance = { factor = 0.2 }
    }
}

country_event = {
    id = EDG_tve_missions.102
    title = EDG_tve_missions.102t
    desc = EDG_tve_missions.102d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes

    trigger = {
        tag = MOS
    }

    option = {
        name = "EDG_tve_missions.102A"
        ai_chance = { factor = 0.2 }
        add_prestige = 5
        add_mil_power = 25
    }

    after = {
        hidden_effect = {
            TVE = {
                country_event = {
                    id = EDG_tve_missions.101
                    days = 10
                }
            }
        }
    }
}

country_event = {
    id = EDG_tve_missions.201
    title = EDG_tve_missions.201t
    desc = EDG_tve_missions.201d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EDG_tve_missions.201A"
        set_country_flag = EDG_tve_change_tartar_flag
        custom_tooltip = EDG_tve_missions.201_tooltip
        add_adm_power = -50
        add_dip_power = -50
    }
    option = {
        name = "EDG_tve_missions.201B"
        ai_chance = { factor = 0.2 }
        set_country_flag = EDG_tve_change_tartar_flag
        custom_tooltip = EDG_tve_missions.201_tooltip
        add_adm_power = -50
        add_dip_power = -50
        add_mil_power = -50
        add_country_modifier = {
            name = EDG_tve_change_tartar_cosak
            duration = 18250
        }
    }
    option = {
        name = "EDG_tve_missions.201C"
        ai_chance = { factor = 0.2 }
        add_dip_power = 50
    }
}

country_event = {
    id = EDG_tve_missions.202
    title = EDG_tve_missions.202t
    desc = EDG_tve_missions.202d
    picture = SEJM_eventPicture

    hidden = yes
    mean_time_to_happen = {
	months = 24
	    modifier = {
	    	factor = 0.75
	    	stability = 1
	    }
    }
    trigger = {
        AND = {
            num_of_owned_provinces_with = {
            	value = 1
            	culture_group = tartar
            }
            has_country_flag = EDG_tve_change_tartar_flag
        }
    }

    option = {
        name = "EDG_tve_missions.202A"
        random_owned_province = {
            limit = {
                culture_group = tartar
            }
            change_culture = ROOT
        }
        ai_chance = { factor = 1 }
    }
}

country_event = {
    id = EDG_tve_missions.203
    title = EDG_tve_missions.203t
    desc = EDG_tve_missions.203d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EDG_tve_missions.203A"
        ai_chance = { factor = 1 }
        FROM = {
            vassalize = ROOT
        }
    }
    option = {
        name = "EDG_tve_missions.203B"
        ai_chance = { factor = 0 }
        add_prestige = 10
        FROM = {
            add_casus_belli = {
                type = cb_annex
                months = -1
                target = PRM
            }
        }
    }
}

country_event = {
    id = EDG_tve_missions.204
    title = EDG_tve_missions.204t
    desc = EDG_tve_missions.204d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes
    major = yes

    option = {
        name = "EDG_tve_missions.204A"
        ai_chance = { factor = 1 }
        add_adm_power = 50
        add_dip_power = 50
        add_mil_power = 50
        add_prestige_or_monarch_power = { amount = 25 }
        add_country_modifier = {
            name = EDG_adm_policy_8_modifier
            duration = 3650
        }
    }
}

country_event = {
    id = EDG_tve_missions.205
    title = EDG_tve_missions.205t
    desc = EDG_tve_missions.205d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes
    major = yes

    option = {
        name = "EDG_tve_missions.205A"
        ai_chance = { 
			factor = 0.2
			modifier = {
				factor = 0
				ai = yes
			}
		}
        set_country_flag = EDG_tve_kiev_rus_flag
        add_country_modifier = {
            name = EDG_tve_missions.205A1
            duration = 7300
        }
        add_country_modifier = {
            name = EDG_tve_missions.205A2
            duration = 3650
        }
    }
    option = {
        name = "EDG_tve_missions.205B"
        ai_chance = { 
			factor = 0.8
		}
        set_country_flag = EDG_tve_vladimir_rus_flag
        add_country_modifier = {
            name = EDG_tve_missions.205B1
            duration = 7300
        }
    }
}

country_event = {
    id = EDG_tve_missions.206
    title = EDG_tve_missions.206t
    desc = EDG_tve_missions.206d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EDG_tve_missions.206A"
        add_country_modifier = {
            name = EDG_tve_cossak_1_modifier
            duration = -1
        }
        ai_chance = { factor = 0.2 }
    }
    option = {
        name = "EDG_tve_missions.206B"
        add_country_modifier = {
            name = EDG_tve_cossak_2_modifier
            duration = -1
        }
        ai_chance = { factor = 0.2 }
    }
}
country_event = {
    id = EDG_tve_missions.207
    title = EDG_tve_missions.207t
    desc = EDG_tve_missions.207d
    picture = SEJM_eventPicture

    is_triggered_only = yes
    fire_only_once = yes
    major = yes

    option = {
        name = "EDG_tve_missions.207A"
        ai_chance = { 
			factor = 1
			modifier = {
				factor = 0.5
				army_size = FROM
			}
		}
        FROM = { create_union = NOV }
    }
    option = {
        name = "EDG_tve_missions.207B"
        ai_chance = { 
			factor = 5
			modifier = {
				factor = 1.5
				army_size = FROM
			}
			modifier = {
				factor = 0.25
				FROM = { ai = yes }
			}
		}
        add_prestige = 10
        FROM = {
            add_casus_belli = {
                type = cb_restore_personal_union
                months = -1
                target = NOV
            }
        }
    }
}
country_event = {#处置莫斯科波雅尔
    id = EDG_tve_missions.208
    title = EDG_tve_missions.208t
    desc = EDG_tve_missions.208d
    picture = SEJM_eventPicture
    is_triggered_only = yes
    fire_only_once = yes

    option = {#对于他们的背叛行径，我们绝不容忍。
        name = "EDG_tve_missions.208A"
        ai_chance = { 
			factor = 10
		}
        hidden_effect = {
            MOS = {
                every_owned_province = {
                    cede_province = root
                }
            }
        }
        custom_tooltip = EDG_tve_missions_208_A_tt
        tooltip = {
            cede_province = root
        }
        add_stability = -1
        change_adm = 1
        change_mil = 1
        custom_tooltip = EDG_BELA_TVE_civil_war_influence_tt
        ai_chance = { 
			factor = 6
		}
    }
    option = {#对于他们的浪子回头，我们当然宽容。
        name = "EDG_tve_missions.208B"
        inherit = MOS
        custom_tooltip = EDG_tve_missions_208_B_tt
        tooltip = {
            add_province_modifier = { #莫斯科波雅尔
                name = EDG_BELA_tve_mos_boyal_province_modifier
                duration = -1
            }
        }
        hidden_effect = {
            every_province = {
                limit = {
                    is_core = MOS
                }
                add_province_modifier = { #莫斯科波雅尔
                    name = EDG_BELA_tve_mos_boyal_province_modifier
                    duration = -1
                }
            }
        }
        custom_tooltip = EDG_BELA_TVE_civil_war_influence_tt
        ai_chance = { 
			factor = 6
		}
    }
}
country_event = {#统治诺夫哥罗德
    id = EDG_tve_missions.209
    title = EDG_tve_missions.209t
    desc = EDG_tve_missions.209d
    picture = SEJM_eventPicture
    is_triggered_only = yes
    fire_only_once = yes
    immediate = {
        if = {
            limit = {
                exists = NOV
                any_country = {
                    is_subject_of = NOV
                }
            }
            every_country = {
                limit = {
                    is_subject_of = NOV
                }
                NOV = { 
                    inherit = prev
                }
            }
        }
    }

    option = {#保持现有框架就行了，没必要做出太多改变。
        name = "EDG_tve_missions.209A"
        trigger = {
            exists = NOV
        }
        #hidden_effect = {
            #NOV = {
                #exile_ruler_as = {
                #    name = EDG_BELA_tve_nov_glasorvskyy_ruler
                #}
            #}
        #}
        ai_chance = { 
			factor = 3
		}
        if = {
            limit = {
                not = {
                    NOV = {
                        is_subject_of_type = personal_union
                    }
                }
            }
            create_union = NOV
        }
        custom_tooltip = EDG_BELA_TVE_civil_war_influence_tt
        #注意：该选项会影响哈沃夫战争的走向
    }
    option = {#尽管不甚轻松，我们也有必要彻底控制诺夫哥罗德。
        name = "EDG_tve_missions.209B"
        #hidden_effect = {
            #NOV = {
            #    exile_ruler_as = {
            #        name = EDG_BELA_tve_nov_glasorvskyy_ruler
            #    }
            #}
        #}
        inherit = NOV
        add_stability = -1
        change_dip = 1
        hidden_effect = {
            every_province = {
                limit = {
                    is_core = NOV
                }
                add_province_modifier = { #整合诺夫哥罗德
                    name = EDG_BELA_tve_nov_province_modifier
                    duration = 3650
                }
                remove_core = root
            }
        }
        custom_tooltip = EDG_tve_missions_209B_tt
        #所有诺夫哥罗德核心省份
        tooltip = {
            add_province_modifier = { #整合诺夫哥罗德
                name = EDG_BELA_tve_nov_province_modifier
                duration = 3650
            }
            remove_core = root
        }
        custom_tooltip = EDG_BELA_TVE_civil_war_influence_tt
        #注意：该选项会影响哈沃夫战争的走向
        ai_chance = { 
			factor = 9
		}
    }
}