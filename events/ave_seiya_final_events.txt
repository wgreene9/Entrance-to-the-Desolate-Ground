namespace = EDG_flavorAVE_mission_Sa

country_event = {
    id = EDG_flavorAVE_mission_Sa.1
    title = EDG_flavorAVE_mission_Sa.1.t
    desc = EDG_flavorAVE_mission_Sa.1.d
    picture = CORRUPTION_eventPicture
    is_triggered_only = yes
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.1.a
        poland_region = {
            add_core = ROOT
            cede_province = ROOT
        }
        ROOT = { add_accepted_culture = polish }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.1.b
        if = {
            limit = {
                NOT = { exists = POL }
            }
            257 = {
                owner = { release = POL}
            }
        }
        poland_region = {
            limit = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            add_core = POL
            cede_province = POL
        }
        create_subject = {
            subject_type = EDG_AVE_union
            subject = POL
        }
        POL = {
            change_government = monarchy
            add_government_reform = feudal_monarchy
        }
        AVE = { add_historical_friend = POL }
        POL = { add_historical_friend = AVE }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.3
    title = EDG_flavorAVE_mission_Sa.3.t
    desc = EDG_flavorAVE_mission_Sa.3.d
    picture = CORRUPTION_eventPicture
    is_triggered_only = yes
    fire_only_once = yes 
    option = {
        name = EDG_flavorAVE_mission_Sa.3.a
        wallachia_area = {
            add_core = ROOT
            cede_province = ROOT
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.3.b
        if = {
            limit = {
                NOT = { exists = WAL }
            }
            161 = {
                owner = { release = WAL }
            }
        }
        wallachia_area = {
            limit = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            add_core = WAL
            cede_province = WAL
        }
        moldavia_area = {
            limit = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            add_core = WAL
            cede_province = WAL
        }
        southern_transylvania_area = {
            limit = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            add_core = WAL
            cede_province = WAL
        }
        transylvania_area = {
            limit = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            add_core = WAL
            cede_province = WAL
        }
        create_subject = {
            subject_type = EDG_AVE_union
            subject = WAL
        }
        WAL = {
            change_government = monarchy
            add_government_reform = feudal_monarchy
        }
        WAL = { change_tag = RMN }
        AVE = { add_historical_friend = RMN }
        RMN = { add_historical_friend = AVE }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.2
    title = EDG_flavorAVE_mission_Sa.2.t
    desc = EDG_flavorAVE_mission_Sa.2.d
    picture = WAR_OF_THE_ROSES_eventPicture
    is_triggered_only = yes
    fire_only_once = yes 
    option = {
        name = EDG_flavorAVE_mission_Sa.2.a
        add_country_modifier = {
            name = gongmailuomadechaoshengren
            duration = -1
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.2.b
        
        add_country_modifier = {
            name = yongbutingxiajiaobu
            duration = -1
        }
        custom_tooltip = Sa.2.bb
        hidden_effect = {
            every_province = {
                limit = {
                    NOT = { is_permanent_claim = ROOT }
                    NOT = { is_core ROOT }
                }
                add_permanent_claim = ROOT
            }
            set_country_flag = EDG_AVE_cb_for_world_flag
            every_country = {
                NOT = {
                    tag = ave
                }
                add_country_modifier = {
                    name = falanlaile
                    duration = -1
                } 
            }
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.4
    title = EDG_flavorAVE_mission_Sa.4.t
    desc = EDG_flavorAVE_mission_Sa.4.d
    picture = ADVISOR_eventPicture
    is_triggered_only = yes
    fire_only_once = yes 
    option = {
        name = EDG_flavorAVE_mission_Sa.4.a
        add_country_modifier = {
            name = qiangda
            duration = -1
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.4.b
        add_country_modifier = {
            name = kuanrong
            duration = -1
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.5
    title = EDG_flavorAVE_mission_Sa.5.t
    desc = EDG_flavorAVE_mission_Sa.5.d
    picture = ADVISOR_eventpicture
    trigger = {  
        france_region = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.5.a
        south_german_region = {
            limit = {
                NOT = { is_permanent_claim = ROOT }
                NOT = { is_core ROOT }
            }
            add_permanent_claim = ROOT
        }
        north_german_region = {
            limit = {
                NOT = { is_permanent_claim = ROOT }
                NOT = { is_core ROOT }
            }
            add_permanent_claim = ROOT
        }
    }
}


country_event = {
    id = EDG_flavorAVE_mission_Sa.6
    title = EDG_flavorAVE_mission_Sa.6.t
    desc = EDG_flavorAVE_mission_Sa.6.d
    picture = ADVISOR_eventpicture
    trigger = {
        north_german_region = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        south_german_region = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        tag = AVE
      }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.6.a
        add_country_modifier = {
            name = juexin
            duration = -1
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.7
    title = EDG_flavorAVE_mission_Sa.7.t
    desc = EDG_flavorAVE_mission_Sa.7.d
    picture = BAD_WITH_MONARCH_eventPicture
    trigger = { 
        NOT = { exists = MOS } 
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.7.a
        add_prestige_or_monarch_power = { amount = 10 }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.7.b
        add_country_modifier = {
            name = gongzhu
            duration = 9125
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.7.c
        295 = {
            limit = {
                NOT = { is_permanent_claim = ROOT }
                NOT = { is_core ROOT }
            }
            add_permanent_claim = ROOT
        }
        custom_tooltip = EDG_SPACE_TT
        custom_tooltip = EDG_flavorAVE_mission_Sa.7.cc
        set_country_flag = luosigongzhu
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.8
    title = EDG_flavorAVE_mission_Sa.8.t
    desc = EDG_flavorAVE_mission_Sa.8.d
    picture = GOOD_WITH_MONARCH_eventPicture
    trigger = { 
        295 = {
            country_or_non_sovereign_subject_holds = ROOT
        }
        has_country_flag = luosigongzhu
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.8.a
        if = {
            limit = {
                NOT = { exists = MOS }
            }
            295 = {
                add_core = MOS
                owner = { release = MOS }
            }
        }
        # custom_tooltip = EDG_flavorAVE_mission_Sa_8_a_effect_1
        # hidden_effect = {
        #     russia_region = {
        #         limit = {
        #             country_or_non_sovereign_subject_holds = ROOT
        #         }
        #         add_core = MOS
        #         cede_province = MOS
        #     }
        # }
        create_subject = {
            subject_type = EDG_AVE_union
            subject = MOS
        }
        MOS = {
            change_government = monarchy
            add_government_reform = feudal_monarchy
        }
        AVE = { add_historical_friend = MOS }
        MOS = { add_historical_friend = AVE }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.8.b
        russia_region = {
            add_core = ROOT
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.11
    title = EDG_flavorAVE_mission_Sa.11.t
    desc = EDG_flavorAVE_mission_Sa.11.d
    picture = BATTLE_eventPicture
    trigger = {  
        exists = ARL
        has_global_flag = EDG_EDG_flavorARL_1_flag
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.11.a
        add_country_modifier = {
            name = safaweia
            duration = 9125
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.11.b
        add_country_modifier = {
            name = safaweib
            duration = 9125
        }
        
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.11.c
        add_prestige = 1
        custom_tooltip = safaweic
        set_country_flag = safaweic
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.12
    title = EDG_flavorAVE_mission_Sa.12.t
    desc = EDG_flavorAVE_mission_Sa.12.d
    picture = ACCUSATION_eventPicture
    trigger = {  
        has_country_flag = safaweic
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.12.a
        add_country_modifier = {
            name = xiaochou
            duration = 9125
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.13
    title = EDG_flavorAVE_mission_Sa.13.t
    desc = EDG_flavorAVE_mission_Sa.13.d
    picture = BIG_BOOK_eventPicture
    trigger = {  
        151 = {
            country_or_non_sovereign_subject_holds = ROOT
        }
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.13.a
        for = { 
            amount=10 
            effect= "random_owned_province = {
            limit = {
            has_tax_building_trigger=yes
            } 
            remove_building = temple 
            add_building=university}"
        }
        custom_tooltip = biandaxue
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.14
    title = EDG_flavorAVE_mission_Sa.14.t
    desc = EDG_flavorAVE_mission_Sa.14.d
    picture = HORDE_ON_HORSEBACK_eventPicture
    trigger = {
        tag = AVE
    }
    fire_only_once = yes
    mean_time_to_happen = {
        months = 12
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.14.a
        custom_tooltip = busidui
        set_country_flag = falanjiewudui
        add_army_tradition = 10
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.15
    title = EDG_flavorAVE_mission_Sa.15.t
    desc = EDG_flavorAVE_mission_Sa.15.d
    picture = COMET_SIGHTER_eventPicture
    is_triggered_only = yes
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.15.a
        add_country_modifier = {
            name = seiya
            duration = -1
        }
        play_sound = seiyafinalfight
        swap_free_idea_group = yes
        swap_non_generic_missions = yes
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.16
    title = EDG_flavorAVE_mission_Sa.16.t
    desc = EDG_flavorAVE_mission_Sa.16.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        OR = {
            tag = AVE
            tag = ENG
        }
        GUY = {
            has_opinion = {
            who = ROOT
            value = 100
            }
        }
        ai = no
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.16.a
        create_subject = {
            subject_type = EDG_ENG_weak_appanage
            subject = GUY
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.16.b
        add_prestige_or_monarch_power = { amount = 10 }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.17
    title = EDG_flavorAVE_mission_Sa.17.t
    desc = EDG_flavorAVE_mission_Sa.17.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        ai = no
        has_heir_flag = EDG_ENG_Margaret_heir_flag
        not = { heir_age = 15 }
        LOT = {
            heir_has_personality = EDG_personality_beiernadaite
            not = { heir_age = 15 }
        }
        OR = {
            tag = AVE
            tag = ENG
        }
        LOT = {
            has_opinion = {
                who = ROOT
                value = 100
            }
        }
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.17.a
        add_trust = {
            who = LOT
            value = 10
            mutual = yes
        }
        LOT = {
            add_favors = {
                who = ROOT
                amount = 10
            }
        }
        add_favors = {
            who = LOT
            amount = 10
        }
        set_country_flag = EDG_flavorAVE_mission_Sa.17.a_flag
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.17.b
        add_historical_rival = LOT
        LOT = {
            add_historical_rival = ROOT
        }
        break_marriage = LOT
        add_country_modifier = {
            name = shangshi
            duration = 3650
        }
        has_country_flag = EDG_flavorAVE_mission_Sa.17.b_flag
    }
}
country_event = {
    id = EDG_flavorAVE_mission_Sa.18
    title = EDG_flavorAVE_mission_Sa.18.t
    desc = EDG_flavorAVE_mission_Sa.18.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        tag = AVE
        lorraine_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        lower_rhineland_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        wallonia_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        north_brabant_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        1743 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        181 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        85 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        has_country_flag = relian
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.18.a
        add_country_modifier = {
            name = shuimeiren
            duration = 3650
        }
        set_country_flag = luotagongzhu
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.19
    title = EDG_flavorAVE_mission_Sa.19.t
    desc = EDG_flavorAVE_mission_Sa.19.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        tag = AVE
        lorraine_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        lower_rhineland_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        wallonia_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        north_brabant_area = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        1743 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        181 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        85 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
        has_country_flag = EDG_flavorAVE_mission_Sa.17.b_flag
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.19.a
        lorraine_area = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
        lower_rhineland_area = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
        wallonia_area = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
        north_brabant_area = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
        1743 = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
        181 = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
        85 = {
            add_province_modifier = {
                name = chunni
                duration = -1
            }
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.20
    title = EDG_flavorAVE_mission_Sa.20.t
    desc = EDG_flavorAVE_mission_Sa.20.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        OR = {
            tag = AVE
            tag = ENG
        }
        183 = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.20.a
        add_ruler_personality = kind_hearted_personality
        add_country_modifier = {
            name = shouliukapeihouyi
            duration = 5475
        }
        custom_tooltip = EDG_flavorAVE_mission_Sa.20.aa
        set_country_flag = kapeigongzhu
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.20.b
        add_country_modifier = {
            name = zishengzimie
            duration = 5475
        }
    }
    option = {
        name = EDG_flavorAVE_mission_Sa.20.c
        add_country_modifier = {
            name = zhancaochugen
            duration = 1825
        }
        custom_tooltip = EDG_flavorAVE_mission_Sa.20.cc
        set_country_flag = EDG_flavorAVE_mission_Sa.20.c_zhancaochugen
    }
   
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.21
    title = EDG_flavorAVE_mission_Sa.21.t
    desc = EDG_flavorAVE_mission_Sa.21.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        OR = {
            tag = AVE
            tag = ENG
        }
        has_country_flag = kapeigongzhu
        NOT = { has_country_modifier =shouliukapeihouyi }
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.21.a
        add_country_modifier = {
            name = kapeimingzhu
            duration = -1
        }
    }
}

country_event = {
    id = EDG_flavorAVE_mission_Sa.22
    title = EDG_flavorAVE_mission_Sa.22.t
    desc = EDG_flavorAVE_mission_Sa.22.d
    picture = COMET_SIGHTER_eventPicture
    mean_time_to_happen = {
        months = 12
    }
    trigger = {
        OR = {
            tag = AVE
            tag = ENG
        }
        has_country_flag = EDG_flavorAVE_mission_Sa.20.c_zhancaochugen
        NOT = { has_country_modifier = zhancaochugen }
    }
    fire_only_once = yes
    option = {
        name = EDG_flavorAVE_mission_Sa.22.a
        add_stability = -1
        kill_ruler = yes
        add_country_modifier = {
            name = guizishou
            duration = -1
        }
    }
}
