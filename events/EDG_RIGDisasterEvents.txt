namespace = rigaExpandDisaster

country_event = {
	id = rigaExpandDisaster.0
	is_triggered_only = yes
	title = rigaExpandDisaster.0.name
	desc = rigaExpandDisaster.0.desc
	picture = CIVIL_WAR_eventPicture

	trigger = {
		is_at_war = no
	}

	option = {
		name = rigaExpandDisaster.0.aa
		custom_tooltip = rigaExpandDisaster.0.aa.tt
		swap_non_generic_missions = yes
		add_stability_or_adm_power_per_stab = {
			amount = 3
		}
		capital_scope = {
			spawn_rebels = {
				size = 30
				type = riga_opponent_rebel
				friend = root
			}
			spawn_rebels = {
				size = 40
				type = particularist_rebels
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.1
	is_triggered_only = yes
	title = rigaExpandDisaster.1.name
	desc = rigaExpandDisaster.1.desc
	picture = ANGRY_MOB_eventPicture

	trigger = {
		is_at_war = no
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
	}

	option = {
		name = rigaExpandDisaster.1.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 12
				type = particularist_rebels
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.2
	is_triggered_only = yes
	title = rigaExpandDisaster.2.name
	desc = rigaExpandDisaster.2.desc
	picture = ANGRY_MOB_eventPicture

	trigger = {
		is_at_war = no
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
	}

	option = {
		name = rigaExpandDisaster.2.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 10
				type = riga_supporter_rebel
			}
			spawn_rebels = {
				size = 12
				type = particularist_rebels
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.3
	is_triggered_only = yes
	title = rigaExpandDisaster.3.name
	desc = rigaExpandDisaster.3.desc
	picture = ANGRY_MOB_eventPicture

	trigger = {
		is_at_war = no
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
	}

	option = {
		name = rigaExpandDisaster.3.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 12
				type = particularist_rebels
			}
			spawn_rebels = {
				size = 10
				type = noble_rebels
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.4
	is_triggered_only = yes
	title = rigaExpandDisaster.4.name
	desc = rigaExpandDisaster.4.desc
	picture = ANGRY_MOB_eventPicture

	trigger = {
		is_at_war = no
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
	}

	option = {
		name = rigaExpandDisaster.4.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 10
				type = riga_supporter_rebel
			}
			spawn_rebels = {
				size = 12
				type = particularist_rebels
			}
			spawn_rebels = {
				size = 10
				type = noble_rebels
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.5
	is_triggered_only = yes
	title = rigaExpandDisaster.5.name
	desc = rigaExpandDisaster.5.desc
	picture = ANGRY_MOB_eventPicture

	trigger = {
		NOT = {
			has_country_flag = rig_dawn_of_war_big_conflict
		}
		is_at_war = no
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
		
	}

	option = {
		name = rigaExpandDisaster.5.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 50
				type = anti_tax_rebels
			}
			spawn_rebels = {
				size = 25
				type = noble_rebels
			}
			spawn_rebels = {
				size = 30
				type = riga_supporter_rebel
			}
			spawn_rebels = {
				size = 25
				type = particularist_rebels
			}
		}
		hidden_effect = {
			set_country_flag = rig_dawn_of_war_big_conflict
		}
	}
}
country_event = {
	id = rigaExpandDisaster.6
	is_triggered_only = yes
	title = rigaExpandDisaster.6.name
	desc = rigaExpandDisaster.6.desc
	picture = ANGRY_MOB_eventPicture
	trigger = {
		is_at_war = no
	}

	option = {
		name = rigaExpandDisaster.6.aa
		every_owned_province = {
			limit = {
				is_state_core = root
			}
			spawn_rebels = {
				size = 5
				type = particularist_rebels
			}
			spawn_rebels = {
				size = 3
				type = riga_supporter_rebel
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.7
	is_triggered_only = yes
	title = rigaExpandDisaster.7.name
	desc = rigaExpandDisaster.7.desc
	picture = ANGRY_MOB_eventPicture

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
	}

	option = {
		name = rigaExpandDisaster.7.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 25
				type = anti_tax_rebels
			}
			spawn_rebels = {
				size = 10
				type = noble_rebels
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.8
	is_triggered_only = yes
	title = rigaExpandDisaster.8.name
	desc = rigaExpandDisaster.8.desc
	picture = ANGRY_MOB_eventPicture

	trigger = {
		NOT = {
			has_spawned_rebels = riga_opponent_rebel
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state_core = root
				}
				save_event_target_as = riga_dawn_of_war_unrstprovince_target
			}
		}
	}

	option = {
		name = rigaExpandDisaster.8.aa
		event_target:riga_dawn_of_war_unrstprovince_target = {
			spawn_rebels = {
				size = 25
				type = riga_opponent_rebel
				friend = root
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.100
	is_triggered_only = yes
	title = rigaExpandDisaster.100.name
	desc = rigaExpandDisaster.100.desc
	

	immediate = {
		set_country_flag = riga_dawn_of_war_end_flag
		clr_country_flag = rig_dawn_of_war_big_conflict
	}

	option = {
		name = rigaExpandDisaster.100.aa
		add_prestige_or_monarch_power  = {
			amount = 100
		}
		add_government_power = {
			mechanic_type = rig_military_reform_mechanic
			power_type = rig_military_reform
			value = 20
		}
		add_government_power = {
			mechanic_type = rig_military_reform_mechanic
			power_type = rig_administrative_reform
			value = 20
		}
		hidden_effect = {
			clear_global_event_target = riga_rebel_target
		}
		swap_non_generic_missions = yes
	}
	option = {
		name = rigaExpandDisaster.100.bb
		event_target:riga_rebel_target = {
			capital_scope = {
				add_base_tax = -5
				add_base_production = -5
				add_base_manpower = -5
			}
			add_liberty_desire = -100
		}
		add_government_power = {
			mechanic_type = rig_military_reform_mechanic
			power_type = rig_military_reform
			value = 20
		}
		add_government_power = {
			mechanic_type = rig_military_reform_mechanic
			power_type = rig_administrative_reform
			value = 20
		}
		hidden_effect = {
			clear_global_event_target = riga_rebel_target
		}
		swap_non_generic_missions = yes
	}
}
country_event = {
	id = rigaExpandDisaster.200
	is_triggered_only = yes
	title = rigaExpandDisaster.200.name
	desc = rigaExpandDisaster.200.desc

	immediate = {
		hidden_effect = {
			add_stability = -6
			add_prestige = -200
			set_country_flag = begin_battle_of_heaven_flag
			swap_non_generic_missions = yes
			set_variable = {
				which = riga_authority_of_the_diocese
				value = 100
			}
		}
	}

	option = {
		name = rigaExpandDisaster.200.aa
		custom_tooltip = rigaExpandDisaster.200.aa.tt
		tooltip = {
			set_variable = {
				which = riga_authority_of_the_diocese
				value = 100
			}
			add_stability = -6
			add_prestige = -200
			swap_non_generic_missions = yes

		}
		hidden_effect = {
			set_country_flag = begin_battle_of_heaven_flag
		}
		
	}
}
country_event = {
	id = rigaExpandDisaster.201
	is_triggered_only = yes
	title = rigaExpandDisaster.201.name
	desc = rigaExpandDisaster.201.desc

	option = {
		name = rigaExpandDisaster.201.aa
		add_stability = -3
	}
}
country_event = {
	id = rigaExpandDisaster.210
	is_triggered_only = yes
	title =  rigaExpandDisaster.210.name
	desc = rigaExpandDisaster.210.desc

	trigger = {
		OR = {
			AND = {
				exists = SYR
				SYR = {
					is_subject = yes
					overlord = {
						OR = {
							is_subject_of = root
							tag = root
						}
					}
				}
			}
			NOT = {
				exists = SYR
			}
			AND = {
				exists = IRQ
				IRQ = {
					is_subject = yes
					overlord = {
						OR = {
							is_subject_of = root
							tag = root
						}
					}
				}
			}
			NOT = {
				exists = IRQ
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { 
					exists = IRQ
					IRQ = {
						is_subject = yes
						overlord = {
							OR = {
								is_subject_of = root
								tag = root
							}
						}
					}
				}
				IRQ = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = overlord
					}
				}
			}
			else = {
				every_province = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						is_core = IRQ
					}
					cede_province = IRQ
				}
				create_subject = {
					subject_type = vassal
					subject = SYR
				}
				IRQ = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = overlord
					}
				}
			}
			if = {
				limit = { 
					exists = SYR
					SYR = {
						is_subject = yes
						overlord = {
							OR = {
								is_subject_of = root
								tag = root
							}
						}
					}
				}
				SYR = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = overlord
					}
				}
			}
			else = {
				every_province = {
					limit = {
						riga_subject_of_subject_owned_land = { who = root }
						is_core = SYR
					}
					cede_province = SYR
				}
				create_subject = {
					subject_type = vassal
					subject = SYR
				}
				SYR = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = overlord
					}
				}
			}
		}
	}

	option = {
		name = rigaExpandDisaster.210.aa
		tooltip = {
			if = {
				limit = { 
					exists = IRQ
					IRQ = {
						is_subject = yes
						overlord = {
							OR = {
								is_subject_of = root
								tag = root
							}
						}
					}
				}
				IRQ = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = overlord
					}
				}
			}
			if = {
				limit = { 
					exists = SYR
					SYR = {
						is_subject = yes
						overlord = {
							OR = {
								is_subject_of = root
								tag = root
							}
						}
					}
				}
				SYR = {
					declare_war_with_cb = {
						casus_belli = cb_independence_war
						who = overlord
					}
				}
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.250
	is_triggered_only = yes
	title = rigaExpandDisaster.250.name
	desc = rigaExpandDisaster.250.desc

	trigger = {
		any_subject_country = {
			NOT = {
				OR = {
					is_subject_of_type = rig_knightage_vissal
					is_subject_of_type = rig_trade_city
					is_subject_of_type = rig_overseas_episcopate
				}
			}
			liberty_desire = 50
		}
		check_variable = {
			which = riga_authority_of_the_diocese
			value = 70
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = {
						OR = {
							is_subject_of_type = rig_knightage_vissal
							is_subject_of_type = rig_trade_city
							is_subject_of_type = rig_overseas_episcopate
						}
					}
					liberty_desire = 50
				}
				save_event_target_as = rig_subject_unrest_target
			}
			event_target:rig_subject_unrest_target = {
				declare_war_with_cb = {
					casus_belli = cb_independence_war
					who = root
				}
			}
			subtract_variable = {
				which = riga_authority_of_the_diocese
				value = 5
			}
		}
	}

	

	option = {
		name = rigaExpandDisaster.250.aa
		tooltip = {
			event_target:rig_subject_unrest_target = {
				declare_war_with_cb = {
					casus_belli = cb_independence_war
					who = root
				}
			}
			subtract_variable = {
				which = riga_authority_of_the_diocese
				value = 5
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.251
	is_triggered_only = yes
	title = rigaExpandDisaster.251.name
	desc = rigaExpandDisaster.251.desc
	major = yes

	trigger = {
		any_subject_country = {
			OR = {
				is_subject_of_type = rig_episcopal_administrative_district
				is_subject_of_type = rig_episcopal_economic_district
				is_subject_of_type = rig_episcopal_military_district
			}
			NOT = {
				stability = 0
			}
		}
		NOT = {
			check_variable = {
				which = riga_authority_of_the_diocese
				value = 60
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					OR = {
						is_subject_of_type = rig_episcopal_administrative_district
						is_subject_of_type = rig_episcopal_economic_district
						is_subject_of_type = rig_episcopal_military_district
					}
					NOT = {
						stability = 0
					}
				}
				save_event_target_as = rig_subject_unrest_target
				event_target:rig_subject_unrest_target = {
					every_owned_province = {
						limit = {
							is_core = prev
						}
						set_province_flag = the_core_province_flag
					}
				}
				release_all_possible_countries = yes
				set_bankruptcy = this
				every_province = {
					limit = {
						has_province_flag = the_core_province_flag
					}
					add_core = event_target:rig_subject_unrest_target
					clr_province_flag = the_core_province_flag
				}
			}
			subtract_variable = {
				which = riga_authority_of_the_diocese
				value = 10
			}
		}
	}

	option = {
		name = rigaExpandDisaster.251.aa
		custom_tooltip = rigaExpandDisaster.251.aa.tt
		tooltip = {
			event_target:rig_subject_unrest_target = {
				release_all_possible_countries = yes
				set_bankruptcy = this
			}
			change_variable = {
				which = riga_authority_of_the_diocese
				value = 10
			}
		}
		add_prestige = 10
		hidden_effect = {
			change_variable = {
				which = riga_authority_of_the_diocese
				value = 20
			}
			every_country = {
				limit = {
					any_owned_province = {
						is_core = event_target:rig_subject_unrest_target
					}
					NOT = {
						OR = {
							is_subject_of = root
							AND = {
								is_subject = yes
								overlord = {
									is_subject_of = root
								}
							}
						}
					}
				}
				root = {
					declare_war_with_cb = {
						who = prev
						casus_belli = cb_annex
					}
				}
			}
		}
	}
	option = {
		name = rigaExpandDisaster.251.bb
		add_prestige = -50
		tooltip = {
			subtract_variable = {
				which = riga_authority_of_the_diocese
				value = 10
			}
		}
	}
}
country_event = {
	id = rigaExpandDisaster.252
	is_triggered_only = yes
	title = none
	desc = none
	picture = none
	hidden = yes

	immediate = {
		subtract_variable = {
			which = riga_authority_of_the_diocese
			value = 1
		}
	}

	option = {
		
	}
}
country_event = {
	id = rigaExpandDisaster.300
	is_triggered_only = yes
	title = rigaExpandDisaster.300.name
	desc = rigaExpandDisaster.300.desc
	major = yes

	immediate = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						area = eastern_maine_area
						area = maine_area
						area = great_woods_area
						area = south_iroquoisia_area
						area = massachusetts_bay_area
						area = connecticut_valley_area
						area = hudson_valley_area
						area = iroquoisia_area
						area = westsylvania_area
						area = susquehanna_area
					}
				}
				add_core = VRM
				cede_province = VRM
			}
			VRM = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					OR = {
						area = lower_louisiana_area
						area = mississippi_plain_area
						area = ozarks_area
						area = upper_louisiana_area
						region = great_plains_region
					}
				}
				add_core = LOU
				cede_province = LOU
			}
			LOU = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					colonial_region = colonial_canada
				}
				add_core = QUE
				cede_province = QUE
			}
			QUE = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					OR = {
						area = florida_area
						area = west_florida_area
						area = north_florida_area
					}
				}
				add_core = FLO
				cede_province = FLO
			}
			FLO = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					OR = {
						area = southern_illinois_area
						area = illinois_country_area
						area = north_florida_area
						area = miami_river_area
						area = ohio_country_area
						area = michigan_area
						area = wisconsin_area
						area = lake_superior_area
						area = appalachia_area
						area = kentucky_area
						area = western_kentucky_area
						area = choctaw_area
					}
				}
				add_core = ILI
				cede_province = ILI
			}
			ILI = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					OR = {
						area = coastal_prarie_area
						area = texas_area
						area = texas_plains_area
					}
				}
				add_core = TEX
				cede_province = TEX
			}
			TEX = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					colonial_region = colonial_california
				}
				add_core = CAL
				cede_province = CAL
			}
			CAL = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			every_owned_province = {
				limit = {
					region = cascadia_region
				}
				add_core = CSC
				cede_province = CSC
			}
			CSC = {
				set_country_flag = changed_from_colonial_nation 
				set_consort_culture = baltic_german
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.6
						cavalry = 0.2
						artillery = 0.2
					}
				}
				change_religion = catholic
			}
			if = {
				limit = { 
					is_subject_of = RIG
				}
				RIG = {
					free_vassal = root
				}
			}
			
		}
	}

	option = {
		name = rigaExpandDisaster.300.aa
		tooltip = {
			if = {
				limit = { 
					is_subject_of = RIG
				}
				RIG = {
					free_vassal = root
				}
			}
		}
		change_tag = USA
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = rigaExpandDisaster.300.bb
		ai_chance = {
			factor = 100
		}
		custom_tooltip = rigaExpandDisaster.300.bb.tt
		tooltip = {
			if = {
				limit = { 
					is_subject_of = RIG
				}
				RIG = {
					free_vassal = root
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { 
					exists = VRM
				}
				VRM = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = LOU
				}
				LOU = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = QUE
				}
				QUE = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = FLO
				}
				FLO = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = ILI
				}
				ILI = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = TEX
				}
				TEX = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = CAL
				}
				CAL = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
			if = {
				limit = { 
					exists = CSC
				}
				CSC = {
					declare_war_with_cb = {
						casus_belli = cb_annex
						who = root
					}
				}
			}
		}
	}
}

country_event = {
	id = rigaExpandDisaster.400
	is_triggered_only = yes
	title = rigaExpandDisaster.400.title
	desc = rigaExpandDisaster.400.desc

	option = {
		name = rigaExpandDisaster.400.aa
		hidden_effect = {
			clr_country_flag = begin_battle_of_heaven_flag
			set_country_flag = finish_battle_of_heaven
		}
		swap_non_generic_missions = yes
	}
}