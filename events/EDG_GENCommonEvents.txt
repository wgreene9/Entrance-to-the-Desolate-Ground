namespace = EDG_GENCommonEvents

country_event = {
	id = EDG_GENCommonEvents.0
	is_triggered_only = yes
	title = EDG_GENCommonEvents.0.name
	desc = EDG_GENCommonEvents.0.desc
	picture = ADVISOR_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = EDG_GENCommonEvents_0_flag
		}
	}

	option = {
		name = EDG_GENCommonEvents.0.aa
		hidden_effect = {
			clr_country_flag = EDG_GEN_george_house_five_flag
			clr_country_flag = EDG_GEN_george_house_ten_flag
			clr_country_flag = EDG_GEN_george_house_hun_flag
			country_event = {
				id = EDG_GENCommonEvents.0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.0.bb
		hidden_effect = {
			set_country_flag = EDG_GEN_george_house_five_flag
			clr_country_flag = EDG_GEN_george_house_ten_flag
			clr_country_flag = EDG_GEN_george_house_hun_flag
			country_event = {
				id = EDG_GENCommonEvents.0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.0.cc
		hidden_effect = {
			set_country_flag = EDG_GEN_george_house_ten_flag
			clr_country_flag = EDG_GEN_george_house_five_flag
			clr_country_flag = EDG_GEN_george_house_hun_flag
			country_event = {
				id = EDG_GENCommonEvents.0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.0.dd
		hidden_effect = {
			set_country_flag = EDG_GEN_george_house_hun_flag
			clr_country_flag = EDG_GEN_george_house_five_flag
			clr_country_flag = EDG_GEN_george_house_ten_flag
			country_event = {
				id = EDG_GENCommonEvents.0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.0.00
	}

	after = {
		clr_country_flag = EDG_GENCommonEvents_0_flag
	}
}
country_event = {
	id = EDG_GENCommonEvents.1
	is_triggered_only = yes
	title = EDG_GENCommonEvents.1.name
	desc = EDG_GENCommonEvents.1.desc
	picture = ADVISOR_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = EDG_GENCommonEvents_1_flag
		}
	}

	option = {
		name = EDG_GENCommonEvents.1.aa
		trigger = {
			treasury = 100
		}
		add_treasury = -100
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = 100
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = 100
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = 100
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				country_event = {
					id = EDG_GENCommonEvents.1
				}
			}
		}
		change_variable = {
			which = EDG_GEN_deposit_to_bank_var
			value = 1
		}
		change_variable = {
			which = EDG_GEN_credit_rating_var
			value = 1
		}
		if = {
			limit = { 
				NOT = {
					OR = {
						has_country_modifier = EDG_GEN_currency_management_2
						has_country_modifier = EDG_GEN_currency_management_3
					}
				}
			}
			if = {
				limit = { 
					NOT = {
						has_country_modifier = EDG_GEN_currency_management
					}
				}
				add_country_modifier = {
					name = EDG_GEN_currency_management
					duration = 365
				}
			}
			else = {
				extend_country_modifier = {
					name = EDG_GEN_currency_management
					duration = 365
				}
			}
		}
		else = {
			add_dip_power = 10
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.1.bb
		trigger = {
			if = {
				limit = { 
					ai = no
				}
				treasury = 500
			}
			else = {
				treasury = 500
				total_development = 500
			}
		}
		add_treasury = -500
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = 500
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = 500
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = 500
		# 		}
		# 	}
		# }
		
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				country_event = {
					id = EDG_GENCommonEvents.1
				}
			}
		}
		change_variable = {
			which = EDG_GEN_deposit_to_bank_var
			value = 5
		}
		change_variable = {
			which = EDG_GEN_credit_rating_var
			value = 5
		}
		if = {
			limit = { 
				has_country_modifier = EDG_GEN_currency_management
			}
			remove_country_modifier = EDG_GEN_currency_management
		}
		if = {
			limit = { 
				NOT = {
					has_country_modifier = EDG_GEN_currency_management_3
				}
			}
			if = {
				limit = { 
					NOT = {
						has_country_modifier = EDG_GEN_currency_management
					}
				}
				add_country_modifier = {
					name = EDG_GEN_currency_management
					duration = 365
				}
			}
		}
		else = {
			add_dip_power = 50
		}
		else = {
			extend_country_modifier = {
				name = EDG_GEN_currency_management
				duration = 365
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = EDG_GENCommonEvents.1.cc
		trigger = {
			if = {
				limit = { 
					ai = no
				}
				treasury = 1000
			}
			else = {
				treasury = 1000
				total_development = 500
			}
		}
		add_treasury = -1000
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = 1000
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = 1000
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = 1000
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				country_event = {
					id = EDG_GENCommonEvents.1
				}
			}
		}
		change_variable = {
			which = EDG_GEN_deposit_to_bank_var
			value = 10
		}
		change_variable = {
			which = EDG_GEN_credit_rating_var
			value = 10
		}
		if = {
			limit = { 
				has_country_modifier = EDG_GEN_currency_management
			}
			remove_country_modifier = EDG_GEN_currency_management
		}
		if = {
			limit = { 
				has_country_modifier = EDG_GEN_currency_management_2
			}
			remove_country_modifier = EDG_GEN_currency_management_2
		}
		if = {
			limit = { 
				NOT = {
					has_country_modifier = EDG_GEN_currency_management_3
				}
			}
			add_country_modifier = {
				name = EDG_GEN_currency_management_3
				duration = 365
			}
		}
		else = {
			extend_country_modifier = {
				name = EDG_GEN_currency_management_3
				duration = 365
			}
		}
		ai_chance = {
			factor = 1000
		}
	}
	option = {
		name = EDG_GENCommonEvents.1.00
		trigger = {
			ai = no
		}
		ai_chance = {
			factor = 10
		}
	}

	after = {
		clr_country_flag = EDG_GENCommonEvents_1_flag
	}
}
country_event = {
	id = EDG_GENCommonEvents.2
	is_triggered_only = yes
	title = EDG_GENCommonEvents.2.name
	desc = EDG_GENCommonEvents.2.desc
	picture = ADVISOR_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = EDG_GENCommonEvents_2_flag
		}
	}

	option = {
		name = EDG_GENCommonEvents.2.aa
		trigger = {
			check_variable = {
				which = EDG_GEN_deposit_to_bank_var
				value = 1
			}
			event_target:EDG_St_George_House_Target = {
				has_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 200
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 200
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 200
			# 		}
			# 	}
			# }
		}
		add_treasury = 100
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = -100
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -100
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -100
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				country_event = {
					id = EDG_GENCommonEvents.2
				}
			}
		}
		subtract_variable = {
			which = EDG_GEN_deposit_to_bank_var
			value = 1
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.2.bb
		trigger = {
			check_variable = {
				which = EDG_GEN_deposit_to_bank_var
				value = 5
			}
			event_target:EDG_St_George_House_Target = {
				has_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 700
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 700
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 700
			# 		}
			# 	}
			# }
		}
		add_treasury = 500
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = -500
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -500
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -500
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				country_event = {
					id = EDG_GENCommonEvents.2
				}
			}
		}
		subtract_variable = {
			which = EDG_GEN_deposit_to_bank_var
			value = 5
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = EDG_GENCommonEvents.2.cc
		trigger = {
			check_variable = {
				which = EDG_GEN_deposit_to_bank_var
				value = 10
			}
			event_target:EDG_St_George_House_Target = {
				has_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 1200
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 1200
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 1200
			# 		}
			# 	}
			# }
		}
		add_treasury = 1000
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = -1000
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -1000
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -1000
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				country_event = {
					id = EDG_GENCommonEvents.2
				}
			}
		}
		subtract_variable = {
			which = EDG_GEN_deposit_to_bank_var
			value = 10
		}
		ai_chance = {
			factor = 1000
		}
	}
	option = {
		name = EDG_GENCommonEvents.2.00
		trigger = {
			ai = no
		}
		ai_chance = {
			factor = 10
		}
	}

	after = {
		clr_country_flag = EDG_GENCommonEvents_2_flag
	}
}
country_event = {
	id = EDG_GENCommonEvents.3
	is_triggered_only = yes
	title = EDG_GENCommonEvents.3.name
	desc = EDG_GENCommonEvents.3.desc
	picture = ADVISOR_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = EDG_GENCommonEvents_3_flag
		}
	}

	option = {
		name = EDG_GENCommonEvents.3.aa
		trigger = {
			event_target:EDG_St_George_House_Target = {
				has_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 200
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 200
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 200
			# 		}
			# 	}
			# }
			if = {
				limit = { 
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 0
						}
					}
				}
				always = no
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 0
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 3
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 1
					}
				}
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 3
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 15
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 5
					}
				}
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 15
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 30
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 10
					}
				}
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 30
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 50
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 25
					}
				}
			}
			else = {
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 50
					}
				}
			}
		}
		add_treasury = 100
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = -100
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -100
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -100
		# 		}
		# 	}
		# }
		
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				# country_event = {
				# 	id = EDG_GENCommonEvents.3
				# }
			}
			country_event = {
				id = EDG_GENCommonEvents.4
				days = 1825
			}
		}
		change_variable = {
			which = EDG_GEN_borrow_to_bank_var
			value = 1
		}
		change_variable = {
			which = EDG_GEN_credit_rating_var
			value = 1
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.3.bb
		trigger = {
			event_target:EDG_St_George_House_Target = {
				has_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 700
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 700
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 700
			# 		}
			# 	}
			# }
			if = {
				limit = { 
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 0
						}
					}
				}
				always = no
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 0
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 3
						}
					}
				}
				always = no
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 3
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 15
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 1
					}
				}
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 15
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 30
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 6
					}
				}
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 30
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 50
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 21
					}
				}
			}
			else = {
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 46
					}
				}
			}
		}
		add_treasury = 500
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = -500
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -500
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -500
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				# country_event = {
				# 	id = EDG_GENCommonEvents.3
				# }
			}
			country_event = {
				id = EDG_GENCommonEvents.4
				days = 1825
			}
		}
		change_variable = {
			which = EDG_GEN_borrow_to_bank_var
			value = 5
		}
		change_variable = {
			which = EDG_GEN_credit_rating_var
			value = 5
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = EDG_GENCommonEvents.3.cc
		trigger = {
			event_target:EDG_St_George_House_Target = {
				has_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 1200
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 1200
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		has_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 1200
			# 		}
			# 	}
			# }
			if = {
				limit = { 
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 0
						}
					}
				}
				always = no
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 0
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 3
						}
					}
				}
				always = no
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 3
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 15
						}
					}
				}
				always = no
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 15
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 30
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 1
					}
				}
			}
			else_if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_credit_rating_var
						value = 30
					}
					NOT = {
						check_variable = {
							which = EDG_GEN_credit_rating_var
							value = 50
						}
					}
				}
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 16
					}
				}
			}
			else = {
				NOT = {
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 41
					}
				}
			}
		}
		add_treasury = 1000
		event_target:EDG_St_George_House_Target = {
			add_government_power = {
				mechanic_type = EDG_GEN_george_house_mechanic
				power_type = EDG_GEN_george_house
				value = -1000
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -1000
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		add_government_power = {
		# 			mechanic_type = EDG_GEN_george_house_mechanic
		# 			power_type = EDG_GEN_george_house
		# 			value = -1000
		# 		}
		# 	}
		# }
		hidden_effect = {
			if = {
				limit = { 
					ai = no
				}
				# country_event = {
				# 	id = EDG_GENCommonEvents.3
				# }
			}
			country_event = {
				id = EDG_GENCommonEvents.4
				days = 1825
			}
		}
		change_variable = {
			which = EDG_GEN_borrow_to_bank_var
			value = 10
		}
		change_variable = {
			which = EDG_GEN_credit_rating_var
			value = 10
		}
		ai_chance = {
			factor = 1000
		}
	}
	option = {
		name = EDG_GENCommonEvents.3.00
		trigger = {
			ai = no
		}
		ai_chance = {
			factor = 10
		}
	}

	after = {
		clr_country_flag = EDG_GENCommonEvents_3_flag
	}
}

country_event = {
	id = EDG_GENCommonEvents.4
	is_triggered_only = yes
	title = EDG_GENCommonEvents.4.name
	desc = EDG_GENCommonEvents.4.desc

	immediate = {
		hidden_effect = {
			add_country_modifier = {
				name = EDG_GEN_repayment_cycle
				duration = 1825
			}
		}
	}

	trigger = {
		event_target:EDG_St_George_House_Target = {
			has_government_mechanic = EDG_GEN_george_house_mechanic
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	exists = ITA
		# 	ITA = {
		# 		has_government_mechanic = EDG_GEN_george_house_mechanic
		# 	}
		# }
		# else = {
		# 	exists = GEN
		# 	GEN = {
		# 		has_government_mechanic = EDG_GEN_george_house_mechanic
		# 	}
		# }
	}

	option = {
		name = EDG_GENCommonEvents.4.aa
		trigger = {
			treasury = 100
			check_variable = {
				which = EDG_GEN_borrow_to_bank_var
				value = 1
			}
			ai = no
		}
		add_treasury = -101
		subtract_variable = {
			which = EDG_GEN_borrow_to_bank_var
			value = 1
		}
		hidden_effect = {
			country_event = {
				id = EDG_GENCommonEvents.4
			}
			event_target:EDG_St_George_House_Target = {
				add_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 101
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		add_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 101
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		add_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 101
			# 		}
			# 	}
			# }
		}
	}
	option = {
		name = EDG_GENCommonEvents.4.bb
		trigger = {
			treasury = 500
			check_variable = {
				which = EDG_GEN_borrow_to_bank_var
				value = 5
			}
			ai = no
		}
		add_treasury = -505
		subtract_variable = {
			which = EDG_GEN_borrow_to_bank_var
			value = 5
		}
		hidden_effect = {
			country_event = {
				id = EDG_GENCommonEvents.4
			}
			event_target:EDG_St_George_House_Target = {
				add_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 505
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		add_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 505
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		add_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 505
			# 		}
			# 	}
			# }
		}
	}
	option = {
		name = EDG_GENCommonEvents.4.cc
		trigger = {
			treasury = 1000
			check_variable = {
				which = EDG_GEN_borrow_to_bank_var
				value = 10
			}
			ai = no
		}
		add_treasury = -1010
		subtract_variable = {
			which = EDG_GEN_borrow_to_bank_var
			value = 10
		}
		hidden_effect = {
			country_event = {
				id = EDG_GENCommonEvents.4
			}
			event_target:EDG_St_George_House_Target = {
				add_government_power = {
					mechanic_type = EDG_GEN_george_house_mechanic
					power_type = EDG_GEN_george_house
					value = 1010
				}
			}
			# if = {
			# 	limit = { 
			# 		exists = ITA
			# 	}
			# 	ITA = {
			# 		add_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 1010
			# 		}
			# 	}
			# }
			# else = {
			# 	GEN = {
			# 		add_government_power = {
			# 			mechanic_type = EDG_GEN_george_house_mechanic
			# 			power_type = EDG_GEN_george_house
			# 			value = 1010
			# 		}
			# 	}
			# }
		}
	}
	option = {
		name = EDG_GENCommonEvents.4.dd
		hidden_effect = {
			set_variable = {
				which = EDG_event_var
				which = EDG_GEN_borrow_to_bank_var
			}
			while = {
				limit = { 
					check_variable = {
						which = EDG_event_var
						value = 0
					}
				}
				subtract_variable = {
					which = EDG_event_var
					value = 1
				}
				add_treasury = -101
				event_target:EDG_St_George_House_Target = {
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 101
					}
				}
				# if = {
				# 	limit = { 
				# 		exists = ITA
				# 	}
				# 	ITA = {
				# 		add_government_power = {
				# 			mechanic_type = EDG_GEN_george_house_mechanic
				# 			power_type = EDG_GEN_george_house
				# 			value = 101
				# 		}
				# 	}
				# }
				# else = {
				# 	GEN = {
				# 		add_government_power = {
				# 			mechanic_type = EDG_GEN_george_house_mechanic
				# 			power_type = EDG_GEN_george_house
				# 			value = 101
				# 		}
				# 	}
				# }
			}
			set_variable = {
				which = EDG_GEN_borrow_to_bank_var
				value = 0
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					is_at_war = yes
					is_in_deficit = yes
				}
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.4.ee
		custom_tooltip = EDG_GENCommonEvents.4.ee.tt
		tooltip = {
			set_variable = {
				which = EDG_GEN_borrow_to_bank_var
				value = 0
			}
		}
		hidden_effect = {
			while = {
				limit = { 
					check_variable = {
						which = EDG_GEN_borrow_to_bank_var
						value = 0
					}
				}
				subtract_variable = {
					which = EDG_GEN_borrow_to_bank_var
					value = 1
				}
				subtract_variable = {
					which = EDG_GEN_credit_rating_var
					value = 5
				}
				add_inflation = 1.5
			}
			set_variable = {
				which = EDG_GEN_borrow_to_bank_var
				value = 0
			}
			every_country = {
				limit = {
					check_variable = {
						which = EDG_GEN_deposit_to_bank_var
						value = 1
					}
				}
				add_opinion = {
					who = root
					modifier = opinion_EDG_GEN_credit_boycott
				}
				add_trust = {
					who = root
					value = -10
				}
			}
		}
		event_target:EDG_St_George_House_Target = {
			country_event = {
				id = EDG_GENCommonEvents.5
			}
			add_opinion = {
				who = root
				modifier = opinion_EDG_GEN_credit_boycott
			}
		}
		# if = {
		# 	limit = { 
		# 		exists = ITA
		# 	}
		# 	ITA = {
		# 		country_event = {
		# 			id = EDG_GENCommonEvents.5
		# 		}
		# 		add_opinion = {
		# 			who = root
		# 			modifier = opinion_EDG_GEN_credit_boycott
		# 		}
		# 	}
		# }
		# else = {
		# 	GEN = {
		# 		country_event = {
		# 			id = EDG_GENCommonEvents.5
		# 		}
		# 		add_opinion = {
		# 			who = root
		# 			modifier = opinion_EDG_GEN_credit_boycott
		# 		}
		# 	}
		# }
		
		add_country_modifier = {
			name = EDG_GEN_debt_default
			duration = 3650
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1000
				is_rival = GEN
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.4.00
		custom_tooltip = EDG_GENCommonEvents.4.00.tt
		hidden_effect = {
			set_variable = {
				which = EDG_event_var
				which = EDG_GEN_borrow_to_bank_var
			}
			while = {
				limit = { 
					check_variable = {
						which = EDG_event_var
						value = 0
					}
				}
				subtract_variable = {
					which = EDG_event_var
					value = 1
				}
				add_treasury = -10
				event_target:EDG_St_George_House_Target = {
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 10
					}
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = EDG_GENCommonEvents.4
				days = 1825
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 1000
				OR = {
					is_at_war = yes
					is_in_deficit = yes
				}
			}
			modifier = {
				factor = 0
				is_rival = GEN
			}
		}
	}
}

country_event = {
	id = EDG_GENCommonEvents.5
	is_triggered_only = yes
	title = EDG_GENCommonEvents.5.name
	desc = EDG_GENCommonEvents.5.desc
	picture = OVEREXTENSION_eventPicture

	immediate = {
		hidden_effect = {
			from = {
				capital_scope = {
					save_event_target_as = event_province
				}
			}
		}
	}

	option = {
		name = EDG_GENCommonEvents.5.aa
		goto = event_province
		tooltip = {
			from = {
				add_country_modifier = {
					name = EDG_GEN_debt_default
					duration = 3650
				}
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.5.cc
		goto = event_province
		custom_tooltip = EDG_GENCommonEvents.5.cc.tt
		from = {
			if = {
				limit = { 
					check_variable = {
						which = EDG_GEN_deposit_to_bank_var
						value = 1
					}
				}
				set_variable = {
					which = EDG_GEN_deposit_to_bank_var
					value = 0
				}
				add_opinion = {
					who = from
					modifier = opinion_expropriation_assets
				}
				add_opinion = {
					who = from
					modifier = opinion_EDG_GEN_blocked_account
				}
			}
			else = {
				add_opinion = {
					who = root
					modifier = opinion_EDG_GEN_blocked_account
				}
			}
			hidden_effect = {
				set_country_flag = EDG_GEN_blocked_account_flag
			}
		}
		
		tooltip = {
			from = {
				add_country_modifier = {
					name = EDG_GEN_debt_default
					duration = 3650
				}
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.5.bb
		add_prestige = -10
		from = {
			remove_country_modifier = EDG_GEN_debt_default
		}
	}
}
country_event = {
	id = EDG_GENCommonEvents.6
	is_triggered_only = yes
	title = EDG_GENCommonEvents.6.name
	desc = EDG_GENCommonEvents.6.desc
	picture = OVEREXTENSION_eventPicture

	immediate = {
		hidden_effect = {
			clear_global_event_target = EDG_St_George_House_Target
			save_global_event_target_as = EDG_St_George_House_Target
		}
	}
	
	option = {
		name = EDG_GENCommonEvents.6.aa
		
		add_government_power = {
			mechanic_type = EDG_GEN_george_house_mechanic
			power_type = EDG_GEN_george_house
			value = 20000
		}
	}
}

country_event = {
	id = EDG_GENCommonEvents.7
	is_triggered_only = yes
	title = EDG_GENCommonEvents.7.name
	desc = EDG_GENCommonEvents.7.desc
	picture = OVEREXTENSION_eventPicture

	immediate = {
		hidden_effect = {
			set_country_flag = EDG_GENCommonEvents_7_flag
			event_target:EDG_GEN_assign_country_target = {
				set_variable = {
					which = EDG_GEN_total_development_with_subject_var
					value = 0
				}
				
				set_variable = {
					which = EDG_GEN_subject_development_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_total_development_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_national_treasury_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_monthly_income_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_num_of_infantry_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_num_of_cavalry_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_num_of_artillery_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_total_value_var
					value = 0
				}
				export_to_variable = {
					which = EDG_GEN_total_development_var
					value = trigger_value:total_development
				}
				set_variable = {
					which = EDG_GEN_total_development_var_use
					which = EDG_GEN_total_development_var
				}
				multiply_variable = {
					which = EDG_GEN_total_development_var_use
					value = 50
				}
				export_to_variable = {
					which = EDG_GEN_total_development_with_subject_var
					value = trigger_value:total_own_and_non_tributary_subject_development
				}
				set_variable = {
					which = EDG_GEN_total_development_with_subject_var_use
					which = EDG_GEN_total_development_with_subject_var
				}
				multiply_variable = {
					which = EDG_GEN_total_development_with_subject_var_use
					value = 50
				}
				every_subject_country = {
					set_variable = {
						which = EDG_GEN_subject_development_var
						value = 0
					}
					export_to_variable = {
						which = EDG_GEN_subject_development_var
						value = trigger_value:total_development
					}
					prev = {
						change_variable = {
							which = EDG_GEN_subject_development_var
							which = prev
						}
					}
				}
				set_variable = {
					which = EDG_GEN_subject_development_var_use
					which = EDG_GEN_subject_development_var
				}
				multiply_variable = {
					which = EDG_GEN_subject_development_var_use
					value = 50
				}
				export_to_variable = {
					which = EDG_GEN_national_treasury_var
					value = treasury
				}
				export_to_variable = {
					which = EDG_GEN_monthly_income_var
					value = trigger_value:monthly_income
				}
				set_variable = {
					which = EDG_GEN_monthly_income_var_use
					which = EDG_GEN_monthly_income_var
				}
				multiply_variable = {
					which = EDG_GEN_monthly_income_var_use
					value = 120
				}
				export_to_variable = {
					which = EDG_GEN_num_of_infantry_var
					value = trigger_value:num_of_infantry
				}
				set_variable = {
					which = EDG_GEN_num_of_infantry_var_ues
					which = EDG_GEN_num_of_infantry_var
				}
				multiply_variable = {
					which = EDG_GEN_num_of_infantry_var_ues
					value = 10
				}
				export_to_variable = {
					which = EDG_GEN_num_of_cavalry_var
					value = trigger_value:num_of_cavalry
				}
				set_variable = {
					which = EDG_GEN_num_of_cavalry_var_ues
					which = EDG_GEN_num_of_cavalry_var
				}
				multiply_variable = {
					which = EDG_GEN_num_of_cavalry_var_ues
					value = 25
				}
				export_to_variable = {
					which = EDG_GEN_num_of_artillery_var
					value = trigger_value:num_of_artillery
				}
				set_variable = {
					which = EDG_GEN_num_of_artillery_var_ues
					which = EDG_GEN_num_of_artillery_var
				}
				multiply_variable = {
					which = EDG_GEN_num_of_artillery_var_ues
					value = 30
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_total_development_with_subject_var_use
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_monthly_income_var_use
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_national_treasury_var
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_num_of_infantry_var_ues
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_num_of_cavalry_var_ues
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_num_of_artillery_var_ues
				}
				set_variable = {
					which = EDG_GEN_diplomatic_reputation_var
					value = 0
				}
				export_to_variable = {
					which = EDG_GEN_diplomatic_reputation_var
					value = modifier:diplomatic_reputation
				}
				root = {
					set_variable = {
						which = EDG_GEN_total_value_var
						which = prev
					}
					set_variable = {
						which = EDG_GEN_diplomatic_reputation_var
						which = prev
					}
				}
			}
			set_variable = {
				which = EDG_GEN_acquisition_var
				which = EDG_GEN_total_value_var
			}
			set_variable = {
				which = EDG_GEN_diplomatic_reputation_buyer_var
				value = 0
			}
			export_to_variable = {
				which = EDG_GEN_diplomatic_reputation_buyer_var
				value = modifier:diplomatic_reputation
			}
			set_variable = {
				which = EDG_GEN_diplomatic_reputation_difference_var
				which = EDG_GEN_diplomatic_reputation_buyer_var
			}
			subtract_variable = {
				which = EDG_GEN_diplomatic_reputation_difference_var
				which = EDG_GEN_diplomatic_reputation_var
			}
			set_variable = {
				which = EDG_GEN_acquisition_var
				which = EDG_GEN_total_value_var
			}
			set_variable = {
				which = EDG_GEN_diplomatic_reputation_cal_var
				which = EDG_GEN_diplomatic_reputation_difference_var
			}
			subtract_variable = {
				which = EDG_GEN_diplomatic_reputation_cal_var
				value = 100
			}
			if = {
				limit = { 
					NOT = {
						check_variable = {
							which = EDG_GEN_diplomatic_reputation_cal_var
							value = 0
						}
					}
				}
				multiply_variable = {
					which = EDG_GEN_diplomatic_reputation_cal_var
					value = -1
				}
			}
			multiply_variable = {
				which = EDG_GEN_acquisition_var
				which = EDG_GEN_diplomatic_reputation_cal_var
			}
			divide_variable = {
				which = EDG_GEN_acquisition_var
				value = 100
			}
			set_variable = {
				which = EDG_GEN_country_treasury
				value = 0
			}
			export_to_variable = {
				which = EDG_GEN_country_treasury
				value = treasury
			}
		}
	}

	option = {
		name = EDG_GENCommonEvents.7.aa
		if = {
			limit = {
				check_variable = {
					which = EDG_GEN_country_treasury
					which = EDG_GEN_acquisition_var
				}
			}
			custom_tooltip = EDG_GENCommonEvents.7.aa.effect_1.tt
			hidden_effect = {
				while = {
					limit = { 
						check_variable = {
							which = EDG_GEN_total_value_var
							value = 1
						}
					}
					subtract_variable = {
						which = EDG_GEN_total_value_var
						value = 1
					}
					add_treasury = -1
				}
				event_target:EDG_GEN_assign_country_target = {
					every_owned_province = {
						cede_province = root
						add_territorial_core = root
					}
				}
			}
		}
		else = {
			custom_tooltip = EDG_GENCommonEvents.7.aa.effect_2.tt
			
		}
	}
	option = {
		name = EDG_GENCommonEvents.7.bb
	}
	after = {
		clr_country_flag = EDG_GENCommonEvents_7_flag
	}
}
country_event = {
	id = EDG_GENCommonEvents.8
	is_triggered_only = yes
	title = EDG_GENCommonEvents.8.name
	desc = EDG_GENCommonEvents.8.desc
	picture = OVEREXTENSION_eventPicture

	immediate = {
		hidden_effect = {
			event_target:EDG_GEN_assign_country_target = {
				set_variable = {
					which = EDG_GEN_total_development_with_subject_var
					value = 0
				}
				
				set_variable = {
					which = EDG_GEN_subject_development_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_total_development_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_national_treasury_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_monthly_income_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_num_of_infantry_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_num_of_cavalry_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_num_of_artillery_var
					value = 0
				}
				set_variable = {
					which = EDG_GEN_total_value_var
					value = 0
				}
				export_to_variable = {
					which = EDG_GEN_total_development_var
					value = trigger_value:total_development
				}
				set_variable = {
					which = EDG_GEN_total_development_var_use
					which = EDG_GEN_total_development_var
				}
				multiply_variable = {
					which = EDG_GEN_total_development_var_use
					value = 50
				}
				export_to_variable = {
					which = EDG_GEN_total_development_with_subject_var
					value = trigger_value:total_own_and_non_tributary_subject_development
				}
				set_variable = {
					which = EDG_GEN_total_development_with_subject_var_use
					which = EDG_GEN_total_development_with_subject_var
				}
				multiply_variable = {
					which = EDG_GEN_total_development_with_subject_var_use
					value = 50
				}
				every_subject_country = {
					set_variable = {
						which = EDG_GEN_subject_development_var
						value = 0
					}
					export_to_variable = {
						which = EDG_GEN_subject_development_var
						value = trigger_value:total_development
					}
					prev = {
						change_variable = {
							which = EDG_GEN_subject_development_var
							which = prev
						}
					}
				}
				set_variable = {
					which = EDG_GEN_subject_development_var_use
					which = EDG_GEN_subject_development_var
				}
				multiply_variable = {
					which = EDG_GEN_subject_development_var_use
					value = 50
				}
				export_to_variable = {
					which = EDG_GEN_national_treasury_var
					value = treasury
				}
				export_to_variable = {
					which = EDG_GEN_monthly_income_var
					value = trigger_value:monthly_income
				}
				set_variable = {
					which = EDG_GEN_monthly_income_var_use
					which = EDG_GEN_monthly_income_var
				}
				multiply_variable = {
					which = EDG_GEN_monthly_income_var_use
					value = 120
				}
				export_to_variable = {
					which = EDG_GEN_num_of_infantry_var
					value = trigger_value:num_of_infantry
				}
				set_variable = {
					which = EDG_GEN_num_of_infantry_var_ues
					which = EDG_GEN_num_of_infantry_var
				}
				multiply_variable = {
					which = EDG_GEN_num_of_infantry_var_ues
					value = 10
				}
				export_to_variable = {
					which = EDG_GEN_num_of_cavalry_var
					value = trigger_value:num_of_cavalry
				}
				set_variable = {
					which = EDG_GEN_num_of_cavalry_var_ues
					which = EDG_GEN_num_of_cavalry_var
				}
				multiply_variable = {
					which = EDG_GEN_num_of_cavalry_var_ues
					value = 25
				}
				export_to_variable = {
					which = EDG_GEN_num_of_artillery_var
					value = trigger_value:num_of_artillery
				}
				set_variable = {
					which = EDG_GEN_num_of_artillery_var_ues
					which = EDG_GEN_num_of_artillery_var
				}
				multiply_variable = {
					which = EDG_GEN_num_of_artillery_var_ues
					value = 30
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_total_development_with_subject_var_use
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_monthly_income_var_use
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_national_treasury_var
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_num_of_infantry_var_ues
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_num_of_cavalry_var_ues
				}
				change_variable = {
					which = EDG_GEN_total_value_var
					which = EDG_GEN_num_of_artillery_var_ues
				}
				root = {
					set_variable = {
						which = EDG_GEN_total_value_var
						which = prev
					}
					set_variable = {
						which = EDG_GEN_diplomatic_reputation_var
						which = prev
					}
				}
			}
			set_variable = {
				which = EDG_GEN_acquisition_var
				which = EDG_GEN_total_value_var
			}
			set_variable = {
				which = EDG_GEN_diplomatic_reputation_buyer_var
				value = 0
			}
			export_to_variable = {
				which = EDG_GEN_diplomatic_reputation_buyer_var
				value = modifier:diplomatic_reputation
			}
			set_variable = {
				which = EDG_GEN_diplomatic_reputation_difference_var
				which = EDG_GEN_diplomatic_reputation_buyer_var
			}
			subtract_variable = {
				which = EDG_GEN_diplomatic_reputation_difference_var
				which = EDG_GEN_diplomatic_reputation_var
			}
			set_variable = {
				which = EDG_GEN_acquisition_var
				which = EDG_GEN_total_value_var
			}
			set_variable = {
				which = EDG_GEN_diplomatic_reputation_cal_var
				which = EDG_GEN_diplomatic_reputation_difference_var
			}
			subtract_variable = {
				which = EDG_GEN_diplomatic_reputation_cal_var
				value = 100
			}
			if = {
				limit = { 
					NOT = {
						check_variable = {
							which = EDG_GEN_diplomatic_reputation_cal_var
							value = 0
						}
					}
				}
				multiply_variable = {
					which = EDG_GEN_diplomatic_reputation_cal_var
					value = -1
				}
			}
			multiply_variable = {
				which = EDG_GEN_acquisition_var
				which = EDG_GEN_diplomatic_reputation_cal_var
			}
			divide_variable = {
				which = EDG_GEN_acquisition_var
				value = 100
			}
			set_variable = {
				which = EDG_GEN_country_treasury
				value = 0
			}
			export_to_variable = {
				which = EDG_GEN_country_treasury
				value = treasury
			}
		}
	}

	option = {
		name = EDG_GENCommonEvents.7.aa
		custom_tooltip = EDG_GENCommonEvents.7.aa.effect_1.tt
		hidden_effect = {
			while = {
				limit = { 
					check_variable = {
						which = EDG_GEN_total_value_var
						value = 1
					}
				}
				subtract_variable = {
					which = EDG_GEN_total_value_var
					value = 1
				}
				add_treasury = -1
			}
			event_target:EDG_GEN_assign_country_target = {
				every_owned_province = {
					cede_province = root
					add_territorial_core = root
				}
			}
		}
	}
	option = {
		name = EDG_GENCommonEvents.7.bb
	}
	after = {
		clr_country_flag = EDG_GENCommonEvents_7_flag
	}
}