EDG_FYM_estate_copt_on_province_owner_change_effect = {
	
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_lighter_edg_copt_taxes
			}
			NOT = { religion_group = muslim }
		}
		add_province_modifier = {
			name = estate_edg_copt_lighter_edg_copt_taxes_privilege_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_manpower
			}
			NOT = { religion_group = muslim }
		}
		add_province_modifier = {
			name = estate_edg_copt_manpower_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_country_flag = edg_copt_tolerates_wrong_religion
			}
			religion = coptic
		}
		add_province_modifier = {
			name = estate_edg_copt_guaranteed_autonomy_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_millet_system
			}
		}
		if = {
			limit = {
				OR = {
					religion_group = christian
					religion_group = jewish_group
				}
			}
			add_province_modifier = {
				name = estate_edg_copt_millet_system_mod
				duration = -1
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = estate_edg_copt_millet_system_mod }
				remove_province_modifier = estate_edg_copt_millet_system_mod
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_development_of_communities
			}
			has_tax_building_trigger = yes
		}
		if = {
			limit = {
				NOT = { religion_group = ROOT }
			}
			add_province_modifier = {
				name = estate_nomadic_tribes_freedom_of_the_steppes_mod
				duration = -1
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = estate_nomadic_tribes_freedom_of_the_steppes_mod }
				remove_province_modifier = estate_nomadic_tribes_freedom_of_the_steppes_mod
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_development_of_communities
				NOT = { religion_group = PREV }
			}
		}
		add_province_modifier = {
			name = estate_edg_copt_development_of_communities_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_the_great_privilege
			}
			region = low_countries_region
		}
		add_province_modifier = {
			name = estate_edg_copt_the_great_privilege_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_monopoly_of_textiles
			}
			OR = {
				trade_goods = cloth
				trade_goods = silk
			}
		}
		add_province_modifier = {
			name = estate_edg_copt_monopoly_of_textiles_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_monopoly_of_dyes
			}
			trade_goods = dyes
		}
		add_province_modifier = {
			name = estate_edg_copt_monopoly_of_dyes_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_monopoly_of_glass
			}
			trade_goods = glass
		}
		add_province_modifier = {
			name = estate_edg_copt_monopoly_of_glass_mod
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_YEM_coffee_monopoly
			}
			trade_goods = coffee
		}
		add_province_modifier = {
			name = estate_edg_copt_YEM_coffee_monopoly_mod
			duration = -1
		}
	}
	if = {
		limit = {
			trade_goods = grain
			owner = {
				OR = {
					has_estate_privilege = estate_edg_copt_khmer_irrigation
					has_estate_privilege = estate_vaisyas_khmer_irrigation
				}
			}
		}
		add_province_modifier = {
			name = estate_edg_copt_khmer_irrigation_mod
			duration = -1
		}
	}
	if = {
		limit = {
			has_climate = tropical
			owner = {
				has_estate_privilege = estate_edg_copt_tropical_nation
			}
		}
		add_province_modifier = {
			name = estate_edg_copt_tropical_mod
			duration = -1
		}
	}
	if = {
		limit = {
			has_climate = arid
			owner = {
				has_estate_privilege = estate_edg_copt_ARB_oasis_development
			}
		}
		add_province_modifier = {
			name = ARB_estate_edg_copt_arid_climate_development
			duration = -1
		}
	}
	if = {
		limit = {
			OR = {
				has_terrain = desert
				has_terrain = coastal_desert
			}
			owner = {
				has_estate_privilege = estate_edg_copt_ARB_oasis_development
			}
		}
		add_province_modifier = {
			name = ARB_estate_edg_copt_desert
			duration = -1
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_hydraulic_rights
			}
		}
		if = {
			limit = {
				has_terrain = desert
			}
			add_province_modifier = {
				name = estate_edg_copt_hydraulic_rights_desert
				duration = -1
			}
		}
		if = {
			limit = {
				has_terrain = coastal_desert
			}
			add_province_modifier = {
				name = estate_edg_copt_hydraulic_rights_coastal_desert
				duration = -1
			}
		}
		if = {
			limit = {
				has_terrain = steppe
			}
			add_province_modifier = {
				name = estate_edg_copt_hydraulic_rights_steppes
				duration = -1
			}
		}
		if = {
			limit = {
				has_terrain = savannah
			}
			add_province_modifier = {
				name = estate_edg_copt_hydraulic_rights_savanna
				duration = -1
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_forest_expansion
			}
		}
		if = {
			limit = {
				has_terrain = forest
			}
			add_province_modifier = {
				name = estate_edg_copt_forest_expansion_forest
				duration = -1
			}
		}
		if = {
			limit = {
				has_terrain = woods
			}
			add_province_modifier = {
				name = estate_edg_copt_forest_expansion_woods
				duration = -1
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_mountain_expansion
			}
		}
		if = {
			limit = {
				has_terrain = mountain
			}
			add_province_modifier = {
				name = estate_edg_copt_mountain_expansion_mountains
				duration = -1
			}
		}
		if = {
			limit = {
				has_terrain = highlands
			}
			add_province_modifier = {
				name = estate_edg_copt_mountain_expansion_highlands
				duration = -1
			}
		}
		if = {
			limit = {
				has_terrain = hills
			}
			add_province_modifier = {
				name = estate_edg_copt_mountain_expansion_hills
				duration = -1
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_development_of_cities
			}
		}
		if = {
			limit = {
				OR = {
					province_has_center_of_trade_of_level = 1
					has_river_estuary_trigger = yes
				}
			}
			add_province_modifier = {
				name = estate_edg_copt_development_of_cities_mod
				duration = -1
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = estate_edg_copt_development_of_cities_mod }
				remove_province_modifier = estate_edg_copt_development_of_cities_mod
			}
		}
	}
}

EDG_FYM_estate_copt_on_trade_good_changed_estate_privileges_effect = {
	
	if = {
		limit = {
			has_province_modifier = estate_edg_copt_persian_rugs_modifier
			NOT = { trade_goods = silk }
			NOT = { trade_goods = cloth }
			NOT = { trade_goods = dyes }
		}
		remove_province_modifier = estate_edg_copt_persian_rugs_modifier
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_edg_copt_persian_rugs }
			NOT = { has_province_modifier = estate_edg_copt_persian_rugs_modifier }
			OR = {
				trade_goods = silk
				trade_goods = cloth
				trade_goods = dyes
			}
		}
		add_province_modifier = {
			name = estate_edg_copt_persian_rugs_modifier
			duration = -1
		}
	}
	###MONOPOLIES###
	if = {
		limit = {
			has_province_modifier = estate_edg_copt_monopoly_of_textiles_mod
			NOT = { trade_goods = silk }
			NOT = { trade_goods = cloth }
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_textiles_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_edg_copt_monopoly_of_textiles }
			NOT = { has_province_modifier = estate_edg_copt_monopoly_of_textiles_mod }
			OR = {
				trade_goods = silk
				trade_goods = cloth
			}
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_textiles_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_edg_copt_monopoly_of_dyes_mod
			NOT = { trade_goods = dyes }
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_dyes_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_edg_copt_monopoly_of_dyes }
			NOT = { has_province_modifier = estate_edg_copt_monopoly_of_dyes_mod }
			trade_goods = dyes
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_dyes_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_edg_copt_monopoly_of_glass_mod
			NOT = { trade_goods = glass }
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_glass_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_edg_copt_monopoly_of_glass }
			NOT = { has_province_modifier = estate_edg_copt_monopoly_of_glass_mod }
			trade_goods = glass
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_glass_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_edg_copt_monopoly_of_paper_mod
			NOT = { trade_goods = paper }
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_paper_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_edg_copt_monopoly_of_paper }
			NOT = { has_province_modifier = estate_edg_copt_monopoly_of_paper_mod }
			trade_goods = paper
		}
		remove_province_modifier = estate_edg_copt_monopoly_of_paper_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_edg_copt_control_over_gold_mine
			NOT = { trade_goods = gold }
		}
		remove_province_modifier = estate_edg_copt_control_over_gold_mine
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_edg_copt_control_over_the_mint }
			NOT = { has_province_modifier = estate_edg_copt_control_over_gold_mine }
			trade_goods = gold
		}
		add_province_modifier = {
			name = estate_edg_copt_control_over_gold_mine
			duration = -1
		}
	}
}

EDG_FYM_estate_copt_on_province_religion_converted_estate_privileges_effect = {
	
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_lighter_edg_copt_taxes
			}
		}
		if = {
			limit = {
				NOT = { religion_group = muslim }
				NOT = { has_province_modifier = estate_edg_copt_lighter_edg_copt_taxes_privilege_mod }
			}
			add_province_modifier = {
				name = estate_edg_copt_lighter_edg_copt_taxes_privilege_mod
				duration = -1
			}
		}
		else_if = {
			limit = {
				religion_group = muslim
				has_province_modifier = estate_edg_copt_lighter_edg_copt_taxes_privilege_mod
			}
			remove_province_modifier = estate_edg_copt_lighter_edg_copt_taxes_privilege_mod
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_manpower
			}
		}
		if = {
			limit = {
				NOT = { religion_group = muslim }
				NOT = { has_province_modifier = estate_edg_copt_manpower_mod }
			}
			add_province_modifier = {
				name = estate_edg_copt_manpower_mod
				duration = -1
			}
		}
		else_if = {
			limit = {
				religion_group = muslim
				has_province_modifier = estate_edg_copt_manpower_mod
			}
			remove_province_modifier = estate_edg_copt_manpower_mod
		}
	}
	if = {
		limit = {
			owner = {
				has_country_flag = edg_copt_tolerates_wrong_religion
			}
		}
		if = {
			limit = {
				religion = coptic
				NOT = { has_province_modifier = estate_edg_copt_guaranteed_autonomy_mod }
			}
			add_province_modifier = {
				name = estate_edg_copt_guaranteed_autonomy_mod
				duration = -1
			}
		}
		else_if = {
			limit = {
				religion_group = muslim
				has_province_modifier = estate_edg_copt_guaranteed_autonomy_mod
			}
			remove_province_modifier = estate_edg_copt_guaranteed_autonomy_mod
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_millet_system
			}
		}
		if = {
			limit = {
				OR = {
					religion_group = christian
					religion_group = jewish_group
				}
			}
			add_province_modifier = {
				name = estate_edg_copt_millet_system_mod
				duration = -1
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = estate_edg_copt_millet_system_mod }
				remove_province_modifier = estate_edg_copt_millet_system_mod
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_development_of_communities
			}
			has_tax_building_trigger = yes
		}
		if = {
			limit = {
				NOT = { religion_group = ROOT }
			}
			add_province_modifier = {
				name = estate_nomadic_tribes_freedom_of_the_steppes_mod
				duration = -1
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = estate_nomadic_tribes_freedom_of_the_steppes_mod }
				remove_province_modifier = estate_nomadic_tribes_freedom_of_the_steppes_mod
			}
		}
	}
}