EDG_FRA_culture_assimilation_speed_upgrade_effect = {
	if = {
		limit = { has_country_flag = EDG_FRA_culture_assimilation_speed_3_flag }

	}
	else_if = {
		limit = { has_country_flag = EDG_FRA_culture_assimilation_speed_2_flag }
		set_country_flag = EDG_FRA_culture_assimilation_speed_3_flag
		custom_tooltip = EDG_FRA_culture_assimilation_speed_upgrade_effect_tt_3
	}
	else_if = {
		limit = { has_country_flag = EDG_FRA_culture_assimilation_speed_1_flag }
		set_country_flag = EDG_FRA_culture_assimilation_speed_2_flag
		custom_tooltip = EDG_FRA_culture_assimilation_speed_upgrade_effect_tt_2
	}
	else = {
		set_country_flag = EDG_FRA_culture_assimilation_speed_1_flag
		custom_tooltip = EDG_FRA_culture_assimilation_speed_upgrade_effect_tt_1
	}
}

EDG_lose_fra_region_core_effect = {
	hidden_effect = {
		every_province = {
			limit = {
				region = france_region
				is_core = PREV
			}
			remove_core = PREV
		}
	}
}

EDG_FRA_vassal_decision_special_effect = {
	custom_tooltip = EDG_FRA_vassal_decision_special_effect_free_dipslot_tt
	set_country_flag = EDG_FRA_vassal_decision_special_effect_free_dipslot_flag
	EDG_FRA_culture_assimilate_country_effect = yes
	add_liberty_desire = -100 add_historical_friend = ROOT
	add_trust = {
		who = ROOT
		value = 25
		mutual = yes
	}
	change_religion = ROOT
	
	hidden_effect = {
		set_country_flag = change_country_color_EDG_flag
		change_country_color = { country = ROOT }
		if = {
			limit = { NOT = { has_country_flag = EDG_FRA_vassal_decision_special_effect_flag } }
			set_country_flag = EDG_FRA_vassal_decision_special_effect_flag
			change_government = ROOT
			add_treasury = 500
			add_years_of_income = 2.5
			add_yearly_manpower = 10
			add_yearly_sailors = 10
			add_adm_power = 200
			add_dip_power = 200
			add_mil_power = 200
			change_religion = ROOT
		}
	}
}
EDG_FRA_crown_power_increase_effect = {
	if = {
		limit = { has_global_flag = EDG_flavorFRA_5_flag }
		if = {
			limit = { has_global_flag = EDG_flavorFRA_reform_rank_3_flag }
			
		}
		else_if = {
			limit = { has_global_flag = EDG_flavorFRA_reform_rank_2_flag }
			set_global_flag = EDG_flavorFRA_reform_rank_3_flag
			custom_tooltip = EDG_flavorFRA_reform_rank_3_flag_tt
		}
		else_if = {
			limit = { has_global_flag = EDG_flavorFRA_reform_rank_1_flag }
			set_global_flag = EDG_flavorFRA_reform_rank_2_flag
			custom_tooltip = EDG_flavorFRA_reform_rank_2_flag_tt
		}
		else_if = {
			limit = { NOT = { has_global_flag = EDG_flavorFRA_reform_rank_1_flag } }
			set_global_flag = EDG_flavorFRA_reform_rank_1_flag
			custom_tooltip = EDG_flavorFRA_reform_rank_1_flag_tt
		}
	}
}
EDG_FRA_culture_assimilate_country_effect = {
	if = {
		limit = { culture_group = germanic }
		hidden_effect = {
			add_country_modifier = {
				name = EDG_FRA_culture_assimilate_country_modifier
				duration = -1
			}
			add_accepted_culture = pommeranian
			add_accepted_culture = prussian
			add_accepted_culture = lower_saxon
			add_accepted_culture = hannoverian
			add_accepted_culture = hessian
			add_accepted_culture = saxon
			add_accepted_culture = franconian
			add_accepted_culture = swabian
			add_accepted_culture = swiss
			add_accepted_culture = bavarian
			add_accepted_culture = austrian
			add_accepted_culture = dutch
			add_accepted_culture = flemish
			add_accepted_culture = frisian
		}

		if = {
			limit = { primary_culture = pommeranian }
			change_primary_culture = EDG_FRA_pommeranian
		}
		else_if = {
			limit = { primary_culture = prussian }
			change_primary_culture = EDG_FRA_prussian
		}
		else_if = {
			limit = { primary_culture = lower_saxon }
			change_primary_culture = EDG_FRA_lower_saxon
		}
		else_if = {
			limit = { primary_culture = hannoverian }
			change_primary_culture = EDG_FRA_hannoverian
		}
		else_if = {
			limit = { primary_culture = hessian }
			change_primary_culture = EDG_FRA_hessian
		}
		else_if = {
			limit = { primary_culture = saxon }
			change_primary_culture = EDG_FRA_saxon
		}
		else_if = {
			limit = { primary_culture = franconian }
			change_primary_culture = EDG_FRA_franconian
		}
		else_if = {
			limit = { primary_culture = swabian }
			change_primary_culture = EDG_FRA_swabian
		}
		else_if = {
			limit = { primary_culture = swiss }
			change_primary_culture = EDG_FRA_swiss
		}
		else_if = {
			limit = { primary_culture = bavarian }
			change_primary_culture = EDG_FRA_bavarian
		}
		else_if = {
			limit = { primary_culture = austrian }
			change_primary_culture = EDG_FRA_austrian
		}
		else_if = {
			limit = { primary_culture = dutch }
			change_primary_culture = EDG_FRA_dutch
		}
		else_if = {
			limit = { primary_culture = flemish }
			change_primary_culture = EDG_FRA_flemish
		}
		else_if = {
			limit = { primary_culture = frisian }
			change_primary_culture = EDG_FRA_frisian
		}
		else = {
			change_primary_culture = overlord
		}
	}
	else_if = {
		limit = { culture_group = iberian }
		hidden_effect = {
			add_country_modifier = {
				name = EDG_FRA_culture_assimilate_country_modifier
				duration = -1
			}
			add_accepted_culture = castillian
			add_accepted_culture = mexican
			add_accepted_culture = leonese
			add_accepted_culture = aragonese
			add_accepted_culture = catalan
			add_accepted_culture = galician
			add_accepted_culture = andalucian
			add_accepted_culture = portugese
			add_accepted_culture = brazilian
			add_accepted_culture = basque
			add_accepted_culture = EDG_Extremadura_culture
		}
		if = {
			limit = { primary_culture = castillian }
			change_primary_culture = EDG_FRA_castillian
		}
		else_if = {
			limit = { primary_culture = mexican }
			change_primary_culture = EDG_FRA_mexican
		}
		else_if = {
			limit = { primary_culture = leonese }
			change_primary_culture = EDG_FRA_leonese
		}
		else_if = {
			limit = { primary_culture = aragonese }
			change_primary_culture = EDG_FRA_aragonese
		}
		else_if = {
			limit = { primary_culture = catalan }
			change_primary_culture = EDG_FRA_catalan
		}
		else_if = {
			limit = { primary_culture = galician }
			change_primary_culture = EDG_FRA_galician
		}
		else_if = {
			limit = { primary_culture = andalucian }
			change_primary_culture = EDG_FRA_andalucian
		}
		else_if = {
			limit = { primary_culture = portugese }
			change_primary_culture = EDG_FRA_portugese
		}
		else_if = {
			limit = { primary_culture = brazilian }
			change_primary_culture = EDG_FRA_brazilian
		}
		else_if = {
			limit = { primary_culture = basque }
			change_primary_culture = EDG_FRA_basque
		}
		else_if = {
			limit = { primary_culture = EDG_Extremadura_culture }
			change_primary_culture = EDG_FRA_Extremadura_culture
		}
		else = {
			change_primary_culture = overlord
		}
	}
	else_if = {
		limit = { culture_group = latin }
		hidden_effect = {
			add_country_modifier = {
				name = EDG_FRA_culture_assimilate_country_modifier
				duration = -1
			}
			add_accepted_culture = lombard
			add_accepted_culture = tuscan
			add_accepted_culture = sardinian
			add_accepted_culture = romagnan
			add_accepted_culture = ligurian
			add_accepted_culture = venetian
			add_accepted_culture = dalmatian
			add_accepted_culture = neapolitan
			add_accepted_culture = piedmontese
			add_accepted_culture = umbrian
			add_accepted_culture = sicilian
			add_accepted_culture = maltese
		}
		if = {
			limit = { primary_culture = lombard }
			change_primary_culture = EDG_FRA_lombard
		}
		else_if = {
			limit = { primary_culture = tuscan }
			change_primary_culture = EDG_FRA_tuscan
		}
		else_if = {
			limit = { primary_culture = sardinian }
			change_primary_culture = EDG_FRA_sardinian
		}
		else_if = {
			limit = { primary_culture = romagnan }
			change_primary_culture = EDG_FRA_romagnan
		}
		else_if = {
			limit = { primary_culture = ligurian }
			change_primary_culture = EDG_FRA_ligurian
		}
		else_if = {
			limit = { primary_culture = venetian }
			change_primary_culture = EDG_FRA_venetian
		}
		else_if = {
			limit = { primary_culture = dalmatian }
			change_primary_culture = EDG_FRA_dalmatian
		}
		else_if = {
			limit = { primary_culture = neapolitan }
			change_primary_culture = EDG_FRA_neapolitan
		}
		else_if = {
			limit = { primary_culture = piedmontese }
			change_primary_culture = EDG_FRA_piedmontese
		}
		else_if = {
			limit = { primary_culture = umbrian }
			change_primary_culture = EDG_FRA_umbrian
		}
		else_if = {
			limit = { primary_culture = sicilian }
			change_primary_culture = EDG_FRA_sicilian
		}
		else_if = {
			limit = { primary_culture = maltese }
			change_primary_culture = EDG_FRA_maltese
		}
		else = {
			change_primary_culture = overlord
		}
	}
	else_if = {
		limit = { culture_group = british }
		change_primary_culture = anglois
		hidden_effect = {
			add_country_modifier = {
				name = EDG_FRA_culture_assimilate_country_modifier
				duration = -1
			}
			add_accepted_culture = english
			add_accepted_culture = american
			add_accepted_culture = welsh
			add_accepted_culture = scottish
			add_accepted_culture = cornish
			add_accepted_culture = EDG_culture_East_Anglia
			add_accepted_culture = EDG_culture_Northumbria
			add_accepted_culture = EDG_culture_mercia
		}
	}
	hidden_effect = {
		set_ruler_culture = PREV
		set_consort_culture = PREV
		set_heir_culture = PREV
	}
}
EDG_FRA_culture_assimilate_province_effect = {
	if = {
		limit = { culture_group = germanic }
		if = {
			limit = { culture = pommeranian }
			change_culture = EDG_FRA_pommeranian
		}
		else_if = {
			limit = { culture = prussian }
			change_culture = EDG_FRA_prussian
		}
		else_if = {
			limit = { culture = lower_saxon }
			change_culture = EDG_FRA_lower_saxon
		}
		else_if = {
			limit = { culture = hannoverian }
			change_culture = EDG_FRA_hannoverian
		}
		else_if = {
			limit = { culture = hessian }
			change_culture = EDG_FRA_hessian
		}
		else_if = {
			limit = { culture = saxon }
			change_culture = EDG_FRA_saxon
		}
		else_if = {
			limit = { culture = franconian }
			change_culture = EDG_FRA_franconian
		}
		else_if = {
			limit = { culture = swabian }
			change_culture = EDG_FRA_swabian
		}
		else_if = {
			limit = { culture = swiss }
			change_culture = EDG_FRA_swiss
		}
		else_if = {
			limit = { culture = bavarian }
			change_culture = EDG_FRA_bavarian
		}
		else_if = {
			limit = { culture = austrian }
			change_culture = EDG_FRA_austrian
		}
		else_if = {
			limit = { culture = dutch }
			change_culture = EDG_FRA_dutch
		}
		else_if = {
			limit = { culture = flemish }
			change_culture = EDG_FRA_flemish
		}
		else_if = {
			limit = { culture = frisian }
			change_culture = EDG_FRA_frisian
		}
		else = {
			change_culture = owner
		}
	}
	else_if = {
		limit = { culture_group = iberian }
		if = {
			limit = { culture = castillian }
			change_culture = EDG_FRA_castillian
		}
		else_if = {
			limit = { culture = mexican }
			change_culture = EDG_FRA_mexican
		}
		else_if = {
			limit = { culture = leonese }
			change_culture = EDG_FRA_leonese
		}
		else_if = {
			limit = { culture = aragonese }
			change_culture = EDG_FRA_aragonese
		}
		else_if = {
			limit = { culture = catalan }
			change_culture = EDG_FRA_catalan
		}
		else_if = {
			limit = { culture = galician }
			change_culture = EDG_FRA_galician
		}
		else_if = {
			limit = { culture = andalucian }
			change_culture = EDG_FRA_andalucian
		}
		else_if = {
			limit = { culture = portugese }
			change_culture = EDG_FRA_portugese
		}
		else_if = {
			limit = { culture = brazilian }
			change_culture = EDG_FRA_brazilian
		}
		else_if = {
			limit = { culture = basque }
			change_culture = EDG_FRA_basque
		}
		else_if = {
			limit = { culture = EDG_Extremadura_culture }
			change_culture = EDG_FRA_Extremadura_culture
		}
		else = {
			change_culture = owner
		}
	}
	else_if = {
		limit = { culture_group = latin }
		if = {
			limit = { culture = lombard }
			change_culture = EDG_FRA_lombard
		}
		else_if = {
			limit = { culture = tuscan }
			change_culture = EDG_FRA_tuscan
		}
		else_if = {
			limit = { culture = sardinian }
			change_culture = EDG_FRA_sardinian
		}
		else_if = {
			limit = { culture = romagnan }
			change_culture = EDG_FRA_romagnan
		}
		else_if = {
			limit = { culture = ligurian }
			change_culture = EDG_FRA_ligurian
		}
		else_if = {
			limit = { culture = venetian }
			change_culture = EDG_FRA_venetian
		}
		else_if = {
			limit = { culture = dalmatian }
			change_culture = EDG_FRA_dalmatian
		}
		else_if = {
			limit = { culture = neapolitan }
			change_culture = EDG_FRA_neapolitan
		}
		else_if = {
			limit = { culture = piedmontese }
			change_culture = EDG_FRA_piedmontese
		}
		else_if = {
			limit = { culture = umbrian }
			change_culture = EDG_FRA_umbrian
		}
		else_if = {
			limit = { culture = sicilian }
			change_culture = EDG_FRA_sicilian
		}
		else_if = {
			limit = { culture = maltese }
			change_culture = EDG_FRA_maltese
		}
		else = {
			change_culture = owner
		}
	}
	else_if = {
		limit = { culture_group = british }
		change_culture = anglois
	}
	else = {
		change_culture = owner
	}
}
EDG_national_spirit_modifier_give_effect = {
	custom_tooltip = EDG_national_spirit_modifier_give_FRA_tt
	tooltip = {
		add_country_modifier = {
			name = EDG_national_spirit_static_$type$_modifier_$ref$
			duration = -1
		}
	}
}



EDG_LOT_vassal_decision_special_effect = {
	if = {
		limit = { is_subject_of_type = EDG_USP_crown_territory }
		custom_tooltip = EDG_LOT_vassal_decision_special_effect_free_dipslot_tt
		set_country_flag = EDG_LOT_vassal_decision_special_effect_free_dipslot_flag
	}
	set_in_empire = no
	EDG_FRA_culture_assimilate_country_effect = yes
	add_liberty_desire = -100 add_historical_friend = ROOT
	add_trust = {
		who = ROOT
		value = 25
		mutual = yes
	}
	change_religion = ROOT
	
	hidden_effect = {
		set_country_flag = change_country_color_EDG_flag
		change_country_color = { country = ROOT }
		if = {
			limit = { NOT = { has_country_flag = EDG_LOT_vassal_decision_special_effect_flag } }
			set_country_flag = EDG_LOT_vassal_decision_special_effect_flag
			change_government = ROOT
			add_treasury = 500
			add_years_of_income = 2.5
			add_yearly_manpower = 10
			add_yearly_sailors = 10
			add_adm_power = 200
			add_dip_power = 200
			add_mil_power = 200
			change_religion = ROOT
		}
	}
}