
EDG_building_give_temple_or_upgrate_effect = {#教堂
	custom_tooltip = EDG_building_give_temple_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = temple }
				NOT = { has_building = cathedral }
			}
			add_building = temple
		}
		else_if = {
			limit = {
				has_building = temple
			}
			remove_building = temple
			add_building = cathedral
		}
		else = {
			add_base_tax = 2
		}
	}
}
EDG_building_give_workshop_or_upgrate_effect = {#工坊
	custom_tooltip = EDG_building_give_workshop_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = workshop }
				NOT = { has_building = counting_house }
			}
			add_building = workshop
		}
		else_if = {
			limit = {
				has_building = workshop
			}
			remove_building = workshop
			add_building = counting_house
		}
		else = {
			add_base_production = 2
		}
	}
}
EDG_building_give_marketplace_or_upgrate_effect = {#市场
	custom_tooltip = EDG_building_give_marketplace_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = marketplace }
				NOT = { has_building = trade_depot }
				NOT = { has_building = stock_exchange }
			}
			add_building = marketplace
		}
		else_if = {
			limit = {
				has_building = marketplace
			}
			remove_building = marketplace
			add_building = trade_depot
		}
		else_if = {
			limit = {
				has_building = trade_depot
			}
			remove_building = trade_depot
			add_building = stock_exchange
		}
		else = {
			add_base_production = 2
		}
	}
}
EDG_building_give_dock_or_upgrate_effect = {#码头
	custom_tooltip = EDG_building_give_dock_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = dock }
				NOT = { has_building = drydock }
			}
			add_building = dock
		}
		else_if = {
			limit = {
				has_building = dock
			}
			remove_building = dock
			add_building = drydock
		}
		else = {
			add_base_production = 2
		}
	}
}
EDG_building_give_shipyard_or_upgrate_effect = {#造船厂
	custom_tooltip = EDG_building_give_shipyard_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = shipyard }
				NOT = { has_building = grand_shipyard }
			}
			add_building = shipyard
		}
		else_if = {
			limit = {
				has_building = shipyard
			}
			remove_building = shipyard
			add_building = grand_shipyard
		}
		else = {
			add_base_production = 2
		}
	}
}
EDG_building_give_courthouse_or_upgrate_effect = {#法院
	custom_tooltip = EDG_building_give_courthouse_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = courthouse }
				NOT = { has_building = town_hall }
			}
			add_building = courthouse
		}
		else_if = {
			limit = {
				has_building = courthouse
			}
			remove_building = courthouse
			add_building = town_hall
		}
		else = {
			add_base_tax = 2
		}
	}
}
EDG_building_give_barracks_or_upgrate_effect = {#兵营
	custom_tooltip = EDG_building_give_barracks_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = barracks }
				NOT = { has_building = training_fields }
			}
			add_building = barracks
		}
		else_if = {
			limit = {
				has_building = barracks
			}
			remove_building = barracks
			add_building = training_fields
		}
		else = {
			add_base_manpower = 2
		}
	}
}
EDG_building_give_regimental_camp_or_upgrate_effect = {#军营
	custom_tooltip = EDG_building_give_regimental_camp_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = regimental_camp }
				NOT = { has_building = training_fields }
			}
			add_building = regimental_camp
		}
		else_if = {
			limit = {
				has_building = regimental_camp
			}
			remove_building = regimental_camp
			add_building = training_fields
		}
		else = {
			add_base_manpower = 2
		}
	}
}
EDG_building_give_universityp_or_upgrate_effect = {#大学
	custom_tooltip = EDG_building_give_universityp_or_upgrate_effect_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_building = university }
			}
			add_building = university
		}
		else = {
			add_base_production = 2
		}
	}
}
EDG_create_or_add_center_of_trade_level_effect = {#贸易中心
	if = {
		limit = {
			NOT = { province_has_center_of_trade_of_level = 1 }
		}
		center_of_trade = 1
	}
	else = {
		add_center_of_trade_level = 1
	}
}



EDG_on_province_tax_building_built_effect = {#建造教堂
	if = {
		limit = {
			owner = {
				has_estate_privilege = estate_edg_copt_millet_system
			}
		}
		if = {
			limit = {
				OR = {
					religion_group = christian
					religion_group = jewish_group
				}
			}
			add_province_modifier = {
				name = estate_edg_copt_millet_system_mod
				duration = -1
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = estate_edg_copt_millet_system_mod }
				remove_province_modifier = estate_edg_copt_millet_system_mod
			}
		}
	}

}
EDG_on_province_tax_building_destroyed_effect = {#摧毁教堂
	remove_province_modifier = estate_edg_copt_millet_system_mod

}