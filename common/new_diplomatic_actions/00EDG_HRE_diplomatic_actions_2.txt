
EDG_EMP_Appoint_Castle_Manager_action = {#委任城堡总管
	category = emperor           # 该行动会显示在哪个外交行动列表里。
    
    alert_index = 93            # 用于该行动的警告。索引号参考 static_actions。可选的。
    alert_tooltip = EDG_EMP_Appoint_Castle_Manager_action_alert_tooltip           # 要显示在警告工具提示的本地化关键字。可选的。
    
    require_acceptance = yes	   # 是否该行动需要被目标国家接受，以便执行接受效果
    
    # 决定何时该行动是可见的
	is_visible = {
		is_emperor = yes
		FROM = {
			is_part_of_hre = yes
		}
		has_global_flag = EDG_HRE_extra_reform_3_1
	}
    
    # 决定何时该行动能被采用
    
	is_allowed = {
		has_global_flag = EDG_HRE_extra_reform_3_1
		imperial_influence = 5
		FROM = {
			NOT = { has_country_modifier = EDG_EMP_Appoint_Castle_Manager_action_modifier }
			#government = monarchy
			is_part_of_hre = yes
		}
	}
	on_accept = {
		emperor = {
			change_variable = {
				which = EDG_HRE_recently_Appoint_variable
				value = 5
			}
			change_variable = {
				which = EDG_HRE_total_Appoint_variable
				value = 1
			}
		}
		FROM = {
			add_imperial_influence = 1
			add_country_modifier = {
				name = "EDG_EMP_Appoint_Castle_Manager_action_modifier"
				duration = 7300
			}
		}
	}
    
    # 拒绝时（如果可拒绝）执行哪个效果。可选的。
    on_decline = {
       
    }
    
    # 控制AI对该行动的接受倾向，如果需要目标国家同意。非必须。
    ai_acceptance = {
        
		add_entry = {#驱散阴影
			name = DIPLO_EDG_flavorHAB_mission_18_a_tt_flag_OPPINION
			limit = { has_global_flag = EDG_flavorHAB_mission_18_a_tt_flag }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 20 }
		}
		add_entry = {#1-5
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 1 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {#6-10
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {#11-15
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -30 }
		}
		add_entry = {#16-20
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -40 }
		}
		add_entry = {#21-25
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -50 }
		}
		add_entry = {#26-30
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -60 }
		}
		add_entry = {#31-35
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -70 }
		}
		add_entry = {#36-41
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -80 }
		}
		add_entry = {#41-45
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -90 }
		}
		add_entry = {#46-50
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
        add_entry = {
            name = DIPLO_OPPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.125
			}
        }
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 4
			}
		}
		add_entry = {
			name = AI_DIPLOMATIC_REPUTATION
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_TOTAL_DEVELOPMENT
			export_to_variable = {
				variable_name = ai_value
				value = total_development
				who = FROM
			}
			#4 dev = -1
			multiply_variable = {
				which = ai_value
				value = -2
			}
		}
		
		add_entry = {
			name = attitude_neutral_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_neutral } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {
			name = attitude_rivalry_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_rivalry } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_hostile_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_hostile } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_friendly_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_friendly } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_threatened_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_threatened } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_outraged_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_outraged } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_domineering_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_domineering } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = DIPLO_BORDER_DISTANCE_TT
			export_to_variable = {
				variable_name = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = -2.5
			}
		}
		add_entry = {
			name = EDG_HRE_do_not_have_influencing_fort_TT
			limit = {
				FROM = { 
					all_owned_province = {
						has_influencing_fort = no
					}
				}
			}
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
    }
    
    # 控制AI对该行动的使用
    ai_will_do = {
		OR = {
			ai_attitude = {
				who = FROM
				attitude = attitude_friendly
			}
			ai_attitude = {
				who = FROM
				attitude = attitude_protective
			}
			FROM = {
				any_neighbor_country = {
					NOT = { tag = ROOT }
					FROM = {
						ai_attitude = {
							who = PREV
							attitude = attitude_threatened
						}
					}
				}
			}
			FROM = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_threatened
				}
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_domineering
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_hostile
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_outraged
			}
		}
		has_opinion = {
			who = FROM
			value = 50
		}
    }
}

EDG_EMP_Appoint_salt_Manager_action = {#委任司盐总管
	category = emperor           # 该行动会显示在哪个外交行动列表里。
    
    alert_index = 93            # 用于该行动的警告。索引号参考 static_actions。可选的。
    alert_tooltip = EDG_EMP_Appoint_salt_Manager_action_alert_tooltip           # 要显示在警告工具提示的本地化关键字。可选的。
    
    require_acceptance = yes	   # 是否该行动需要被目标国家接受，以便执行接受效果
    
    # 决定何时该行动是可见的
	is_visible = {
		is_emperor = yes
		FROM = {
			is_part_of_hre = yes
		}
		has_global_flag = EDG_HRE_extra_reform_3_1
	}
    
    # 决定何时该行动能被采用
    
	is_allowed = {
		has_global_flag = EDG_HRE_extra_reform_3_1
		imperial_influence = 5
		FROM = {
			NOT = { has_country_modifier = EDG_EMP_Appoint_salt_Manager_action_modifier }
			#government = monarchy
			is_part_of_hre = yes
		}
	}
	on_accept = {
		emperor = {
			change_variable = {
				which = EDG_HRE_recently_Appoint_variable
				value = 5
			}
			change_variable = {
				which = EDG_HRE_total_Appoint_variable
				value = 1
			}
		}
		FROM = {
			add_imperial_influence = 1
			add_country_modifier = {
				name = "EDG_EMP_Appoint_salt_Manager_action_modifier"
				duration = 7300
			}
		}
	}
    
    # 拒绝时（如果可拒绝）执行哪个效果。可选的。
    on_decline = {
       
    }
    
    # 控制AI对该行动的接受倾向，如果需要目标国家同意。非必须。
    ai_acceptance = {
        
		add_entry = {#驱散阴影
			name = DIPLO_EDG_flavorHAB_mission_18_a_tt_flag_OPPINION
			limit = { has_global_flag = EDG_flavorHAB_mission_18_a_tt_flag }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 20 }
		}
		add_entry = {#1-5
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 1 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {#6-10
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {#11-15
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -30 }
		}
		add_entry = {#16-20
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -40 }
		}
		add_entry = {#21-25
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -50 }
		}
		add_entry = {#26-30
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -60 }
		}
		add_entry = {#31-35
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -70 }
		}
		add_entry = {#36-41
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -80 }
		}
		add_entry = {#41-45
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -90 }
		}
		add_entry = {#46-50
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
        add_entry = {
            name = DIPLO_OPPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.125
			}
        }
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 2
			}
		}
		add_entry = {
			name = AI_DIPLOMATIC_REPUTATION
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_TOTAL_DEVELOPMENT
			export_to_variable = {
				variable_name = ai_value
				value = total_development
				who = FROM
			}
			#4 dev = -1
			multiply_variable = {
				which = ai_value
				value = -2.5
			}
		}
		
		add_entry = {
			name = attitude_neutral_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_neutral } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {
			name = attitude_rivalry_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_rivalry } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_hostile_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_hostile } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_friendly_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_friendly } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_threatened_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_threatened } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_outraged_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_outraged } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_domineering_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_domineering } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = DIPLO_BORDER_DISTANCE_TT
			export_to_variable = {
				variable_name = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = -3.5
			}
		}
		add_entry = {
			name = DIPLO_production_income_percentage_TT
			export_to_variable = {
				variable_name = ai_value
				value = production_income_percentage
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = -100
			}
		}
		add_entry = {
			name = DIPLO_production_income_percentage_TT
			limit = {
				production_income_percentage = 0.1
				NOT = { production_income_percentage = 0.2 }
			}
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_production_income_percentage_TT
			limit = {
				production_income_percentage = 0.2
				NOT = { production_income_percentage = 0.3 }
			}
			export_to_variable = { variable_name = ai_value value = 2 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_production_income_percentage_TT
			limit = {
				production_income_percentage = 0.3
				NOT = { production_income_percentage = 0.4 }
			}
			export_to_variable = { variable_name = ai_value value = 3 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_production_income_percentage_TT
			limit = {
				production_income_percentage = 0.4
				NOT = { production_income_percentage = 0.5 }
			}
			export_to_variable = { variable_name = ai_value value = 4 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_production_income_percentage_TT
			limit = {
				production_income_percentage = 0.5
			}
			export_to_variable = { variable_name = ai_value value = 5 }
			multiply_variable = { which = ai_value value = -10 }
		}
    }
    
    # 控制AI对该行动的使用
    ai_will_do = {
		OR = {
			ai_attitude = {
				who = FROM
				attitude = attitude_friendly
			}
			ai_attitude = {
				who = FROM
				attitude = attitude_protective
			}
			FROM = {
				any_neighbor_country = {
					NOT = { tag = ROOT }
					FROM = {
						ai_attitude = {
							who = PREV
							attitude = attitude_threatened
						}
					}
				}
			}
			FROM = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_threatened
				}
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_domineering
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_hostile
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_outraged
			}
		}
		has_opinion = {
			who = FROM
			value = 50
		}
    }
}

EDG_EMP_Appoint_forest_Manager_action = {#委任森林总管
	category = emperor           # 该行动会显示在哪个外交行动列表里。
    
    alert_index = 93            # 用于该行动的警告。索引号参考 static_actions。可选的。
    alert_tooltip = EDG_EMP_Appoint_forest_Manager_action_alert_tooltip           # 要显示在警告工具提示的本地化关键字。可选的。
    
    require_acceptance = yes	   # 是否该行动需要被目标国家接受，以便执行接受效果
    
    # 决定何时该行动是可见的
	is_visible = {
		is_emperor = yes
		FROM = {
			is_part_of_hre = yes
		}
		has_global_flag = EDG_HRE_extra_reform_3_1
	}
    
    # 决定何时该行动能被采用
    
	is_allowed = {
		has_global_flag = EDG_HRE_extra_reform_3_1
		imperial_influence = 5
		FROM = {
			NOT = { has_country_modifier = EDG_EMP_Appoint_forest_Manager_action_modifier }
			#government = monarchy
			is_part_of_hre = yes
		}
	}
	on_accept = {
		emperor = {
			change_variable = {
				which = EDG_HRE_recently_Appoint_variable
				value = 5
			}
			change_variable = {
				which = EDG_HRE_total_Appoint_variable
				value = 1
			}
		}
		FROM = {
			add_imperial_influence = 1
			add_country_modifier = {
				name = "EDG_EMP_Appoint_forest_Manager_action_modifier"
				duration = 7300
			}
		}
	}
    
    # 拒绝时（如果可拒绝）执行哪个效果。可选的。
    on_decline = {
       
    }
    
    # 控制AI对该行动的接受倾向，如果需要目标国家同意。非必须。
    ai_acceptance = {
        
		add_entry = {#驱散阴影
			name = DIPLO_EDG_flavorHAB_mission_18_a_tt_flag_OPPINION
			limit = { has_global_flag = EDG_flavorHAB_mission_18_a_tt_flag }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 20 }
		}
		add_entry = {#1-5
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 1 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {#6-10
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {#11-15
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -30 }
		}
		add_entry = {#16-20
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -40 }
		}
		add_entry = {#21-25
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -50 }
		}
		add_entry = {#26-30
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -60 }
		}
		add_entry = {#31-35
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -70 }
		}
		add_entry = {#36-41
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -80 }
		}
		add_entry = {#41-45
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -90 }
		}
		add_entry = {#46-50
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
        add_entry = {
            name = DIPLO_OPPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.125
			}
        }
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_DIPLOMATIC_REPUTATION
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_TOTAL_DEVELOPMENT
			export_to_variable = {
				variable_name = ai_value
				value = total_development
				who = FROM
			}
			#4 dev = -1
			multiply_variable = {
				which = ai_value
				value = -3.25
			}
		}
		
		add_entry = {
			name = attitude_neutral_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_neutral } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {
			name = attitude_rivalry_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_rivalry } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_hostile_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_hostile } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_friendly_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_friendly } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_threatened_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_threatened } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_outraged_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_outraged } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_domineering_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_domineering } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = DIPLO_BORDER_DISTANCE_TT
			export_to_variable = {
				variable_name = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = -0.5
			}
		}
		add_entry = {
			name = DIPLO_tax_income_percentage_TT
			limit = {
				tax_income_percentage = 0.1
				NOT = { tax_income_percentage = 0.2 }
			}
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_tax_income_percentage_TT
			limit = {
				tax_income_percentage = 0.2
				NOT = { tax_income_percentage = 0.3 }
			}
			export_to_variable = { variable_name = ai_value value = 2 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_tax_income_percentage_TT
			limit = {
				tax_income_percentage = 0.3
				NOT = { tax_income_percentage = 0.4 }
			}
			export_to_variable = { variable_name = ai_value value = 3 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_tax_income_percentage_TT
			limit = {
				tax_income_percentage = 0.4
				NOT = { tax_income_percentage = 0.5 }
			}
			export_to_variable = { variable_name = ai_value value = 4 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {
			name = DIPLO_tax_income_percentage_TT
			limit = {
				tax_income_percentage = 0.5
			}
			export_to_variable = { variable_name = ai_value value = 5 }
			multiply_variable = { which = ai_value value = -10 }
		}
    }
    
    # 控制AI对该行动的使用
    ai_will_do = {
		OR = {
			ai_attitude = {
				who = FROM
				attitude = attitude_friendly
			}
			ai_attitude = {
				who = FROM
				attitude = attitude_protective
			}
			FROM = {
				any_neighbor_country = {
					NOT = { tag = ROOT }
					FROM = {
						ai_attitude = {
							who = PREV
							attitude = attitude_threatened
						}
					}
				}
			}
			FROM = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_threatened
				}
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_domineering
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_hostile
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_outraged
			}
		}
		has_opinion = {
			who = FROM
			value = 50
		}
    }
}

EDG_EMP_Appoint_dam_Manager_action = {#委任堤坝总管
	category = emperor           # 该行动会显示在哪个外交行动列表里。
    
    alert_index = 93            # 用于该行动的警告。索引号参考 static_actions。可选的。
    alert_tooltip = EDG_EMP_Appoint_dam_Manager_action_alert_tooltip           # 要显示在警告工具提示的本地化关键字。可选的。
    
    require_acceptance = yes	   # 是否该行动需要被目标国家接受，以便执行接受效果
    
    # 决定何时该行动是可见的
	is_visible = {
		is_emperor = yes
		FROM = {
			is_part_of_hre = yes
		}
		has_global_flag = EDG_HRE_extra_reform_3_1
	}
    
    # 决定何时该行动能被采用
    
	is_allowed = {
		has_global_flag = EDG_HRE_extra_reform_3_1
		imperial_influence = 5
		FROM = {
			NOT = { has_country_modifier = EDG_EMP_Appoint_dam_Manager_action_modifier }
			#government = monarchy
			is_part_of_hre = yes
		}
	}
	on_accept = {
		emperor = {
			change_variable = {
				which = EDG_HRE_recently_Appoint_variable
				value = 5
			}
			change_variable = {
				which = EDG_HRE_total_Appoint_variable
				value = 1
			}
		}
		FROM = {
			add_imperial_influence = 1
			add_country_modifier = {
				name = "EDG_EMP_Appoint_dam_Manager_action_modifier"
				duration = 7300
			}
		}
	}
    
    # 拒绝时（如果可拒绝）执行哪个效果。可选的。
    on_decline = {
       
    }
    
    # 控制AI对该行动的接受倾向，如果需要目标国家同意。非必须。
    ai_acceptance = {
        
		add_entry = {#驱散阴影
			name = DIPLO_EDG_flavorHAB_mission_18_a_tt_flag_OPPINION
			limit = { has_global_flag = EDG_flavorHAB_mission_18_a_tt_flag }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 20 }
		}
		add_entry = {#1-5
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 1 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {#6-10
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {#11-15
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -30 }
		}
		add_entry = {#16-20
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -40 }
		}
		add_entry = {#21-25
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -50 }
		}
		add_entry = {#26-30
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -60 }
		}
		add_entry = {#31-35
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -70 }
		}
		add_entry = {#36-41
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -80 }
		}
		add_entry = {#41-45
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -90 }
		}
		add_entry = {#46-50
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
        add_entry = {
            name = DIPLO_OPPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.125
			}
        }
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 4
			}
		}
		add_entry = {
			name = AI_DIPLOMATIC_REPUTATION
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_TOTAL_DEVELOPMENT
			export_to_variable = {
				variable_name = ai_value
				value = total_development
				who = FROM
			}
			#4 dev = -1
			multiply_variable = {
				which = ai_value
				value = -2
			}
		}
		
		add_entry = {
			name = attitude_neutral_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_neutral } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {
			name = attitude_rivalry_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_rivalry } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_hostile_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_hostile } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_friendly_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_friendly } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_threatened_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_threatened } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_outraged_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_outraged } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_domineering_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_domineering } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = DIPLO_BORDER_DISTANCE_TT
			export_to_variable = {
				variable_name = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = -2.5
			}
		}
		add_entry = {
			name = DIPLO_manpower_percentage_TT
			export_to_variable = {
				variable_name = ai_value
				value = manpower_percentage
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = 10
			}
		}
		add_entry = {
			name = DIPLO_treasury_TT
			export_to_variable = {
				variable_name = ai_value
				value = treasury
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = 0.1
			}
		}
    }
    
    # 控制AI对该行动的使用
    ai_will_do = {
		OR = {
			ai_attitude = {
				who = FROM
				attitude = attitude_friendly
			}
			ai_attitude = {
				who = FROM
				attitude = attitude_protective
			}
			FROM = {
				any_neighbor_country = {
					NOT = { tag = ROOT }
					FROM = {
						ai_attitude = {
							who = PREV
							attitude = attitude_threatened
						}
					}
				}
			}
			FROM = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_threatened
				}
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_domineering
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_hostile
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_outraged
			}
		}
		has_opinion = {
			who = FROM
			value = 50
		}
    }
}

EDG_EMP_Appoint_trade_Manager_action = {#委任商贸总管
	category = emperor           # 该行动会显示在哪个外交行动列表里。
    
    alert_index = 93            # 用于该行动的警告。索引号参考 static_actions。可选的。
    alert_tooltip = EDG_EMP_Appoint_trade_Manager_action_alert_tooltip           # 要显示在警告工具提示的本地化关键字。可选的。
    
    require_acceptance = yes	   # 是否该行动需要被目标国家接受，以便执行接受效果
    
    # 决定何时该行动是可见的
	is_visible = {
		is_emperor = yes
		FROM = {
			is_part_of_hre = yes
		}
		has_global_flag = EDG_HRE_extra_reform_3_1
	}
    
    # 决定何时该行动能被采用
    
	is_allowed = {
		has_global_flag = EDG_HRE_extra_reform_3_1
		imperial_influence = 5
		FROM = {
			NOT = { has_country_modifier = EDG_EMP_Appoint_trade_Manager_action_modifier }
			#government = monarchy
			is_part_of_hre = yes
		}
	}
	on_accept = {
		emperor = {
			change_variable = {
				which = EDG_HRE_recently_Appoint_variable
				value = 5
			}
			change_variable = {
				which = EDG_HRE_total_Appoint_variable
				value = 1
			}
		}
		FROM = {
			add_imperial_influence = 1
			add_country_modifier = {
				name = "EDG_EMP_Appoint_trade_Manager_action_modifier"
				duration = 7300
			}
		}
	}
    
    # 拒绝时（如果可拒绝）执行哪个效果。可选的。
    on_decline = {
       
    }
    
    # 控制AI对该行动的接受倾向，如果需要目标国家同意。非必须。
    ai_acceptance = {
        
		add_entry = {#驱散阴影
			name = DIPLO_EDG_flavorHAB_mission_18_a_tt_flag_OPPINION
			limit = { has_global_flag = EDG_flavorHAB_mission_18_a_tt_flag }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 20 }
		}
		add_entry = {#1-5
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 1 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -10 }
		}
		add_entry = {#6-10
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 6 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {#11-15
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 11 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -30 }
		}
		add_entry = {#16-20
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 16 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -40 }
		}
		add_entry = {#21-25
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 21 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -50 }
		}
		add_entry = {#26-30
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 26 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -60 }
		}
		add_entry = {#31-35
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 31 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -70 }
		}
		add_entry = {#36-41
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 36 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -80 }
		}
		add_entry = {#41-45
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 41 }
					NOT = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -90 }
		}
		add_entry = {#46-50
			name = DIPLO_EDG_HRE_recently_Appoint_variable_OPPINION
			limit = { emperor = { check_variable = { which = EDG_HRE_recently_Appoint_variable value = 46 } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
        add_entry = {
            name = DIPLO_OPPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.125
			}
        }
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 4
			}
		}
		add_entry = {
			name = AI_DIPLOMATIC_REPUTATION
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_TOTAL_DEVELOPMENT
			export_to_variable = {
				variable_name = ai_value
				value = total_development
				who = FROM
			}
			#4 dev = -1
			multiply_variable = {
				which = ai_value
				value = -2.75
			}
		}
		
		add_entry = {
			name = attitude_neutral_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_neutral } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -20 }
		}
		add_entry = {
			name = attitude_rivalry_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_rivalry } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_hostile_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_hostile } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_friendly_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_friendly } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_threatened_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_threatened } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = 10 }
		}
		add_entry = {
			name = attitude_outraged_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_outraged } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = attitude_domineering_DIPLO_ATTITUDE_TT
			limit = { FROM = { ai_attitude = { who = ROOT attitude = attitude_domineering } } }
			export_to_variable = { variable_name = ai_value value = 1 }
			multiply_variable = { which = ai_value value = -1000 }
		}
		add_entry = {
			name = DIPLO_BORDER_DISTANCE_TT
			export_to_variable = {
				variable_name = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = -1.35
			}
		}
		add_entry = {
			name = DIPLO_trade_income_percentage_TT
			export_to_variable = {
				variable_name = ai_value
				value = trade_income_percentage
				who = FROM
				with = ROOT
			}
			#2 units = -1
			multiply_variable = {
				which = ai_value
				value = 50
			}
		}
    }
    
    # 控制AI对该行动的使用
    ai_will_do = {
		OR = {
			ai_attitude = {
				who = FROM
				attitude = attitude_friendly
			}
			ai_attitude = {
				who = FROM
				attitude = attitude_protective
			}
			FROM = {
				any_neighbor_country = {
					NOT = { tag = ROOT }
					FROM = {
						ai_attitude = {
							who = PREV
							attitude = attitude_threatened
						}
					}
				}
			}
			FROM = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_threatened
				}
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_domineering
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_hostile
			}
		}
		NOT = {
			ai_attitude = {
				who = FROM
				attitude = attitude_outraged
			}
		}
		has_opinion = {
			who = FROM
			value = 50
		}
    }
}
