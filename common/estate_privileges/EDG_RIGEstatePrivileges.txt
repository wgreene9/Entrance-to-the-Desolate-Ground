estate_rig_knightage_land_rights = { #骑士团领地权
	icon = privilege_grant_autonomy
	land_share = 10
	max_absolutism = -10
	loyalty = 0.10
	influence = 0.05
	can_select = {
	}
	on_granted = {
		
	}
	modifier_by_land_ownership = {
	}
	mechanics = {
		exempt_from_seize_land
	}
	penalties = {
	}
	benefits = {
		vassal_forcelimit_bonus = 0.05
	}
	conditional_modifier = {
		trigger = { 
			TEU = {
				is_subject_of = root
				is_subject_of_type = rig_knightage_vissal
			}
		}
		modifier = { 
			governing_capacity_modifier = 0.05
			global_tax_modifier = -0.05
		}
	}
	conditional_modifier = {
		trigger = { 
			LIV = {
				is_subject_of = root
				is_subject_of_type = rig_knightage_vissal
			}
		}
		modifier = { 
			governing_capacity_modifier = 0.05
			global_tax_modifier = -0.05
		}
	}
	conditional_modifier = {
		trigger = { 
			KNI = {
				is_subject_of = root
				is_subject_of_type = rig_knightage_vissal
			}
		}
		modifier = { 
			governing_capacity_modifier = 0.05
			global_tax_modifier = -0.05
		}
	}
	conditional_modifier = {
		trigger = { 
			KTP = {
				is_subject_of = root
				is_subject_of_type = rig_knightage_vissal
			}
		}
		modifier = { 
			governing_capacity_modifier = 0.05
			global_tax_modifier = -0.05
		}
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_knightage_TEU_quartered = { #条顿骑士团
	icon = privileges_estate_rig_knightage_TEU_quartered
	land_share = 0
	max_absolutism = 0
	loyalty = 0.02
	influence = 0.02
	on_granted = {
		
	}
	is_valid = {
		exists = TEU
		TEU = {
			is_subject_of = root
			is_subject_of_type = rig_knightage_vissal
		}
	}
	modifier_by_land_ownership = {
		discipline = 0.1
		cavalry_power = 0.2
	}
	penalties = {
	}
	benefits = {
		army_tradition_decay = -0.005
	}
	conditional_modifier = {
		trigger = { 
			has_government_mechanic = rig_military_reform_mechanic
		}
		modifier = { 
			monthly_rig_military_reform = 0.01
		}
	}
	ai_will_do = {
		factor = 100
	}
}
estate_rig_knightage_LIV_quartered = { #宝剑骑士团
	icon = privileges_estate_rig_knightage_LIV_quartered
	land_share = 0
	max_absolutism = 0
	loyalty = 0.02
	influence = 0.02
	is_valid = {
		exists = LIV
		LIV = {
			is_subject_of = root
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		
	}
	modifier_by_land_ownership = {
		fire_damage = 0.2
		shock_damage = 0.2
	}
	penalties = {
	}
	benefits = {
		army_tradition_decay = -0.005
	}
	conditional_modifier = {
		trigger = { 
			has_government_mechanic = rig_military_reform_mechanic
		}
		modifier = { 
			monthly_rig_military_reform = 0.01
		}
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_knightage_KNI_quartered = { #医院骑士团
	icon = privileges_estate_rig_knightage_KNI_quartered
	land_share = 0
	max_absolutism = 0
	loyalty = 0.02
	influence = 0.02
	is_valid = {
		exists = KNI
		KNI = {
			is_subject_of = root
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		
	}
	modifier_by_land_ownership = {
		reinforce_speed = 0.25
		reinforce_cost_modifier = -0.25
	}
	penalties = {
	}
	benefits = {
		army_tradition_decay = -0.005
	}
	conditional_modifier = {
		trigger = { 
			has_government_mechanic = rig_military_reform_mechanic
		}
		modifier = { 
			monthly_rig_military_reform = 0.01
		}
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_knightage_KTP_quartered = { #圣殿骑士团
	icon = privileges_estate_rig_knightage_KTP_quartered
	land_share = 0
	max_absolutism = 0
	loyalty = 0.01
	influence = 0.01
	is_valid = {
		exists = KTP
		KTP = {
			is_subject_of = root
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		
	}
	modifier_by_land_ownership = {
		movement_speed = 0.2
		reserves_organisation = 0.2
	}
	penalties = {
	}
	benefits = {
		army_tradition_decay = -0.005
	}
	conditional_modifier = {
		trigger = { 
			has_government_mechanic = rig_military_reform_mechanic
		}
		modifier = { 
			monthly_rig_military_reform = 0.01
		}
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_knightage_enlarge_the_knight = { #扩编骑士团
	icon = privilege_discipline
	land_share = 10
	max_absolutism = 0
	loyalty = 0.1
	influence = 0.05
	is_valid = {
		any_subject_country = {
			is_subject_of_type = rig_knightage_vissal
		}
	}
	can_select = {
		any_subject_country = {
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		custom_tooltip = estate_rig_knightage_enlarge_the_knight_tt
	}
	modifier_by_land_ownership = {
		reserves_organisation = 0.5
		land_maintenance_modifier = -0.5
	}
	penalties = {
		land_forcelimit_modifier = -0.15
		global_manpower_modifier = -0.25
		global_tax_modifier = -0.25
	}
	benefits = {
		discipline = 0.05
		yearly_army_professionalism = 0.01
		army_tradition_decay = -0.01
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_knightage_armed_escort = { #成立里加骑士卫队
	icon = privilege_demand_more_troops
	land_share = 5
	max_absolutism = 0
	loyalty = 0
	influence = 0.05
	can_select = {
		NOT = {
			OR = {
				has_estate_privilege = estate_rig_invite_the_knights_for_guidance
				has_estate_privilege = estate_rig_enlist_the_knighs
			}
		}
	}
	is_valid = {
		any_subject_country = {
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		
	}
	on_invalid = {
		
	}
	modifier_by_land_ownership = {
		merc_maintenance_modifier = -0.25
		mercenary_manpower = 0.25
	}
	penalties = {
		
	}
	benefits = {
		allow_mercenary_drill = yes
		mercenary_discipline = 0.05
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_invite_the_knights_for_guidance = { #邀请骑士团指导
	icon = privilege_empty_throne
	land_share = 10
	max_absolutism = 0
	loyalty = -0.1
	influence = 0.15
	can_select = {
		NOT = {
			OR = {
				has_estate_privilege = estate_rig_knightage_armed_escort
				has_estate_privilege = estate_rig_enlist_the_knighs
			}
		}
	}
	is_valid = {
		any_subject_country = {
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		
	}
	on_invalid = {
		
	}
	modifier_by_land_ownership = {
		army_tradition = 0.5
	}
	penalties = {
		
	}
	benefits = {
		drill_gain_modifier = 0.25
		drill_decay_modifier = -0.25
		land_maintenance_modifier = 0.1
	}
	conditional_modifier = {
		trigger = { 
			has_government_mechanic = rig_military_reform_mechanic
		}
		modifier = { 
			monthly_rig_military_reform = 0.02
		}
	}
	ai_will_do = {
		factor = 1
	}
}
estate_rig_enlist_the_knighs = { #征召骑士团骑士
	icon = privilege_war_exhaustion
	land_share = 10
	max_absolutism = 0
	loyalty = -0.1
	influence = 0.15
	can_select = {
		NOT = {
			OR = {
				has_estate_privilege = estate_rig_knightage_armed_escort
				has_estate_privilege = estate_rig_invite_the_knights_for_guidance
			}
		}
	}
	is_valid = {
		any_subject_country = {
			is_subject_of_type = rig_knightage_vissal
		}
	}
	on_granted = {
		
	}
	on_invalid = {
		
	}
	modifier_by_land_ownership = {
		army_tradition = 0.5
	}
	penalties = {
		
	}
	benefits = {
		cavalry_power = 0.2
		cav_to_inf_ratio = 0.1
		land_maintenance_modifier = 0.15
	}
	ai_will_do = {
		factor = 1
	}
}

#医院
estate_rig_knightage_KNI_savior = { #骑士团救济院
	icon = privilege_grant_autonomy
	max_absolutism = -10
	conditional_modifier = {
		trigger = {
			has_country_flag = EDG_KNI_unlock_1_all_flag #传教获得1额外发展度
		}
		modifier = {
			max_absolutism = 10
		}
	}	
	loyalty = 0.10
	influence = 0.10
	is_valid = {
		tag = KOJ
		was_tag = KNI		
	}
	can_select = {
		tag = KOJ
		was_tag = KNI
	}
	on_granted = {
		custom_tooltip = estate_EDG_KNI_hospital_1_gt #本地化照着这个写 estate_church_development_of_temples_gt
		tooltip = {
			add_province_modifier = {
				name = estate_EDG_KNI_hospital_modifier
				duration = -1
			}
		}		
	}
	on_revoked = {
		custom_tooltip = estate_EDG_KNI_hospital_1_rt #本地化照着这个写 estate_church_development_of_temples_rt
	}
	on_granted_province = { 
		if = {
			limit = {
				OR = {
					has_owner_religion = yes
					has_owner_harmonized_religion = yes
					has_owner_secondary_religion = yes
				}
				has_tax_building_trigger = yes
			}
			add_province_modifier = {
				name = estate_EDG_KNI_hospital_modifier
				duration = -1
			}
		}
	}
	on_invalid_province = { 
		if = {
			limit = { has_province_modifier = estate_EDG_KNI_hospital_modifier}
			remove_province_modifier = estate_EDG_KNI_hospital_modifier
		}
	}
	on_revoked_province = { 
		if = {
			limit = { has_province_modifier = estate_EDG_KNI_hospital_modifier }
			remove_province_modifier = estate_EDG_KNI_hospital_modifier
		}
	}	
	modifier_by_land_ownership = {
	}
	penalties = {
	}
	benefits = {
		global_tax_modifier = -0.05
	}

	ai_will_do = {
		factor = 0
	}
}

estate_rig_knightage_KNI_irrigation = { #骑士团耕地建设
	icon = privilege_monopoly_of_goods_livestock
	can_select = {
			tag = KOJ
			was_tag = KNI
	}
	is_valid = {
		    has_country_flag = estate_rig_knightage_KNI_irrigation_flag		
			tag = KOJ
            was_tag = KNI
	}
	on_granted = {
		custom_tooltip = estate_burghers_khmer_irrigation_effect_tooltip
	}
	on_granted_province = {
		if = {
			limit = {
				trade_goods = grain
			}
			add_province_modifier = {
				name = estate_burghers_khmer_irrigation_mod
				duration = -1
			}
		}
		else_if = {
			limit = {
				has_province_modifier = estate_burghers_khmer_irrigation_mod
			}
			remove_province_modifier = estate_burghers_khmer_irrigation_mod
		}
	}
	on_revoked = {
		custom_tooltip = estate_burghers_khmer_irrigation_revoke_effect_tooltip
	}
	on_revoked_province = {
		if = {
			limit = {
				has_province_modifier = estate_burghers_khmer_irrigation_mod
			}
			remove_province_modifier = estate_burghers_khmer_irrigation_mod
		}
	}
	on_invalid = {
		custom_tooltip = estate_burghers_khmer_irrigation_revoke_effect_tooltip
	}
	on_invalid_province = {
		if = {
			limit = {
				has_province_modifier = estate_burghers_khmer_irrigation_mod
			}
			remove_province_modifier = estate_burghers_khmer_irrigation_mod
		}
	}
	penalties = {
	}
	benefits = {
	}
	conditional_modifier = {
		trigger = { has_government_mechanic = russian_modernization_mechanic }
		modifier = { monthly_russian_modernization = -0.03 }
	}
	ai_will_do = {
		factor = 1000
	}
}

estate_rig_knightage_KNI_disertfarm = { #骑士团沙漠农业
	icon = estate_burghers_arb_oasis_development
	loyalty = 0.05
	influence = 0.15
	max_absolutism = -5
	conditional_modifier = { trigger = { has_absolutism_reduction_for_estate_privileges = yes } modifier = { max_absolutism = 1 } }
	can_select = {
		tag = KOJ
		was_tag = KNI
}	
	is_valid = {
		has_country_flag = estate_rig_knightage_KNI_disertfarm_flag
		tag = KOJ
        was_tag = KNI
	}
	on_granted = {
		custom_tooltip = ARB_estate_burghers_arid_development_gt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_climate = arid
				}
				add_province_modifier = {
					name = ARB_estate_burghers_arid_climate_development
					duration = -1
				}
			}
		}
		
		custom_tooltip = ARB_estate_burghers_desert_development_gt
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						has_terrain = desert
						has_terrain = coastal_desert
					}
				}
				add_province_modifier = {
					name = ARB_estate_burghers_desert
					duration = -1
				}
			}
		}
	}
	on_revoked = {
		custom_tooltip = ARB_estate_burghers_arid_development_rt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = ARB_estate_burghers_arid_climate_development
				}
				remove_province_modifier = ARB_estate_burghers_arid_climate_development
			}
		}
		custom_tooltip = ARB_estate_burghers_desert_development_rt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = ARB_estate_burghers_desert
				}
				remove_province_modifier = ARB_estate_burghers_desert
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}

estate_rig_knightage_KNI_mil = { #骑士团军事权威
	icon = privilege_military_power
	land_share = 10
	max_absolutism = -5
	conditional_modifier = { trigger = { has_absolutism_reduction_for_estate_privileges = yes } modifier = { max_absolutism = 1 } }
	loyalty = 0.05
	influence = 0.10	
	is_valid = {
		tag = KOJ
		was_tag = KNI		
	}
	can_select = {
		tag = KOJ
		was_tag = KNI
	}	
	can_select = {
	}
	on_granted = {
	}
	penalties = {
	}
	benefits = {
		country_military_power = 1
	}
	conditional_modifier = {
		trigger = { has_government_mechanic = russian_modernization_mechanic }
		modifier = { monthly_russian_modernization = -0.05 }
	}
	conditional_modifier = {
		trigger = { has_country_flag = GER_upgrade_primacy_of_the_nobility_flag }
		modifier = { mil_tech_cost_modifier = -0.1 }
	}
	conditional_modifier = {
		trigger = { has_country_flag = azt_imperial_tributes_flag }
		modifier = { monarch_power_tribute = 1 }
	}
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = { crown_land_share = 30 }
				estate_influence = {
					estate = estate_nobles
					influence = 95
				}
			}
			NOT = { has_estate_privilege = estate_nobles_nobility_primacy }
		}
		modifier = {
			factor = 0.8
			OR = {
				NOT = { crown_land_share = 35 }
				AND = {
					is_absolutism_active = yes
					NOT = { crown_land_share = 55 }
				}
			}
			NOT = { has_estate_privilege = estate_nobles_nobility_primacy }
		}
		modifier = {
			factor = 0.8
			is_absolutism_active = yes
		}
		modifier = {
			factor = 1.25
			NOT = { mil = 2 }
		}
		modifier = {
			factor = 1000
			has_mission = kon_reform_army
			NOT = { mission_completed = kon_reform_army }
		}
	}
}

estate_rig_knightage_KNI_grandhospital = { #骑士团医院经营权
	icon = privilege_grant_autonomy
	max_absolutism = -10
	conditional_modifier = {
		trigger = {
			has_country_flag = EDG_KNI_unlock_1_all_flag #传教获得1额外发展度
		}
		modifier = {
			max_absolutism = 10
		}
	}	
	loyalty = 0.10
	influence = 0.10
	is_valid = {
		tag = KOJ
		was_tag = KNI	
		has_country_flag = estate_rig_knightage_KNI_grandhospital_flag
	}
	can_select = {
		tag = KOJ
		was_tag = KNI
	}
	on_granted = {
		custom_tooltip = estate_EDG_KNI_hospital_2_gt #本地化照着这个写 estate_church_development_of_temples_gt
		tooltip = {
			add_province_modifier = {
				name = estate_EDG_KNI_grandhospital_modifier
				duration = -1
			}
		}		
	}
	on_revoked = {
		custom_tooltip = estate_EDG_KNI_hospital_2_rt #本地化照着这个写estate_church_development_of_temples_rt
	}
	on_granted_province = { 
		if = {
			limit = {
				OR = {
					has_owner_religion = yes
					has_owner_harmonized_religion = yes
					has_owner_secondary_religion = yes
				}
				has_tax_building_trigger = yes
			}
			add_province_modifier = {
				name = estate_EDG_KNI_grandhospital_modifier
				duration = -1
			}
		}
	}
	on_invalid_province = { 
		if = {
			limit = { has_province_modifier = estate_EDG_KNI_hospital_modifier}
			remove_province_modifier = estate_EDG_KNI_grandhospital_modifier
		}
	}
	on_revoked_province = { 
		if = {
			limit = { has_province_modifier = estate_EDG_KNI_hospital_modifier }
			remove_province_modifier = estate_EDG_KNI_grandhospital_modifier
		}
	}	
	modifier_by_land_ownership = {
	}
	penalties = {
	}
	benefits = {
		devotion = 0.5
	}

	ai_will_do = {
		factor = 0
	}
}