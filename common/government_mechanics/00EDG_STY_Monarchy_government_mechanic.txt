EDG_STY_Monarchy_ability = {
    alert_icon_gfx = GFX_alerticons_government_mechanics
 	alert_icon_index = 10
 
 	powers = {
		EDG_STY_Monarchy_power = {#领地整合度
			gui = EDG_STY_Monarchy_government_power_gui
			show_before_interactions = yes
			max = 100
			base_monthly_growth = 0.1
			reset_on_new_ruler = no
			scaled_modifier = {
				modifier = {
					global_manpower_modifier = 0.25
					global_tax_modifier = 0.25
					monthly_reform_progress_modifier = 0.5
					global_autonomy = -0.2
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_2_flag }
				modifier = {
					trade_efficiency = 0.25
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_3_flag }
				modifier = {
					land_morale = 0.1
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_4_flag }
				modifier = {
					governing_capacity_modifier = 0.2
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_5_flag }
				modifier = {
					global_trade_goods_size_modifier = 0.15
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_6_flag }
				modifier = {
					development_cost = -0.3
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_7_flag }
				modifier = {
					trade_steering = 0.33
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_8_flag }
				modifier = {
					land_forcelimit_modifier = 0.2
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_9_flag }
				modifier = {
					global_regiment_cost = -0.1
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_10_flag }
				modifier = {
					idea_cost = -0.1
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_11_flag }
				modifier = {
					harsh_treatment_cost = -0.33
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_12_flag }
				modifier = {
					global_heretic_missionary_strength = 0.03
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_13_flag }
				modifier = {
					defensiveness = 0.25
				}
			}
			scaled_modifier = {
				trigger = { has_country_flag = EDG_STY_Monarchy_ability_update_14_flag }
				modifier = {
					global_tax_modifier = 0.25
				}
			}
			range_modifier = {
				trigger = {
					has_government_power = {
						mechanic_type = EDG_STY_Monarchy_ability
						power_type = EDG_STY_Monarchy_power
						value = 50
					}
				}
				modifier = {
					merchants = 1
				}
			}
		}
		
		
 	}
 	
 	interactions = {
		EDG_STY_Monarchy_interactions_1 = {#扩大行政机构
			icon = GFX_mechanic_EDG_STY_government_1
			cost_type = EDG_STY_Monarchy_power
			cost = 10
			cooldown_years = 10
 			trigger = {
				
 			}
 			effect = {
				if = {
					limit = { has_country_flag = EDG_STY_Monarchy_interactions_1_update_1_flag }
					add_adm_power = 50
				}
				if = {
					limit = { has_country_flag = EDG_STY_Monarchy_interactions_1_update_3_flag }
					add_estate_loyalty = {
						estate = estate_church
						loyalty = 10
					}
					
				}
				custom_tooltip = EDG_STY_Monarchy_interactions_1_tt
				tooltip = {
					add_devastation = -10
					add_local_autonomy = -10
					if = {
						limit = { has_country_flag = EDG_STY_Monarchy_interactions_1_update_2_flag }
						add_nationalism = -10
					}
				}
				hidden_effect = {
					every_owned_province = {
						add_devastation = -10
						add_local_autonomy = -10
						if = {
							limit = { has_country_flag = EDG_STY_Monarchy_interactions_1_update_2_flag }
							add_nationalism = -10
						}
					}
				}
 			}
 			ai_chance = {
 				factor = 1
 			}
 		}
		EDG_STY_Monarchy_interactions_2 = {#促进文化融合
			icon = GFX_mechanic_EDG_STY_government_2
			cost_type = EDG_STY_Monarchy_power
			cost = 10
			cooldown_years = 10
			trigger = {
				any_owned_province = {
					not = { culture_group = root }
				}
			}
			effect = {
				if = {
					limit = { has_country_flag = EDG_STY_Monarchy_interactions_2_update_1_flag }
					add_dip_power = 50
				}
				if = {
					limit ={ has_country_flag = EDG_STY_Monarchy_interactions_2_update_2_flag }
					if = {
						limit = {
							rebel_progress_at_least = { value = 10 }
						}
						add_rebel_progress = {
							value = -10
						}
					}
				}
				if = {
					limit = { has_country_flag = EDG_STY_Monarchy_interactions_2_update_3_flag }
					add_stability = 1
				}
				custom_tooltip = EDG_STY_Monarchy_interactions_2_tt
				tooltip = {
					add_province_modifier = {
						name = EDG_STY_Monarchy_interactions_2_province_modifier
						duration = 3650
					}
				}
				hidden_effect = {
					every_owned_province = {
						limit = {
							not = { culture_group = root }
						}
						add_province_modifier = {
							name = EDG_STY_Monarchy_interactions_2_province_modifier
							duration = 3650
						}
					}
				}
			}
			ai_chance = {
				factor = 1
			}
		}
		EDG_STY_Monarchy_interactions_3 = {#整合军事编制
			icon = GFX_mechanic_EDG_STY_government_3
			cost_type = EDG_STY_Monarchy_power
			cost = 10
			cooldown_years = 10
			trigger = {
				any_owned_province = {
					culture_group = root
					not = { base_manpower = 20 }
				}
			}
			effect = {
				if = {
					limit = { has_country_flag = EDG_STY_Monarchy_interactions_3_update_1_flag }
					add_mil_power = 50
				}
				custom_tooltip = EDG_STY_Monarchy_interactions_3_tt
				tooltip = {
					if = {
						limit = { has_country_flag = EDG_STY_Monarchy_interactions_3_update_3_flag }
						add_base_manpower = 2
					}
					else = {
						add_base_manpower = 1
					}
					if = {
						limit ={ has_country_flag = EDG_STY_Monarchy_interactions_3_update_2_flag }
						add_province_modifier = {
							name = EDG_STY_Monarchy_interactions_3_province_modifier
							duration = 3650
						}
					}
				}
				hidden_effect = {
					random_owned_province = {
						limit = {
							culture_group = root
							not = { base_manpower = 20 }
						}
						if = {
							limit = { root = { has_country_flag = EDG_STY_Monarchy_interactions_3_update_3_flag } }
							add_base_manpower = 2
						}
						else = {
							add_base_manpower = 1
						}
						if = {
							limit ={ has_country_flag = EDG_STY_Monarchy_interactions_3_update_2_flag }
							add_province_modifier = {
								name = EDG_STY_Monarchy_interactions_3_province_modifier
								duration = 3650
							}
						}
					}
				}
			}
			ai_chance = {
				factor = 1
				modifier = {
				   factor = 0
				   NOT = { is_at_war = yes }
			   }
			}
		}
 	}
 }

 
 