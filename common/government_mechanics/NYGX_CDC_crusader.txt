NYGX_CDC_crusader_mechanic = {
	available = {
	}

	powers = {
		NYGX_CDC_crusader_power = {
			#gui = end_time_gov_mech
			max = 100	
			base_monthly_growth = -0.25
			monarch_power = mil
			scaled_modifier = {
				modifier = {
					global_tax_income = 24
					morale_damage = 0.1
					global_missionary_strength = 0.03
					religious_unity = 0.5
					global_manpower_modifier = 0.25
					mercenary_cost = -0.25
				}
			}
			scaled_modifier = {
				modifier = { 
					tolerance_own = 2
				}
				trigger = {
					mission_completed = NYGX_CDC_fez
				}
			}
			scaled_modifier = {
				modifier = { 
					manpower_in_true_faith_provinces = 0.25
				}
				trigger = {
					mission_completed = NYGX_CDC_destory_muwaxide
				}
			}
			scaled_modifier = {
				modifier = { 
					movement_speed = 0.2
				}
				trigger = {
					mission_completed = NYGX_CDC_songhai
				}
			}
			scaled_modifier = {
				modifier = { 
					global_trade_goods_size_modifier = 0.2
				}
				trigger = {
					has_country_flag = NYGX_CDC_14a_flag
				}
			}
			range_modifier = {
				modifier = { 
					missionaries = 1
				}
				trigger = {
					has_country_flag = NYGX_CDC_14b_flag
				}
				start_value = 50
				end_value = 100
			}
			scaled_modifier = {
				modifier = { 
					development_cost_in_primary_culture = -0.25
				}
				trigger = {
					mission_completed = NYGX_CDC_a_land_of_building
				}
			}
			scaled_modifier = {
				modifier = { 
					warscore_cost_vs_other_religion = -0.25
				}
				trigger = {
					has_country_modifier = NYGX_CDC_perpare_for_next_holy_war_modifier
				}
			}
			range_modifier = {
				modifier = { 
					NYGX_CDC_crusader_power_gain_modifier = 0.05
				}
				trigger = {
					mil = 1
				}
			}
			range_modifier = {
				modifier = { 
					NYGX_CDC_crusader_power_gain_modifier = 0.05
				}
				trigger = {
					mil = 2
				}
			}
			range_modifier = {
				modifier = { 
					NYGX_CDC_crusader_power_gain_modifier = 0.05
				}
				trigger = {
					mil = 3
				}
			}
			range_modifier = {
				modifier = { 
					NYGX_CDC_crusader_power_gain_modifier = 0.05
				}
				trigger = {
					mil = 4
				}
			}
			range_modifier = {
				modifier = { 
					NYGX_CDC_crusader_power_gain_modifier = 0.05
				}
				trigger = {
					mil = 5
				}
			}
			range_modifier = {
				modifier = { 
					NYGX_CDC_crusader_power_gain_modifier = 0.05
				}
				trigger = {
					mil = 6
				}
			}
			range_modifier = {
				modifier = { 
					monthly_NYGX_CDC_crusader_power = 0.1
				}
				trigger = {
					at_war_with_religious_enemy = yes
				}
			}
			range_modifier = {
				modifier = { 
					monthly_NYGX_CDC_crusader_power = 0.1
				}
				trigger = {
					crusade_target = {
						war_with = ROOT
					}
				}
			}
			range_modifier = {
				modifier = { 
					monthly_NYGX_CDC_crusader_power = -1
				}
				trigger = {
					is_excommunicated = yes
				}
			}
			range_modifier = {
				modifier = { 
					monthly_NYGX_CDC_crusader_power = -0.25
				}
				trigger = {
					any_war_enemy_country = {
						religion = ROOT
					}
				}
			}
			range_modifier = {
				modifier = { 
					global_unrest = 1
					core_creation = -0.04
				}
				trigger = {
					check_variable = {
						which = cdc_muslim_tolerance_var
						value = 2
					}
				}
			}
			range_modifier = {
				modifier = { 
					global_unrest = 1
					core_creation = -0.04
				}
				trigger = {
					check_variable = {
						which = cdc_muslim_tolerance_var
						value = 4
					}
				}
			}
			range_modifier = {
				modifier = { 
					global_unrest = 1
					core_creation = -0.04
				}
				trigger = {
					check_variable = {
						which = cdc_muslim_tolerance_var
						value = 6
					}
				}
			}
			range_modifier = {
				modifier = { 
					global_unrest = 1
					core_creation = -0.04
				}
				trigger = {
					check_variable = {
						which = cdc_muslim_tolerance_var
						value = 8
					}
				}
			}
			range_modifier = {
				modifier = { 
					global_unrest = 1
					core_creation = -0.04
				}
				trigger = {
					check_variable = {
						which = cdc_muslim_tolerance_var
						value = 10
					}
				}
			}
			range_modifier = {
				modifier = { 
					years_of_nationalism = -2
					tolerance_heathen = 0.5
				}
				trigger = {
					NOT = {
						check_variable = {
							which = cdc_muslim_tolerance_var
							value = -2
						}
					}
				}
			}
			range_modifier = {
				modifier = { 
					years_of_nationalism = -2
					tolerance_heathen = 0.5
				}
				trigger = {
					NOT = {
						check_variable = {
							which = cdc_muslim_tolerance_var
							value = -4
						}
					}
				}
			}
			range_modifier = {
				modifier = { 
					years_of_nationalism = -2
					tolerance_heathen = 0.5
				}
				trigger = {
					NOT = {
						check_variable = {
							which = cdc_muslim_tolerance_var
							value = -6
						}
					}
				}
			}
			range_modifier = {
				modifier = { 
					years_of_nationalism = -2
					tolerance_heathen = 0.5
				}
				trigger = {
					NOT = {
						check_variable = {
							which = cdc_muslim_tolerance_var
							value = -8
						}
					}
				}
			}
			range_modifier = {
				modifier = { 
					years_of_nationalism = -2
					tolerance_heathen = 0.5
				}
				trigger = {
					NOT = {
						check_variable = {
							which = cdc_muslim_tolerance_var
							value = -10
						}
					}
				}
			}
		}
	}
	interactions = {
		NYGX_CDC_crusader_unite_is_unity_interation = {
			#gui = russian_mechanics_interaction_gui
			icon = GFX_NYGX_CDC_crusader_unite_is_unity_interation
			cost_type = NYGX_CDC_crusader_power
			cost = 25
			trigger = {
				NOT = {
					stability = 2
				}
			}
			effect = { 
				add_stability_or_adm_power = yes
				add_country_modifier = {
					name = NYGX_CDC_crusader_unite_is_unity_interation_modifier
					duration = 3650
				}
			}
			cooldown_years = 10
			ai_chance = {
				factor = 1
				modifier = {
					factor = 10
					NOT = {
						stability = 1
					}
				}
			}
		}
		NYGX_CDC_crusader_papal_save_me_interation = {
			#gui = russian_mechanics_interaction_gui
			icon = GFX_NYGX_CDC_crusader_papal_save_me_interation
			cost_type = NYGX_CDC_crusader_power
			cost = 25
			trigger = {
				PAP = {
					has_opinion = {
						who = ROOT
						value = 100
					}
				}
			}
			effect = { 
				add_papal_influence = 25
				add_country_modifier = {
					name = NYGX_CDC_crusader_papal_save_me_interation_modifier
					duration = 3650
				}
				if = {
					limit = {
						mission_completed = NYGX_CDC_papal_do_sth
					}
					add_years_of_owned_provinces_manpower = {
						years = 2
						trigger = { 
							religion = ROOT
						}
						custom_tooltip = NYGX_CDC_crusader_papal_save_me_interation_tt
					}
					
				}
			}
			cooldown_years = 10
			ai_chance = {
				factor = 1
				modifier = {
					factor = 10
					NOT = {
						manpower_percentage = 0.25
					}
				}
				modifier = {
					factor = 10
					is_at_war = yes
				}
			}
		}
		NYGX_CDC_crusader_holy_war_interation = {
			#gui = russian_mechanics_interaction_gui
			icon = GFX_NYGX_CDC_crusader_holy_war_interation
			cost_type = NYGX_CDC_crusader_power
			cost = 25
			trigger = {
				capital_scope = {
					controller = { 
						tag = ROOT
					}
					has_siege = no
				}
			}
			effect = { 
				if = {
					limit = {
						NOT = {
							land_forcelimit = 100
						}
					}
					create_unit_forcelimit_percentage = {
						type = infantry
						force_limit_percentage = 0.20
					}
				}
				else = {
					custom_tooltip = capital_20_infantry_tt
					hidden_effect = {
						capital_scope = {
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
							infantry = ROOT
						}
					}
				}
				custom_tooltip = " "
				add_country_modifier = {
					name = NYGX_CDC_crusader_holy_war_interation_modifier
					duration = 3650
				}
				if = {
					limit = {
						cb_on_religious_enemies = no
					}
					every_neighbor_country = {
						limit = {
							NOT = {
								religion_group = ROOT
							}
							NOT = {
								alliance_with = ROOT
								is_subject_of = ROOT
							}
						}
						reverse_add_casus_belli = {
							type = cb_crusade_pheasants
							target = ROOT
							months = 120
						}
					}
				}
				else = {
					add_war_exhaustion = -4
					add_yearly_manpower = 0.1
				}
			}
			cooldown_years = 10
			ai_chance = {
				factor = 1
				modifier = {
					factor = 10
					is_in_important_war = yes
				}
				modifier = {
					factor = 10
					is_at_war = yes
				}
			}
		}
	}
}