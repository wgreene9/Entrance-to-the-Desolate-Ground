EDG_GEN_george_house_mechanic = {
	available = {
		has_dlc = "King of Kings"
	}
	powers = {
		EDG_GEN_george_house = {
			gui = EDG_GEN_george_house_mech
			show_before_interactions = yes
			default = 1
			max = 1000000
			reset_on_new_ruler = no
			base_monthly_growth = 0
			development_scaled_monthly_growth = 0
			scaled_modifier = {
				start_value = 0
				end_value = 1000000
				modifier = { 
					monthly_EDG_GEN_george_house_workpiece_ratio = 12
					inflation_reduction = -3
					interest = 12
					yearly_corruption = 4
				}
			}
			scaled_modifier = {
				start_value = 0
				end_value = 1000000
				trigger = {
					has_country_flag = EDG_GEN_mission_b_2_9_flag
				}
				modifier = { 
					interest = -6
					yearly_corruption = -2
					inflation_reduction = 1.5
				}
			}
			is_good = yes
			on_min_reached = {
				custom_tooltip = EDG_GEN_george_house_min_effect.tt
				hidden_effect = {
					set_bankruptcy = root
					every_country = {
						set_variable = {
							which = EDG_GEN_deposit_to_bank_var
							value = 1
						}
					}
					set_country_flag = EDG_GEN_george_house_suspend_flag
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 1
					}
					freeze_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
					}
				}
			}
		}
	}
	interactions = {
		EDG_GEN_george_house_interactions_1 = {
			icon = GFX_mechanic_EDG_GEN_george_house_interactions_1
			#gui = "egyptian_westernization_interaction_button"
			#cost_type = EDG_GEN_george_house
			#cost = 100
			trigger = { 
				if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_suspend_flag
					}
					custom_trigger_tooltip = {
						tooltip = EDG_GEN_george_house_interactions_1.trigger.tt
						NOT = {
							has_country_flag = EDG_GEN_george_house_suspend_flag
						}
					}
				}
				if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_five_flag
					}
					has_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 500
					}
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_ten_flag
					}
					has_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 1000
					}
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_hun_flag
					}
					has_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 10000
					}
				}
				else = {
					has_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 100
					}
				}
            }
			effect = {
				if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_five_flag
					}
					add_treasury = 500
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = -500
					}
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_ten_flag
					}
					add_treasury = 1000
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = -1000
					}
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_hun_flag
					}
					add_treasury = 10000
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = -10000
					}
				}
				else = {
					add_treasury = 100
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = -100
					}
				}
			}
			ai_chance = {
				factor = 0
			}
		}
		EDG_GEN_george_house_interactions_3 = {
			icon = GFX_mechanic_EDG_GEN_george_house_interactions_3
			#gui = "egyptian_westernization_interaction_button"
			#cost_type = EDG_GEN_george_house
			trigger = {
				hidden_trigger = {
					NOT = {
						has_country_flag = EDG_GENCommonEvents_0_flag
					}
				}
			}
			effect = {
				country_event = {
					id = EDG_GENCommonEvents.0
				}
			}
			ai_chance = {
				factor = 0
			}
		}
		EDG_GEN_george_house_interactions_2 = {
			icon = GFX_mechanic_EDG_GEN_george_house_interactions_2
			#gui = "egyptian_westernization_interaction_button"
			#cost_type = EDG_GEN_george_house
			trigger = {
				if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_suspend_flag
					}
					custom_trigger_tooltip = {
						tooltip = EDG_GEN_george_house_interactions_1.trigger.tt
						NOT = {
							has_country_flag = EDG_GEN_george_house_suspend_flag
						}
					}
				}
				if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_five_flag
					}
					treasury = 500
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_ten_flag
					}
					treasury = 1000
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_hun_flag
					}
					treasury = 10000
				}
				else = {
					treasury = 100
				}
            }
			effect = {
				if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_five_flag
					}
					add_treasury = -500
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 500
					}
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_ten_flag
					}
					add_treasury = -1000
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 1000
					}
				}
				else_if = {
					limit = { 
						has_country_flag = EDG_GEN_george_house_hun_flag
					}
					add_treasury = -10000
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 10000
					}
				}
				else = {
					add_treasury = -100
					add_government_power = {
						mechanic_type = EDG_GEN_george_house_mechanic
						power_type = EDG_GEN_george_house
						value = 100
					}
				}
				
			}
			ai_chance = {
				factor = 0
			}
		}
	}
}