EDG_FRN_construction_attainments_mechanic = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 10
	available = {
		has_dlc = "Rights of Man"
	}
	powers = {
		EDG_FRN_construction_attainments = {
			gui = EDG_FRN_construction_attainments_mech
			max = 100
			show_before_interactions = yes
			#gui = EDG_H04_palace_splendor_mech

			scaled_modifier = {
				trigger = {
					#is_at_war = no
				}
				modifier = {
					advisor_cost = -0.25
					build_cost = -0.25
					build_time = -0.25
				}
			}
			reverse_scaled_modifier = {
				modifier = { 
					manpower_recovery_speed = 1
					innovativeness_gain = 1
				}
			}
			# scaled_modifier = {
			# 	trigger = {
			# 		is_at_war = yes
			# 	}
			# 	modifier = {
			# 		artillery_levels_available_vs_fort = 10
			# 		siege_ability = 1
			# 		defensiveness = 1
			# 	}
			# }
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_FRN_mission_2_11_flag
				}
				modifier = { 
					yearly_army_professionalism = 0.05
				}
			}
		}
	}
	interactions = {
		EDG_FRN_construction_attainments_interactions_1 = {
			icon = GFX_mechanic_EDG_FRN_construction_attainments_interactions_1
			cost_type = EDG_FRN_construction_attainments
			cost = 0
			cooldown_years = 3
			trigger = {
				prestige = 20
			}
			#cooldown_token = EDG_FRN_construction_attainments_mechanic
			#cooldown_desc = EDG_FRN_construction_attainments_interactions
			effect = {
				add_prestige = -20
				custom_tooltip = EDG_SPACE_TT
				if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 80
						}
					}
					add_manpower = 10
					add_yearly_manpower = 5
					if = {
						limit = { 
							has_government_attribute = EDG_FRN_enable_investment
						}
						change_variable = {
							which = EDG_FRN_investment_manpower
							value = 5
						}
					}
				}
				else_if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 60
						}
					}
					add_manpower = 7
					add_yearly_manpower = 4
					if = {
						limit = { 
							has_government_attribute = EDG_FRN_enable_investment
						}
						change_variable = {
							which = EDG_FRN_investment_manpower
							value = 4
						}
					}
				}
				else_if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 40
						}
					}
					add_manpower = 5
					add_yearly_manpower = 3
					if = {
						limit = { 
							has_government_attribute = EDG_FRN_enable_investment
						}
						change_variable = {
							which = EDG_FRN_investment_manpower
							value = 3
						}
					}
				}
				else_if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 20
						}
					}
					add_manpower = 3
					add_yearly_manpower = 2
					if = {
						limit = { 
							has_government_attribute = EDG_FRN_enable_investment
						}
						change_variable = {
							which = EDG_FRN_investment_manpower
							value = 2
						}
					}
				}
				else = {
					add_manpower = 2
					add_yearly_manpower = 1
					custom_tooltip = EDG_SPACE_TT
					if = {
						limit = { 
							has_government_attribute = EDG_FRN_enable_investment
						}
						change_variable = {
							which = EDG_FRN_investment_manpower
							value = 1
						}
					}
				}
			}
		}
		EDG_FRN_construction_attainments_interactions_2 = {
			icon = GFX_mechanic_EDG_FRN_construction_attainments_interactions_2
			cost_type = EDG_FRN_construction_attainments
			cost = 0
			cooldown_years = 10
			trigger = {
				prestige = 25
				adm_power_cost = 100
				dip_power_cost = 100
				mil_power_cost = 100
			}
			#cooldown_token = EDG_FRN_construction_attainments_mechanic
			#cooldown_desc = EDG_FRN_construction_attainments_interactions
			effect = {
				add_prestige = -25
				adm_power_cost = 100
				dip_power_cost = 100
				mil_power_cost = 100
				custom_tooltip = EDG_SPACE_TT
				if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 80
						}
					}
					define_advisor = {
						skill = 5
						type = EDG_building_engineer_adm
						religion = root
						cost_multiplier = 0.5
					}
					define_advisor = {
						skill = 5
						type = EDG_building_engineer_dip
						religion = root
						cost_multiplier = 0.5
					}
					define_advisor = {
						skill = 5
						type = EDG_building_engineer_mil
						religion = root
						cost_multiplier = 0.5
					}
					custom_tooltip = EDG_SPACE_TT
					change_innovativeness = 5
				}
				else_if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 60
						}
					}
					define_advisor = {
						skill = 4
						type = EDG_building_engineer_adm
						religion = root
						cost_multiplier = 0.6
					}
					define_advisor = {
						skill = 4
						type = EDG_building_engineer_dip
						religion = root
						cost_multiplier = 0.6
					}
					define_advisor = {
						skill = 4
						type = EDG_building_engineer_mil
						religion = root
						cost_multiplier = 0.6
					}
					custom_tooltip = EDG_SPACE_TT
					change_innovativeness = 4
				}
				else_if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 40
						}
					}
					define_advisor = {
						skill = 3
						type = EDG_building_engineer_adm
						religion = root
						cost_multiplier = 0.7
					}
					define_advisor = {
						skill = 3
						type = EDG_building_engineer_dip
						religion = root
						cost_multiplier = 0.7
					}
					define_advisor = {
						skill = 3
						type = EDG_building_engineer_mil
						religion = root
						cost_multiplier = 0.7
					}
					custom_tooltip = EDG_SPACE_TT
					change_innovativeness = 3
				}
				else_if = {
					limit = { 
						has_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 20
						}
					}
					define_advisor = {
						skill = 2
						type = EDG_building_engineer_adm
						religion = root
						cost_multiplier = 0.8
					}
					define_advisor = {
						skill = 2
						type = EDG_building_engineer_dip
						religion = root
						cost_multiplier = 0.8
					}
					define_advisor = {
						skill = 2
						type = EDG_building_engineer_mil
						religion = root
						cost_multiplier = 0.8
					}
					custom_tooltip = EDG_SPACE_TT
					change_innovativeness = 2
				}
				else = {
					define_advisor = {
						skill = 1
						type = EDG_building_engineer_adm
						religion = root
						cost_multiplier = 0.9
					}
					define_advisor = {
						skill = 1
						type = EDG_building_engineer_dip
						religion = root
						cost_multiplier = 0.9
					}
					define_advisor = {
						skill = 1
						type = EDG_building_engineer_mil
						religion = root
						cost_multiplier = 0.9
					}
					custom_tooltip = EDG_SPACE_TT
					change_innovativeness = 1
				}
			}
		}
		EDG_FRN_construction_attainments_interactions_3 = {
			icon = GFX_mechanic_EDG_FRN_construction_attainments_interactions_3
			cost_type = EDG_FRN_construction_attainments
			cost = 0
			trigger = {
				innovativeness = 10
			}
			cooldown_years = 20
			#cooldown_token = EDG_FRN_construction_attainments_mechanic
			#cooldown_desc = EDG_FRN_construction_attainments_interactions
			effect = {
				custom_tooltip = EDG_FRN_construction_attainments_interactions_3.effect_1.tt
				if = {
					limit = { 
						has_country_flag = EDG_FRN_mission_4_10_flag
					}
					custom_tooltip = EDG_FRN_construction_attainments_interactions_3.effect_2.tt
				}
				custom_tooltip = EDG_SPACE_TT
				add_prestige_or_monarch_power = { amount = 10 }
				hidden_effect = {
					while = {
						limit = { 
							innovativeness = 1
						}
						add_mil_power = 3
						add_adm_power = 3
						add_mil_power = 3
						add_government_power = {
							mechanic_type = EDG_FRN_construction_attainments_mechanic
							power_type = EDG_FRN_construction_attainments
							value = 0.1
						}
						if = {
							limit = { 
								has_country_flag = EDG_FRN_mission_4_10_flag
							}
							add_army_professionalism = 0.005
						}
						change_innovativeness = -1
					}
				}
			}
		}
	}
}