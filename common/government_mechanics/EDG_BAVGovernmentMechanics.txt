EDG_BAV_government_ability = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 17
	powers = {
		EDG_BAV_government_power = {
			gui = EDG_BAV_government_power_gui
			show_before_interactions = yes
			min = 0
			max = 100
			base_monthly_growth = 0.25
			reset_on_new_ruler = yes
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_event_114_triggered_flag
				}
				modifier = {
					idea_cost = -0.1
					technology_cost = -0.1
					advisor_cost = -0.25
					reduced_liberty_desire_on_same_continent = 50
					vassal_income = 0.25
					vassal_manpower_bonus = 0.25
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_Ngmphenburg_tier_1_flag
				}
				modifier = {
					stability_cost_modifier = -0.25
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_Ngmphenburg_tier_2_flag
				}
				modifier = {
					yearly_innovativeness = 1
				}
				start_value = 0
				end_value = 100
			}
			range_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_Ngmphenburg_tier_3_flag
				}
				modifier = {
					country_admin_power = 1
				}
				start_value = 100
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					OR = {
						has_country_flag = EDG_BAV_5_3_11_humanist_flag
						has_country_flag = EDG_BAV_5_3_11_tolerance_flag
					}
				}
				modifier = {
					all_estate_loyalty_equilibrium = 0.2
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_5_3_13_flag
				}
				modifier = {
					all_estate_influence_modifier = 0.2
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_5_3_15_flag
				}
				modifier = {
					governing_cost = -0.1
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_8_1_34_flag
				}
				modifier = {
					yearly_absolutism = 2
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_8_1_36_flag
				}
				modifier = {
					province_warscore_cost = -0.1
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_8_2_35_flag
				}
				modifier = {
					max_absolutism_effect = 0.25
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_8_3_33_flag
				}
				modifier = {
					administrative_efficiency = 0.05
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_8_4_37_flag
				}
				modifier = {
					max_absolutism = 10
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_BAV_8_4_39_flag
				}
				modifier = {
					development_cost = -0.1
				}
				start_value = 0
				end_value = 100
			}
			on_max_reached = {
				country_event = {
					id = EDG_BAV_event.40
				}
			}
		}
	}
	interactions = {
		EDG_BAV_government_power_interaction_1 = {
			icon = EDG_BAV_government_power_interaction_1
			trigger = {
				years_of_income = 1
			}
			effect = {
				custom_tooltip = EDG_BAV_government_power_interaction_tt_cost_prices_as_below
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_5_13_flag
					}
					add_years_of_income = -0.5
				}
				else = {
					add_years_of_income = -1
				}
				custom_tooltip = EDG_SPACE_TT
				custom_tooltip = EDG_BAV_government_power_interaction_tt_gain_bonus_as_below
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_2_14_flag
					}
					add_government_power = {
						mechanic_type = EDG_BAV_government_ability
						power_type = EDG_BAV_government_power
						value = 4
					}
				}
				else = {
					add_government_power = {
						mechanic_type = EDG_BAV_government_ability
						power_type = EDG_BAV_government_power
						value = 2
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_5_15_flag
					}
					add_prestige_or_monarch_power = {
						amount = 25
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_1_33_flag
					}
					add_estate_loyalty = {
						estate = all
						loyalty = 5
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_5_35_flag
					}
					add_country_modifier = {
						name = EDG_BAV_8_5_35_modifier
						duration = 1825
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = EDG_BAV_government_power_interaction_1_variable
									value = 1
								}
							}
						}
						set_variable = {
							which = EDG_BAV_government_power_interaction_1_variable
							value = 1
						}
					}
					else = {
						change_variable = {
							which = EDG_BAV_government_power_interaction_1_variable
							value = 1
						}
					}
				}
			}
			cooldown_years = 5
		}
		EDG_BAV_government_power_interaction_2 = {
			icon = EDG_BAV_government_power_interaction_2
			trigger = {
				has_government_power = {
					mechanic_type = EDG_BAV_government_ability
					power_type = EDG_BAV_government_power
					value = 2
				}
			}
			effect = {
				custom_tooltip = EDG_BAV_government_power_interaction_tt_cost_prices_as_below
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_5_13_flag
					}
					add_government_power = {
						mechanic_type = EDG_BAV_government_ability
						power_type = EDG_BAV_government_power
						value = -1
					}
				}
				else = {
					add_government_power = {
						mechanic_type = EDG_BAV_government_ability
						power_type = EDG_BAV_government_power
						value = -2
					}
				}
				custom_tooltip = EDG_SPACE_TT
				custom_tooltip = EDG_BAV_government_power_interaction_tt_gain_bonus_as_below
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_1_35_flag
					}
					add_country_modifier = {
						name = EDG_BAV_8_1_35_modifier
						duration = 1825
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_2_38_flag
					}
					add_estate_loyalty = {
						estate = all
						loyalty = 5
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_3_36_flag
					}
					add_war_exhaustion = -20
				}
				custom_tooltip = EDG_BAV_government_power_interaction_tt_clear_autonomy
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_2_14_flag
					}
					tooltip = {
						add_random_development = 1
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_5_15_flag
					}
					tooltip = {
						add_devastation = -100
					}
				}
				hidden_effect = {
					every_province = {
						limit = {
							country_or_non_sovereign_subject_holds = ROOT
						}
						set_local_autonomy = 0
						if = {
							limit = {
								EDG_BAV_is_heretic_province_of_owner_trigger = yes
							}
							add_nationalism = -100
							if = {
								limit = {
									ROOT = {
										has_country_flag = EDG_BAV_5_2_14_flag
									}
								}
								add_random_development = 1
							}
							if = {
								limit = {
									ROOT = {
										has_country_flag = EDG_BAV_5_5_15_flag
									}
								}
								add_devastation = -100
							}
						}
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = EDG_BAV_government_power_interaction_2_variable
									value = 1
								}
							}
						}
						set_variable = {
							which = EDG_BAV_government_power_interaction_2_variable
							value = 1
						}
					}
					else = {
						change_variable = {
							which = EDG_BAV_government_power_interaction_2_variable
							value = 1
						}
					}
				}
			}
			cooldown_years = 5
		}
		EDG_BAV_government_power_interaction_3 = {
			icon = EDG_BAV_government_power_interaction_3
			trigger = {
				adm_power = 100
				dip_power = 100
				mil_power = 100
			}
			effect = {
				custom_tooltip = EDG_BAV_government_power_interaction_tt_cost_prices_as_below
				if = {
					limit = {
						has_country_flag = EDG_BAV_5_5_13_flag
					}
					add_adm_power = -50
					add_dip_power = -50
					add_mil_power = -50
				}
				else = {
					add_adm_power = -100
					add_dip_power = -100
					add_mil_power = -100
				}
				custom_tooltip = EDG_SPACE_TT
				custom_tooltip = EDG_BAV_government_power_interaction_tt_gain_bonus_as_below
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_3_37_flag
					}
					add_estate_loyalty = {
						estate = all
						loyalty = 5
					}
				}
				if = {
					limit = {
						has_country_flag = EDG_BAV_8_4_36_flag
					}
					add_country_modifier = {
						name = EDG_BAV_8_4_36_modifier
						duration = 1825
					}
				}
				custom_tooltip = EDG_BAV_government_power_interaction_tt_effect_per_heretic_province
				tooltip = {
					add_splendor = 2
					add_corruption = -0.05
					if = {
						limit = {
							has_country_flag = EDG_BAV_5_2_14_flag
						}
						add_government_power = {
							mechanic_type = EDG_BAV_government_ability
							power_type = EDG_BAV_government_power
							value = 0.01
						}
					}
					if = {
						limit = {
							has_country_flag = EDG_BAV_5_5_15_flag
						}
						random_list = {
							1 = {
								add_estate_loyalty = {
									estate = estate_nobles
									loyalty = 0.005
								}
							}
							1 = {
								add_estate_loyalty = {
									estate = estate_church
									loyalty = 0.005
								}
							}
							1 = {
								add_estate_loyalty = {
									estate = estate_burghers
									loyalty = 0.005
								}
							}
							1 = {
								add_estate_loyalty = {
									estate = estate_edg_artists
									loyalty = 0.005
								}
							}
						}
					}
				}
				hidden_effect = {
					every_province = {
						limit = {
							country_or_non_sovereign_subject_holds = ROOT
							EDG_BAV_is_heretic_province_of_owner_trigger = yes
						}
						ROOT = {
							add_splendor = 2
							add_corruption = -0.05
							if = {
								limit = {
									has_country_flag = EDG_BAV_5_2_14_flag
								}
								add_government_power = {
									mechanic_type = EDG_BAV_government_ability
									power_type = EDG_BAV_government_power
									value = 0.01
								}
							}
							if = {
								limit = {
									has_country_flag = EDG_BAV_5_5_15_flag
								}
								random_list = {
									1 = {
										add_estate_loyalty = {
											estate = estate_nobles
											loyalty = 0.005
										}
									}
									1 = {
										add_estate_loyalty = {
											estate = estate_church
											loyalty = 0.005
										}
									}
									1 = {
										add_estate_loyalty = {
											estate = estate_burghers
											loyalty = 0.005
										}
									}
									1 = {
										add_estate_loyalty = {
											estate = estate_edg_artists
											loyalty = 0.005
										}
									}
								}
							}
						}
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = EDG_BAV_government_power_interaction_3_variable
									value = 1
								}
							}
						}
						set_variable = {
							which = EDG_BAV_government_power_interaction_3_variable
							value = 1
						}
					}
					else = {
						change_variable = {
							which = EDG_BAV_government_power_interaction_3_variable
							value = 1
						}
					}
				}
			}
			cooldown_years = 5
		}
	}
}
