EDG_KNI_savior_ability ={
	powers = {
		EDG_KNI_savior_power = {#救济者之志
			gui = EDG_KNI_government_power_gui #记得自己搓
			show_before_interactions = yes
            max = 100
			min = 0	
			development_scaled_monthly_growth = -0.05					
            reset_on_new_ruler = no
            base_monthly_growth = 0.05
            monarch_power = MIL
            scaled_modifier = {
				modifier = {
					manpower_recovery_speed = 0.2
					improve_relation_modifier = 0.3
					tolerance_heretic = 3
					tolerance_heathen = 3
				 	tolerance_of_heretics_capacity = 3
                	tolerance_of_heathens_capacity = 3
					technology_cost = -0.1
                    development_cost = -0.1 
				}
			}
			range_modifier = {
				trigger = {
					dip = 6
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.25
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						dip = 6
					}
					dip = 5
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.2
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						dip = 5
					}
					dip = 4
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.15
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						dip = 3
					}
					dip = 2
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.1
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						dip = 2
					}
					dip = 1
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.05
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						dip = 1
					}
					dip = 0
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
					  prestige  =40
					}
					prestige  =20		
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.05
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
					  prestige  =60
					}
					prestige  =40		
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.1
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
					  prestige  =80
					}
					prestige  =60		
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.15
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
					  prestige  =100
					}
					prestige  =80		
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.20
				}
			}
			range_modifier = {
				trigger = {
					prestige  =100		
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.25
				}
			}
			range_modifier = {
				trigger = {
	              NOT = {
					religious_unity = 0.5
				  }
				}
				modifier = {
					monthly_EDG_KNI_savior_power = -0.1
				}
			}
			range_modifier = {
				trigger = {
					religious_unity = 1
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.1
				}
			}
			range_modifier = {
				trigger = {
					stability = 3
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.15
				}
			}
			range_modifier = {
				trigger = {
					NOT={
					stability = 3
					}
					stability = 2
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.1
				}
			}
			range_modifier = {
				trigger = {
					NOT={
					stability = 2
					}
					stability = 1
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0.05
				}
			}
			range_modifier = {
				trigger = {
					NOT={
					stability = 1
					}
					stability = 0
				}
				modifier = {
					monthly_EDG_KNI_savior_power = 0
				}
			}
			range_modifier = {
				trigger = {
					NOT={
					stability = 0
					}
					stability = -1
				}
				modifier = {
					monthly_EDG_KNI_savior_power = -0.05
				}
			}
			range_modifier = {
				trigger = {
					NOT={
					stability = -1
					}
					stability = -2
				}
				modifier = {
					monthly_EDG_KNI_savior_power = -0.10
				}
			}
			range_modifier = {
				trigger = {
					NOT={
					stability = -2
					}
					stability = -3
				}
				modifier = {
					monthly_EDG_KNI_savior_power = -0.15
				}
			}

		}
	}
	interactions ={
		EDG_KNI_honor_knights = {
			icon = GFX_EDG_KNI_1
			cost_type = EDG_KNI_savior_power
			cost = 20
			
			trigger = { 
				custom_trigger_tooltip = {
					tooltip = EDG_KNI_savior_adm_tt
					NOT = { 
						check_variable = {
							which = EDG_KNI_savior_adm_var
							value = 5
						}
					}
				}
				adm_power = 100
            }
			effect = {
				add_adm_power = -100
				if = {
					limit = { 
						NOT = {
							check_variable = {
								which = EDG_KNI_savior_adm_var
								value = 1
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_adm_1_tt
					
					hidden_effect = {
						remove_country_modifier = EDG_KNI_a_savior_power_4_modifier 
						remove_country_modifier = EDG_KNI_a_savior_power_3_modifier 
						remove_country_modifier = EDG_KNI_a_savior_power_5_modifier 
						remove_country_modifier = EDG_KNI_a_savior_power_2_modifier 
						set_variable = {
							which = EDG_KNI_savior_adm_var
							value = 1
						}
					}
					add_country_modifier = {
						name = EDG_KNI_a_savior_power_1_modifier
						duration = -1
						hidden = yes
					}					
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_adm_var
							value = 1
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_adm_var
								value = 2
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_adm_2_tt

					hidden_effect = {
						remove_country_modifier = EDG_KNI_a_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_adm_var
							value = 2
						}
					}
					
					add_country_modifier = {
						name = EDG_KNI_a_savior_power_2_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_adm_var
							value = 2
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_adm_var
								value = 3
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_adm_3_tt
				
					hidden_effect = {
						remove_country_modifier = EDG_KNI_a_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_adm_var
							value = 3
						}
					}
					add_country_modifier = {
						name = EDG_KNI_a_savior_power_3_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_adm_var
							value = 3
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_adm_var
								value = 4
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_adm_4_tt
	
					hidden_effect = {
						remove_country_modifier = EDG_KNI_a_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_adm_var
							value = 4
						}
					}
					add_country_modifier = {
						name = EDG_KNI_a_savior_power_4_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_adm_var
							value = 4
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_adm_var
								value = 5
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_adm_5_tt
					
					hidden_effect = {
						remove_country_modifier = EDG_KNI_a_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_a_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_adm_var
							value = 5
						}
						set_country_flag = EDG_kni_hornor_knights_5_flag
					}
					
					add_country_modifier = {
						name = EDG_KNI_a_savior_power_5_modifier
						duration = -1
						hidden = yes 
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_adm_var
							value = 5
						}
					}
					custom_tooltip = EDG_KNI_savior_adm_6_tt
				}
			}
			ai_chance = {
			  factor = 100	
			}
		}
		EDG_KNI_medical_reserch = {
			icon = GFX_EDG_KNI_2
			cost_type = EDG_KNI_savior_power
			cost = 20
			trigger = { 
				custom_trigger_tooltip = {
					tooltip = EDG_KNI_savior_dip_tt
					NOT = { 
						check_variable = {
							which = EDG_KNI_savior_dip_var
							value = 5
						}
					}
				}
				dip_power = 100
            }
			effect = {
				add_dip_power = -100
				if = {
					limit = { 
						NOT = {
							check_variable = {
								which = EDG_KNI_savior_dip_var
								value = 1
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_dip_1_tt
					
					hidden_effect = {
						remove_country_modifier = EDG_KNI_a_savior_power_4_modifier 
						remove_country_modifier = EDG_KNI_a_savior_power_3_modifier 
						remove_country_modifier = EDG_KNI_a_savior_power_5_modifier 
						remove_country_modifier = EDG_KNI_a_savior_power_2_modifier 
						set_variable = {
							which = EDG_KNI_savior_dip_var
							value = 1
						}
					}
					add_country_modifier = {
						name = EDG_KNI_d_savior_power_1_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_dip_var
							value = 1
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_dip_var
								value = 2
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_dip_2_tt

					hidden_effect = {
						remove_country_modifier = EDG_KNI_d_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_dip_var
							value = 2
						}
					}
					
					add_country_modifier = {
						name = EDG_KNI_d_savior_power_2_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_dip_var
							value = 2
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_dip_var
								value = 3
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_dip_3_tt
				
					hidden_effect = {
						remove_country_modifier = EDG_KNI_d_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_dip_var
							value = 3
						}
					}
					add_country_modifier = {
						name = EDG_KNI_d_savior_power_3_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_dip_var
							value = 3
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_dip_var
								value = 4
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_dip_4_tt
	
					hidden_effect = {
						remove_country_modifier = EDG_KNI_d_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_dip_var
							value = 4
						}
					}
					add_country_modifier = {
						name = EDG_KNI_d_savior_power_4_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_dip_var
							value = 4
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_dip_var
								value = 5
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_dip_5_tt
					
					hidden_effect = {
						remove_country_modifier = EDG_KNI_d_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_d_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_dip_var
							value = 5
						}
						set_country_flag = EDG_KNI_medical_research_5_flag
					}
					
					add_country_modifier = {
						name = EDG_KNI_d_savior_power_5_modifier
						duration = -1
						hidden = yes 
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_dip_var
							value = 5
						}
					}
					custom_tooltip =EDG_KNI_savior_dip_6_tt
				}
			}
			ai_chance = {
			  factor = 100	
			}
		}
		EDG_KNI_save_people = {
			icon = GFX_EDG_KNI_3
			cost_type = EDG_KNI_savior_power
			cost = 20
			trigger = { 
				custom_trigger_tooltip = {
					tooltip = EDG_KNI_savior_mil_tt
					NOT = { 
						check_variable = {
							which = EDG_KNI_savior_mil_var
							value = 5
						}
					}
				}
				mil_power = 100
            }
			effect = {
				add_mil_power = -100
				if = {
					limit = { 
						NOT = {
							check_variable = {
								which = EDG_KNI_savior_mil_var
								value = 1
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_mil_1_tt
					
					hidden_effect = {
						remove_country_modifier = EDG_KNI_m_savior_power_4_modifier 
						remove_country_modifier = EDG_KNI_m_savior_power_3_modifier 
						remove_country_modifier = EDG_KNI_m_savior_power_5_modifier 
						remove_country_modifier = EDG_KNI_m_savior_power_2_modifier 
						set_variable = {
							which = EDG_KNI_savior_mil_var
							value = 1
						}
					}
					add_country_modifier = {
						name = EDG_KNI_m_savior_power_1_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_mil_var
							value = 1
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_mil_var
								value = 2
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_mil_2_tt

					hidden_effect = {
						remove_country_modifier = EDG_KNI_m_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_mil_var
							value = 2
						}
					}
					
					add_country_modifier = {
						name = EDG_KNI_m_savior_power_2_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_mil_var
							value = 2
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_mil_var
								value = 3
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_mil_3_tt
				
					hidden_effect = {
						remove_country_modifier = EDG_KNI_m_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_mil_var
							value = 3
						}
					}
					add_country_modifier = {
						name = EDG_KNI_m_savior_power_3_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_mil_var
							value = 3
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_mil_var
								value = 4
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_mil_4_tt
	
					hidden_effect = {
						remove_country_modifier = EDG_KNI_m_savior_power_5_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_mil_var
							value = 4
						}
					}
					add_country_modifier = {
						name = EDG_KNI_m_savior_power_4_modifier
						duration = -1
						hidden = yes
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_mil_var
							value = 4
						}
						NOT = { 
							check_variable = {
								which = EDG_KNI_savior_mil_var
								value = 5
							}
						}
					}
					custom_tooltip = EDG_KNI_savior_mil_5_tt
					
					hidden_effect = {
						remove_country_modifier = EDG_KNI_m_savior_power_3_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_4_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_2_modifier
						remove_country_modifier = EDG_KNI_m_savior_power_1_modifier
						set_variable = {
							which = EDG_KNI_savior_mil_var
							value = 5
						}
						set_country_flag = EDG_kni_save_people_5_flag						
					}
					
					add_country_modifier = {
						name = EDG_KNI_m_savior_power_5_modifier
						duration = -1
						hidden = yes 
					}
				}
				else_if = {
					limit = { 
						check_variable = {
							which = EDG_KNI_savior_mil_var
							value = 5
						}
					}
					custom_tooltip = EDG_KNI_savior_mil_6_tt
				}
			}
			ai_chance = {
			  factor = 100	
			}
		}
		}
	}