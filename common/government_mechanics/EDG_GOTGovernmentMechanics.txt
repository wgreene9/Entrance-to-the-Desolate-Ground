EDG_GOT_infarmy_mechanic = { #恶名
	powers = {
		EDG_GOT_infarmy = {
			show_before_interactions = yes
			gui = EDG_GOT_infarmy_mech
			max = 100
			reset_on_new_ruler = no
			monarch_power = DIP

			scaled_modifier = {
				modifier = {
					diplomatic_reputation = -10
					privateer_efficiency = 1
					naval_maintenance_modifier = -0.5
					naval_forcelimit_modifier = 0.5
				}
			}
			reverse_scaled_modifier = {
				modifier = { 
					improve_relation_modifier = 0.5
					possible_condottieri = 1
					trade_efficiency = 0.5
					global_ship_trade_power = 0.5
				}
			}
			range_modifier = {
				trigger = {
					navy_tradition = 50
				}
				modifier = { 
					monthly_EDG_GOT_infarmy = 0.1
				}
			}
			range_modifier = {
				trigger = {
					navy_tradition = 95
				}
				modifier = { 
					monthly_EDG_GOT_infarmy = 0.5
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						navy_tradition = 25
					}
				}
				modifier = { 
					monthly_EDG_GOT_infarmy = -0.5
				}
			}
			range_modifier = {
				trigger = {
					prestige = 75
				}
				modifier = { 
					monthly_EDG_GOT_infarmy = 0.1
				}
			}
			range_modifier = {
				trigger = {
					NOT = {
						prestige = 25
					}
				}
				modifier = { 
					monthly_EDG_GOT_infarmy = -0.1
				}
			}
			range_modifier = {
				trigger = {
					is_at_war = no
				}
				modifier = { 
					monthly_EDG_GOT_infarmy = -0.1
				}
			}
		}
	}
	interactions = {
		EDG_GOT_assemble_fleet = { #集结舰队
			icon = GFX_EDG_GOT_infarmy_mechanic_button_1
			cost_type = EDG_GOT_infarmy
			cost = 25
			cooldown_years = 5
			cooldown_token = EDG_GOT_infarmy_mechanic
			trigger = { 
				capital_scope = {
					has_port = yes
					controlled_by = root
				}
            }
			effect = {
				create_unit_forcelimit_percentage = {
					special_unit_category = galleass
					type = galley
					force_limit_percentage = 0.05
				}
				create_unit_forcelimit_percentage = {
					special_unit_category = caravel
					type = light_ship
					force_limit_percentage = 0.03
				}
				create_unit_forcelimit_percentage = {
					special_unit_category = galleon
					type = heavy_ship
					force_limit_percentage = 0.01
				}
			}
			ai_chance = {
				factor = 0	#
			}
		}
		EDG_GOT_ocean_exploration = { #远航探索
			icon = GFX_EDG_GOT_infarmy_mechanic_button_6
			cost_type = EDG_GOT_infarmy
			cost = 20
			trigger = {
				is_at_war = no
				num_of_colonists = 1
				NOT = {
					has_country_modifier = EDG_GOT_exploration
				}
				capital_scope = {
					has_port = yes
					controlled_by = root
					light_ships_in_province = 3
				}
            }
			effect = {
				add_country_modifier = {
					name = EDG_GOT_exploration
					duration = 3650
				}
				capital_scope = {
					kill_units = {
						who = root
						type = light_ship
						amount = 3
					}
				}
			}
			ai_chance = {
				factor = 0	#
			}
		}
		EDG_GOT_look_for_treasure = { #寻找宝藏
			icon = GFX_EDG_GOT_infarmy_mechanic_button_4
			cost_type = EDG_GOT_infarmy
			cost = 20
			cooldown_years = 3
			cooldown_token = EDG_GOT_infarmy_mechanic
			trigger = {
				is_at_war = yes
				capital_scope = {
					has_port = yes
					controlled_by = root
					heavy_ships_in_province = 1
					light_ships_in_province = 5
					transports_in_province = 10
				}
            }
			effect = {
				capital_scope = {
					kill_units = {
						who = root
						type = heavy_ship
						amount = 1
					}
					kill_units = {
						who = root
						type = light_ship
						amount = 5
					}
					kill_units = {
						who = root
						type = transport
						amount = 10
					}
				}
				add_adm_power = 200
				add_dip_power = 200
				add_adm_power = 200
			}
			ai_chance = {
				factor = 0	#
			}
		}
		EDG_GOT_share_the_spoils = { #分享战利品
			icon = GFX_EDG_GOT_infarmy_mechanic_button_3
			cost_type = EDG_GOT_infarmy
			cost = 10
			cooldown_years = 3
			trigger = { 
				NOT = {
					has_country_modifier = EDG_GOT_morle_up
				}
				treasury = 250
            }
			effect = {
				add_treasury = -250
				add_years_of_income = -3
				add_country_modifier = {
					name = EDG_GOT_morle_up
					duration = -1
				}
			}
			ai_chance = {
				factor = 0	#
			}
		}
		EDG_GOT_extended_raiding = { #猎杀时刻
			icon = GFX_EDG_GOT_infarmy_mechanic_button_5
			# cost_type = EDG_GOT_infarmy
			# cost = 0
			cooldown_years = 5
			trigger = {
				is_at_war = no
            }
			effect = {
				add_government_power = {
					mechanic_type = EDG_GOT_infarmy_mechanic
					power_type = EDG_GOT_infarmy
					value = 20
				}
				add_years_of_income = 5
				if = {
					limit = { 
						NOT = {
							has_country_modifier = EDG_GOT_notorious
						}
					}
					add_country_modifier = {
						name = EDG_GOT_notorious
						duration = 3650
					}
				}
				else = {
					extend_country_modifier = {
						name = EDG_GOT_notorious
						duration = 3650
					}
				}
			}
			ai_chance = {
				factor = 0	#
			}
		}
		EDG_GOT_invite_the_legendary_pirate = { #邀请传奇海盗
			icon = GFX_EDG_GOT_infarmy_mechanic_button_2
			cost_type = EDG_GOT_infarmy
			cost = 80
			cooldown_years = 20
			trigger = {
				capital_scope = {
					has_port = yes
					controlled_by = root
				}
				NOT = {
					ruler_has_personality = legendary_pirate_personality
				}
            }
			effect = {
				custom_tooltip = EDG_GOT_invite_the_legendary_pirate.tt
				hidden_effect = {
					define_ruler = {
						min_age = 30
						max_age = 70
						change_adm = -2
						change_dip = 3
						change_mil = 2
						random_gender = yes
					}
					add_ruler_personality = EDG_GOT_invite_the_legendary_pirate
					capital_scope = {
						random_list = {
							3 = {
								create_flagship = {
									type = heavy_ship
								}
							}
							7 = {
								create_flagship = {
									type = light_ship
								}
							}
						}
					}
					
				}
			}
			ai_chance = {
				factor = 0	#
			}
		}
	}
}