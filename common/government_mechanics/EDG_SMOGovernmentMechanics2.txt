EDG_SMO_estate_loyal_mechanic = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 10
	available = {
		has_dlc = "Rights of Man"
	}

	powers = {
		EDG_SMO_estate_loyal = {
			min = -100
			max = 100
			gui = EDG_EDG_SMO_estate_loyal_mech
			scaled_modifier = {
				trigger = {
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = { 
					EDG_peasants_loyalty_modifier = 0.5
					EDG_officials_loyalty_modifier = -0.5
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_boycott_burghers_flag
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = { 
					burghers_loyalty_modifier = -0.5
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_church_oppose_flag
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = { 
					church_loyalty_modifier = -0.5
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_acceptance_burghers_flag
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = { 
					burghers_loyalty_modifier = 0.25
					EDG_peasants_loyalty_modifier = -0.25
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_church_join_flag
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = { 
					church_loyalty_modifier = 0.25
					EDG_peasants_loyalty_modifier = -0.1
				}
				start_value = 0
				end_value = 100
			}
			scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_mission_5_12_flag
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = {
					all_estate_possible_privileges = 3
				}
				start_value = 0
				end_value = 100
			}
			reverse_scaled_modifier = {
				trigger = {
					NOT = {
						has_government_power = {
							mechanic_type = EDG_SMO_estate_loyal_mechanic
							power_type = EDG_SMO_estate_loyal
							value = 0
						}
					}
				}
				modifier = { 
					EDG_peasants_loyalty_modifier = -0.5
					EDG_officials_loyalty_modifier = 0.5
				}
				start_value = -100
				end_value = 0
			}
			reverse_scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_boycott_burghers_flag
					NOT = {
						has_government_power = {
							mechanic_type = EDG_SMO_estate_loyal_mechanic
							power_type = EDG_SMO_estate_loyal
							value = 0
						}
					}
				}
				modifier = { 
					burghers_loyalty_modifier = 0.5
				}
				start_value = -100
				end_value = 0
			}
			reverse_scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_church_oppose_flag
					NOT = {
						has_government_power = {
							mechanic_type = EDG_SMO_estate_loyal_mechanic
							power_type = EDG_SMO_estate_loyal
							value = 0
						}
					}
				}
				modifier = { 
					church_loyalty_modifier = 0.5
				}
				start_value = -100
				end_value = 0
			}
			reverse_scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_acceptance_burghers_flag
					NOT = {
						has_government_power = {
							mechanic_type = EDG_SMO_estate_loyal_mechanic
							power_type = EDG_SMO_estate_loyal
							value = 0
						}
					}
				}
				modifier = { 
					burghers_loyalty_modifier = -0.25
				}
				start_value = -100
				end_value = 0
			}
			reverse_scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_church_join_flag
					NOT = {
						has_government_power = {
							mechanic_type = EDG_SMO_estate_loyal_mechanic
							power_type = EDG_SMO_estate_loyal
							value = 0
						}
					}
				}
				modifier = { 
					church_loyalty_modifier = -0.25
				}
				start_value = -100
				end_value = 0
			}
			reverse_scaled_modifier = {
				trigger = {
					has_country_flag = EDG_SMO_mission_5_12_flag
					has_government_power = {
						mechanic_type = EDG_SMO_estate_loyal_mechanic
						power_type = EDG_SMO_estate_loyal
						value = 0
					}
				}
				modifier = {
					all_estate_possible_privileges = 3
				}
				start_value = -100
				end_value = 0
			}
			
		}
	}
}