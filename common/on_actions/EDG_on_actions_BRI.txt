
on_startup = {
	BRI = { country_event = { id = EDG_flavor_BRI_mission.0 } }
	BRI = { country_event = { id = EDG_flavor_BRI_mission.25 days = 1 } }
}
# province, manually conversion
on_province_culture_converted = {
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Expand_autonomous_communities } }
		add_province_modifier = { name = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Commercial_franchise_rights } }
		add_province_modifier = { name = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_army_force } }
		add_province_modifier = { name = EDG_estate_Interracial_army_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_army_force_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_tax_force } }
		add_province_modifier = { name = EDG_estate_Interracial_tax_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_tax_force_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_trade_goods_force } }
		add_province_modifier = { name = EDG_estate_Interracial_trade_goods_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_trade_goods_force_province_modifier }
}

# province, general conversion through effects
on_province_culture_changed = {
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Expand_autonomous_communities } }
		add_province_modifier = { name = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Commercial_franchise_rights } }
		add_province_modifier = { name = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_army_force } }
		add_province_modifier = { name = EDG_estate_Interracial_army_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_army_force_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_tax_force } }
		add_province_modifier = { name = EDG_estate_Interracial_tax_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_tax_force_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_trade_goods_force } }
		add_province_modifier = { name = EDG_estate_Interracial_trade_goods_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_trade_goods_force_province_modifier }
}
# province
# FROM = old owner
on_province_owner_change = {
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Expand_autonomous_communities } }
		add_province_modifier = { name = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Commercial_franchise_rights } }
		add_province_modifier = { name = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_army_force } }
		add_province_modifier = { name = EDG_estate_Interracial_army_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_army_force_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_tax_force } }
		add_province_modifier = { name = EDG_estate_Interracial_tax_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_tax_force_province_modifier }
	######
	if = {
		limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_trade_goods_force } }
		add_province_modifier = { name = EDG_estate_Interracial_trade_goods_force_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_estate_Interracial_trade_goods_force_province_modifier }


	######
	if = {
		limit = {
			OR = {
				has_building = fort_15th
				has_building = fort_16th
				has_building = fort_17th
				has_building = fort_18th
			}
			owner = { has_country_flag = EDG_every_now_and_forever_fort_get_the_modifier_flag } }
		add_province_modifier = { name = EDG_mission_BRI_1_19_province_modifier duration = -1 }
	}
	else = { remove_province_modifier = EDG_mission_BRI_1_19_province_modifier }
	if = {
		limit = {
			owner = { has_country_flag = EDG_mission_BRI_1_21_flag }
			trade_goods = wine
		}
		add_province_modifier = {
			name = EDG_mission_BRI_1_21_province_modifier
			duration = -1
		}
	}
}



on_adm_development = {
	if = {
		limit = {
			owner = { has_country_flag = EDG_MISSION_BRI_France_development_flag }
			region = france_region
		}
		random = { add_base_tax = 1 chance = 33 }
	}
}

# province
on_dip_development = {
	if = {
		limit = {
			owner = { has_country_flag = EDG_MISSION_BRI_France_development_flag }
			region = france_region
		}
		random = { add_base_production = 1 chance = 33 }
	}
}

# province
on_mil_development = {
	if = {
		limit = {
			owner = { has_country_flag = EDG_MISSION_BRI_France_development_flag }
			region = france_region
		}
		random = { add_base_manpower = 1 chance = 33 }
	}
}


on_province_owner_change = {
	if = {
		limit = {
			owner = { has_country_flag = EDG_MISSION_BRI_France_conquer_flag }
			region = france_region
		}
		add_province_modifier = {
			name = EDG_MISSION_BRI_France_conquer_province_modifier
			duration = 7300
		}
	}
}


# province
on_province_religion_converted = {
	if = {
		limit = { owner = { has_country_flag = on_province_religion_converted_provide_3_church_loyalty_flag } }
		owner = {
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 3
			}
		}
	}
}


on_mil_tech_taken = { #ROOT - Country, executed after on_tech_taken!
	if = {
		limit = {
			ROOT = {
				has_country_flag = EDG_on_mil_tech_taken_PROVIDE_10_army_tradition_flag
			}
		}
		add_mil_power = 50
	}
	if = {
		limit = {
			root = { has_country_flag = EDG_on_mil_tech_taken_add_1_mil_flag not = { has_ruler_flag = EDG_on_mil_tech_taken_add_1_mil_ruler_flag } }
		}
		set_ruler_flag = EDG_on_mil_tech_taken_add_1_mil_ruler_flag
		change_mil = 1
	}
} 

# ROOT = province, FROM = country
on_trade_good_changed = {
	if = {
		limit = {
			owner = { has_consort_flag = EDG_mission_BRI_1_21_flag }
			trade_goods = wine
		}
		add_province_modifier = {
			name = EDG_mission_BRI_1_21_province_modifier
			duration = -1
		}
	}
}

on_new_monarch = {
	events = {
		EDG_flavor_BRI_mission.10
	}
}


on_barrage = { #ROOT - barraging country, FROM - barraged province 
	if = {
		limit = { has_country_flag = EDG_on_barrage_provide_10_mil_power_flag }
		add_mil_power = 10
	}
}


on_main_war_won = {
	if = {
		limit = {
			ROOT = {
				has_country_flag = EDG_on_main_war_won_provide_25_mil_power_flag
			}
		}
		add_mil_power = 25
	}

}
on_war_won = {
	if = {
		limit = {
			NOT = { has_country_flag = emp_mlo_won_war_with_swiss_mercs }
			any_hired_mercenary_company = {
				home_province = {
					OR = {
						area = switzerland_area
						area = romandie_area
					}
				}
			}
		}
		set_country_flag = emp_mlo_won_war_with_swiss_mercs
	}
}

on_monarch_death = {#
	events = {
		EDG_flavor_BRI_mission.31
	}
}
on_new_monarch = {
	events = {
		EDG_flavor_BRI_mission.42
	}
}
on_yearly_pulse = {
	events = {
		EDG_flavor_BRI_mission.46
		EDG_flavor_BRI_mission.48
	}
	if = {
		limit = {
			has_estate = estate_edg_Interracial
		}
		every_owned_province = {
			if = {
				limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Expand_autonomous_communities } }
				add_province_modifier = { name = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier duration = -1 }
			}
			else = { remove_province_modifier = EDG_estate_Interracial_Expand_autonomous_communities_province_modifier }
			######
			if = {
				limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_Commercial_franchise_rights } }
				add_province_modifier = { name = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier duration = -1 }
			}
			else = { remove_province_modifier = EDG_estate_Interracial_Commercial_franchise_rights_province_modifier }
			######
			if = {
				limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_army_force } }
				add_province_modifier = { name = EDG_estate_Interracial_army_force_province_modifier duration = -1 }
			}
			else = { remove_province_modifier = EDG_estate_Interracial_army_force_province_modifier }
			######
			if = {
				limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_tax_force } }
				add_province_modifier = { name = EDG_estate_Interracial_tax_force_province_modifier duration = -1 }
			}
			else = { remove_province_modifier = EDG_estate_Interracial_tax_force_province_modifier }
			######
			if = {
				limit = { NOT = {  culture_group = root } owner = { has_estate_privilege = EDG_estate_Interracial_trade_goods_force } }
				add_province_modifier = { name = EDG_estate_Interracial_trade_goods_force_province_modifier duration = -1 }
			}
			else = { remove_province_modifier = EDG_estate_Interracial_trade_goods_force_province_modifier }
		
		
			######
			if = {
				limit = {
					OR = {
						has_building = fort_15th
						has_building = fort_16th
						has_building = fort_17th
						has_building = fort_18th
					}
					owner = { has_country_flag = EDG_every_now_and_forever_fort_get_the_modifier_flag } }
				add_province_modifier = { name = EDG_mission_BRI_1_19_province_modifier duration = -1 }
			}
			else = { remove_province_modifier = EDG_mission_BRI_1_19_province_modifier }
			if = {
				limit = {
					owner = { has_country_flag = EDG_mission_BRI_1_21_flag }
					trade_goods = wine
				}
				add_province_modifier = {
					name = EDG_mission_BRI_1_21_province_modifier
					duration = -1
				}
			}
		}
	}
}

on_thri_yearly_pulse = {
	events = {
		#EDG_flavor_BRI_mission.51
		EDG_flavor_BRI_mission.56
	}

}