
on_siege_lost_province = {
	if = {
		limit = {
			NOT = {
				OR = {
					has_province_modifier = EDG_FOI_UCI_agitate_the_bottom
					owned_by = from
					is_core = from
				}
			}
			from = {
				has_country_flag = EDG_SMO_mission_1_12_flag
			}
		}
		add_province_modifier = {
			name = EDG_FOI_UCI_agitate_the_bottom
			duration = 7300
		}
	}
}
on_barrage = {
	if = {
		limit = {
			root = {
				has_country_flag = EDG_SMO_mission_1_19_flag
			}
		}
		from = {
			change_siege = 25
		}
	}
	if = {
		limit = { 
			root = {
				has_country_flag = EDG_SMO_mission_2_20_flag
			}
		}
		from = {
			if = {
				limit = { 
					has_building = fort_15th
				}
				random = {
					chance = 50
					remove_building = fort_15th
					root = {
						add_mil_power = 50
					}
				}
			}
			if = {
				limit = { 
					has_building = fort_16th
				}
				random = {
					chance = 40
					remove_building = fort_16th
					root = {
						add_mil_power = 60
					}
				}
			}
			if = {
				limit = { 
					has_building = fort_17th
				}
				random = {
					chance = 30
					remove_building = fort_17th
					root = {
						add_mil_power = 70
					}
				}
			}
			if = {
				limit = { 
					has_building = fort_18th
				}
				random = {
					chance = 20
					remove_building = fort_18th
					root = {
						add_mil_power = 80
					}
				}
			}
		}
	}
}
on_adm_development = {
	if = {
		limit = { 
			owner = {
				has_country_modifier = EDG_SMO_five_year_plan
			}
		}
		change_variable = {
			which = EDG_SMO_improve_var
			value = 1
		}
		if = {
			limit = { 
				NOT = {
					has_province_modifier = EDG_SMO_early_modern_urbanization
				}
				check_variable = {
					which = EDG_SMO_improve_var
					value = 5
				}
				development = 25
			}
			add_province_modifier = {
				name = EDG_SMO_early_modern_urbanization
				duration = -1
			}
		}
	}
}
on_dip_development = {
	if = {
		limit = { 
			owner = {
				has_country_modifier = EDG_SMO_five_year_plan
			}
		}
		change_variable = {
			which = EDG_SMO_improve_var
			value = 1
		}
		if = {
			limit = { 
				NOT = {
					has_province_modifier = EDG_SMO_early_modern_urbanization
				}
				check_variable = {
					which = EDG_SMO_improve_var
					value = 5
				}
				development = 25
			}
			add_province_modifier = {
				name = EDG_SMO_early_modern_urbanization
				duration = -1
			}
		}
	}
}
on_mil_development = {
	if = {
		limit = { 
			owner = {
				has_country_modifier = EDG_SMO_five_year_plan
			}
		}
		change_variable = {
			which = EDG_SMO_improve_var
			value = 1
		}
		if = {
			limit = { 
				NOT = {
					has_province_modifier = EDG_SMO_early_modern_urbanization
				}
				check_variable = {
					which = EDG_SMO_improve_var
					value = 5
				}
				development = 25
			}
			add_province_modifier = {
				name = EDG_SMO_early_modern_urbanization
				duration = -1
			}
		}
	}
}