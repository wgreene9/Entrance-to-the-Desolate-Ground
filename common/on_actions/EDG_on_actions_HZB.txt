
on_general_recruited = {
	if = {
		limit = {
			has_country_flag = EDG_on_general_recruited_provide_1_army_tradition_flag
		}
		add_army_tradition = 1
	}
	if = {
		limit = {
			has_country_flag = EDG_on_general_recruited_provide_1_manpower_flag
		}
		add_manpower = 1
	}
}

on_admiral_recruited = {
	if = {
		limit = {
			has_country_flag = EDG_on_admiral_recruited_provide_1_army_tradition_flag
		}
		add_navy_tradition = 1
	}
}
on_convert_by_trade_policy = {
	FROM = {
		if = {
			limit = {
				has_country_flag = on_convert_by_trade_policy_provide_add_piety_flag
			}
			add_piety = 0.1
		}
	}
}

on_province_religion_converted = {
	if = {
		limit = {
			owner = {
				has_country_flag = EDG_on_province_religion_converted_provide_local_autonomy_flag
			}
		}
		add_local_autonomy = -25
	}
	if = {
		limit = {
			owner = {
				has_country_flag = EDG_on_province_religion_converted_provide_add_prestige_or_monarch_power_flag
			}
		}
		owner = {
			add_prestige_or_monarch_power = { amount = 1 }
		}
	}
}

on_main_war_won = {
	if = {
		limit = {
			ROOT = {
				has_country_flag = EDG_on_main_war_won_provide_add_army_tradition_flag
			}
		}
		add_army_tradition = 5
	}
	if = {
		limit = {
			ROOT = {
				has_country_flag = EDG_on_main_war_won_provide_add_manpower_flag
			}
		}
		add_yearly_manpower = 0.1 
	}
	if = {
		limit = { ROOT = { has_country_flag = EDG_on_main_war_won_provide_add_army_tradition_flag_1 } }
		add_government_power = { mechanic_type = persian_influence_mechanic power_type = persian_influence value = 5 }
	}
	if = {
		limit = { ROOT = { has_country_flag = EDG_on_main_war_won_provide_add_army_tradition_flag_2 } }
		add_government_power = { mechanic_type = persian_influence_mechanic power_type = persian_influence value = 5 }
	}
	if = {
		limit = { ROOT = { has_country_flag = EDG_on_main_war_won_provide_add_army_tradition_flag_3 } }
		add_government_power = { mechanic_type = persian_influence_mechanic power_type = persian_influence value = 5 }
	}
	if = {
		limit = { ROOT = { has_country_flag = EDG_on_main_war_won_provide_add_army_tradition_flag_4 } }
		add_government_power = { mechanic_type = persian_influence_mechanic power_type = persian_influence value = 5 }
	}
	if = {
		limit = { ROOT = { has_country_flag = EDG_on_main_war_won_provide_add_army_tradition_flag_5 } }
		add_government_power = { mechanic_type = persian_influence_mechanic power_type = persian_influence value = 5 }
	}
}

on_loan_repaid = {
	if = {
		limit = { 
			THIS = {
				has_country_flag = EDG_on_loan_repaid_add_dip_power_flag
			}
		}
		THIS = { add_dip_power = 1 }
	}
}

on_pre_mil_advisor_fired = {
	if = {
		limit = {
			has_country_flag = EDG_on_pre_mil_advisor_fired_add_mil_power_flag
		}
		define_advisor = { 
			type = commandant 
			skill = 3 
		}
	}
}

on_new_age = {
	if = {
		limit = {
			has_country_flag = EDG_on_new_age_add_100_power_flag
		}
		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
	}
}


on_adm_exploited = {
	if = {
		limit = { owner = { has_country_flag = EDG_on_adm_exploited_add_1_base_development_back_flag } }
		random = {
			chance = 50
			add_base_tax = 1
		}
	}
}
on_raze = {
	if = {
		limit = { owner = { has_country_flag = EDG_on_raze_add_20_treasury_flag } }
		owner = {
			random = {
				chance = 20
				add_treasury = 20
			}
		}
	}
	
}
on_concentrate_development = {
	if = { 
		limit = { owner = { has_country_flag = EDG_on_concentrate_development_add_5_nationalism_flag } }
		add_nationalism = -5
	}
}

on_tech_taken = { #ROOT - Country
	if = { 
		limit = { has_country_flag = EDG_on_tech_taken_add_25_power_flag }
		add_adm_power = 25
		add_dip_power = 25
		add_mil_power = 25
	}
}
on_mil_tech_taken = { #ROOT - Country, executed after on_tech_taken!
	if = {
		limit = {
			ROOT = {
				has_country_flag = EDG_on_mil_tech_taken_add_10_army_tradition_flag
			}
		}
		add_army_tradition = 10
	}
} 