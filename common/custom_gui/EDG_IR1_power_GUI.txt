custom_window = {#按钮窗口
	name = EDG_IR1_window_button_gui
	potential = { 
		has_country_flag = EDG_IR1_window_button_gui_flag
	}
}

custom_button = {#开启按钮
	name = EDG_IR1_button_open
	tooltip = "EDG_IR1_button_open_tt"
	potential = { 
		not = {
			has_country_flag = EDG_IR1_window_gui_open_flag
		}
		has_country_flag = EDG_IR1_window_button_gui_flag
	}
	trigger = { }
	effect = { 
		set_country_flag = EDG_IR1_window_gui_open_flag
	}
}

custom_button = {#关闭按钮
	name =  EDG_IR1_button_off
	tooltip = "EDG_IR1_button_off_tt"
	potential = {
		has_country_flag = EDG_IR1_window_button_gui_flag
		has_country_flag =  EDG_IR1_window_gui_open_flag
	 }
	trigger = { }
	effect = { 
		clr_country_flag =  EDG_IR1_window_gui_open_flag
	}
}

custom_window = {#界面窗口
	name = EDG_IR1_window_gui
	potential = { 
		has_country_flag = EDG_IR1_window_gui_open_flag
	}
}

custom_icon = {#背景板1
	name = EDG_IR1_power_bg_1
	potential = { 
		has_country_flag = EDG_IR1_window_gui_open_flag
		is_at_war = yes
	}
}

custom_icon = {#背景板2
	name = EDG_IR1_power_bg_2
	potential = { 
		has_country_flag = EDG_IR1_window_gui_open_flag
		is_at_war = no
		NOT = {
			has_government_power = {
				mechanic_type = EDG_AK2_government_mechanics_1
				power_type = EDG_AK2_mechanics_power_A
				value = 85
			}
		}
	}
}

custom_icon = {#背景板3
	name = EDG_IR1_power_bg_3
	potential = { 
		has_country_flag = EDG_IR1_window_gui_open_flag
		is_at_war = no
		has_government_power = {
			mechanic_type = EDG_AK2_government_mechanics_1
			power_type = EDG_AK2_mechanics_power_A
			value = 85
		}
	}
}

custom_button = {#关闭按钮2
	name = EDG_IR1_button_close
	potential = { }
	trigger = { }
	effect = {
		clr_country_flag = EDG_IR1_window_gui_open_flag
	 }
}

custom_shield = {#空白盾徽
	name = EDG_IR1_overlord_1_shield_1
	global_event_target = EDG_IR1_overlord_1_target
	open_country = yes
	tooltip = "EDG_IR1_overlord_1_tt"
	potential = {
		not = {
			has_saved_global_event_target = EDG_IR1_overlord_1_target
		}
	 }
	trigger = { }
	effect = { }
}

custom_shield = {#盾徽
	name = EDG_IR1_overlord_1_shield_2
	global_event_target = EDG_IR1_overlord_1_target
	open_country = yes
	tooltip = "EDG_IR1_overlord_1_tt"
	potential = {
		has_saved_global_event_target = EDG_IR1_overlord_1_target
		exists = event_target:EDG_IR1_overlord_1_target
	 }
	trigger = { }
	effect = { }
}

custom_button = {#刷新盾徽,总起按钮
	name = EDG_IR1_overlord_1_button
	potential = { 
		not = {
			has_saved_global_event_target = EDG_IR1_overlord_1_target
		}
	}
	tooltip = EDG_IR1_overlord_1_button_tt
	trigger = {
		not = {
			custom_trigger_tooltip = {
				tooltip = "EDG_IR1_overlord_1_flag_tt_1"
				has_country_flag = EDG_IR1_overlord_1_flag
			}
		}
		num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
			value = 50
			culture_group = root
		}
		government_rank = 3
	 }
	effect = {
		hidden_effect = {
			save_global_event_target_as = EDG_IR1_overlord_1_target
		    set_country_flag = EDG_IR1_overlord_1_flag 
			event_target:EDG_IR1_overlord_1_target = {
				set_variable = {#改革数量变量
					which = EDG_refom_num_var
					value = 0
				}
				set_variable = {#可强化点数
					which = EDG_power_num_var
					value = 0
				}
			}	
		}
	 }
}

custom_text_box = {#标题1，2个字
	name = EDG_IR1_overlord_1_text_bg_1
	potential = { 
		has_saved_global_event_target = EDG_IR1_overlord_1_target
		or = {
			and = {
				not = { 
					has_country_flag = EDG_AK2_event_70_b_flag
				}
				not = { 
					has_country_flag = EDG_AK2_event_70_c_flag
				}
				not = { 
					has_country_flag = EDG_AK2_event_70_e_flag
				}
				not = { 
					has_country_flag = EDG_AK2_event_70_f_flag
				}
			}
			has_country_flag = EDG_AK2_event_70_e_flag
		}
	}
}

custom_text_box = {#标题2，4个字
	name = EDG_IR1_overlord_1_text_bg_2
	potential = { 
		has_saved_global_event_target = EDG_IR1_overlord_1_target
		or = {
			has_country_flag = EDG_AK2_event_70_b_flag
			has_country_flag = EDG_AK2_event_70_c_flag
		}
	}
}

custom_text_box = {#标题3，5个字
	name = EDG_IR1_overlord_1_text_bg_3
	potential = { 
		has_saved_global_event_target = EDG_IR1_overlord_1_target
		has_country_flag = EDG_AK2_event_70_f_flag
	}
}

custom_text_box = {#国事诏书
	name = EDG_IR1_reform_1_text_bg
	potential = { }
}

custom_text_box = {#帝国革新
	name = EDG_IR1_reform_2_text_bg
	potential = { }
}

custom_icon = {#模拟兴衰值0
	name = EDG_IR1_reform_0_bg
	potential = { 
		has_country_flag = EDG_IR1_overlord_1_flag
		NOT = {
			has_government_power = {
				mechanic_type = EDG_AK2_government_mechanics_1
				power_type = EDG_AK2_mechanics_power_A
				value = 1
			}
		}
	}
	tooltip = EDG_IR1_reform_0_bg_tt
}

custom_icon = {#模拟兴衰值1
	name = EDG_IR1_reform_1_bg
	potential = { 
		has_country_flag = EDG_IR1_overlord_1_flag
		has_government_power = {
			mechanic_type = EDG_AK2_government_mechanics_1
			power_type = EDG_AK2_mechanics_power_A
			value = 86
		}
	}
	tooltip = EDG_IR1_reform_1_bg_tt
}

custom_icon = {#模拟兴衰值5
	name = EDG_IR1_reform_5_bg
	potential = { 
		has_country_flag = EDG_IR1_overlord_1_flag
		has_government_power = {
			mechanic_type = EDG_AK2_government_mechanics_1
			power_type = EDG_AK2_mechanics_power_A
			value = 76
		}
		NOT = {
			has_government_power = {
				mechanic_type = EDG_AK2_government_mechanics_1
				power_type = EDG_AK2_mechanics_power_A
				value = 86
			}
		}
	}
	tooltip = EDG_IR1_reform_5_bg_tt
}

custom_icon = {#模拟兴衰值2
	name = EDG_IR1_reform_2_bg
	potential = { 
		has_country_flag = EDG_IR1_overlord_1_flag
		has_government_power = {
			mechanic_type = EDG_AK2_government_mechanics_1
			power_type = EDG_AK2_mechanics_power_A
			value = 51
		}
		NOT = {
			has_government_power = {
				mechanic_type = EDG_AK2_government_mechanics_1
				power_type = EDG_AK2_mechanics_power_A
				value = 76
			}
		}
	}
	tooltip = EDG_IR1_reform_2_bg_tt
}

custom_icon = {#模拟兴衰值3
	name = EDG_IR1_reform_3_bg
	potential = { 
		has_country_flag = EDG_IR1_overlord_1_flag
		has_government_power = {
			mechanic_type = EDG_AK2_government_mechanics_1
			power_type = EDG_AK2_mechanics_power_A
			value = 26
		}
		NOT = {
			has_government_power = {
				mechanic_type = EDG_AK2_government_mechanics_1
				power_type = EDG_AK2_mechanics_power_A
				value = 51
			}
		}
	}
	tooltip = EDG_IR1_reform_3_bg_tt
}

custom_icon = {#模拟兴衰值4
	name = EDG_IR1_reform_4_bg
	potential = { 
		has_country_flag = EDG_IR1_overlord_1_flag
		has_government_power = {
			mechanic_type = EDG_AK2_government_mechanics_1
			power_type = EDG_AK2_mechanics_power_A
			value = 1
		}
		NOT = {
			has_government_power = {
				mechanic_type = EDG_AK2_government_mechanics_1
				power_type = EDG_AK2_mechanics_power_A
				value = 26
			}
		}
	}
	tooltip = EDG_IR1_reform_4_bg_tt
}

##法令窗口

custom_window = {#法令窗口
	name = EDG_IR1_decree_select_window
	potential = { 
		has_country_flag = EDG_IR1_window_gui_open_flag
	}
}

custom_button = {#法令1，扩展基础建设
	name = EDG_IR1_decree_select_1
	tooltip = "EDG_IR1_decree_select_1_modifier_t"
	potential = { 	}
	trigger = { 
		EDG_AK2_decree_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = { 
			not = {
				has_country_modifier = EDG_IR1_decree_select_1_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_decree_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_decree_select_1_modifier
				duration = 3650
			}
		}
	}
}

custom_button = {#法令2，赞助伊朗艺术
	name = EDG_IR1_decree_select_2
	tooltip = "EDG_IR1_decree_select_2_modifier_t"
	potential = { }
	trigger = { 
		EDG_AK2_decree_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = { 
			not = {
				has_country_modifier = EDG_IR1_decree_select_2_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_decree_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_decree_select_2_modifier
				duration = 3650
			}
		}
	}
}

custom_button = {#法令3，擢任将帅人才
	name = EDG_IR1_decree_select_3
	tooltip = "EDG_IR1_decree_select_3_modifier_t"
	potential = { }
	trigger = { 
		EDG_AK2_decree_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = { 
			not = {
				has_country_modifier = EDG_IR1_decree_select_3_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_decree_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_decree_select_3_modifier
				duration = 3650
			}
		}
	}
}

custom_button = {#法令4,资助神学研究
	name = EDG_IR1_decree_select_4
	tooltip = "EDG_IR1_decree_select_4_modifier_t"
	potential = { }
	trigger = { 
		EDG_AK2_decree_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = { 
			not = {
				has_country_modifier = EDG_IR1_decree_select_4_modifier
			}
			church_power = 50
		}
		
	}
	effect = { 
		EDG_AK2_decree_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_decree_select_4_modifier
				duration = 3650
			}
			add_church_power = -50
		}
		
	}
}

custom_button = {#法令5,遴选官职人才
	name = EDG_IR1_decree_select_5
	tooltip = "EDG_IR1_decree_select_5_modifier_t"
	potential = { }
	trigger = { 
		EDG_AK2_decree_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = { 
			not = {
				has_country_modifier = EDG_IR1_decree_select_5_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_decree_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_decree_select_5_modifier
				duration = 3650
			}
		}
	}
}

custom_icon = {
	name = EDG_IR1_decree_select_1_check
	potential = { 
		event_target:EDG_IR1_overlord_1_target = { 
			has_country_modifier = EDG_IR1_decree_select_1_modifier
		}
	}
}
custom_icon = {
	name = EDG_IR1_decree_select_2_check
	potential = { 
		event_target:EDG_IR1_overlord_1_target = { 
			has_country_modifier = EDG_IR1_decree_select_2_modifier
		}
	}
}
custom_icon = {
	name = EDG_IR1_decree_select_3_check
	potential = { 
		event_target:EDG_IR1_overlord_1_target = { 
			has_country_modifier = EDG_IR1_decree_select_3_modifier
		}
	}
}
custom_icon = {
	name = EDG_IR1_decree_select_4_check
	potential = { 
		event_target:EDG_IR1_overlord_1_target = { 
			has_country_modifier = EDG_IR1_decree_select_4_modifier
		}
	}
}
custom_icon = {
	name = EDG_IR1_decree_select_5_check
	potential = { 
		event_target:EDG_IR1_overlord_1_target = { 
			has_country_modifier = EDG_IR1_decree_select_5_modifier
		}
	}
}

#强化界面

custom_icon = {#行政强化图标
	name = EDG_IR1_strengthen_select_pic_1
	tooltip = EDG_IR1_strengthen_select_pic_1_t
	potential = { }
}

custom_icon = {#经济强化图标
	name = EDG_IR1_strengthen_select_pic_2
	tooltip = EDG_IR1_strengthen_select_pic_2_t
	potential = { }
}

custom_icon = {#军事强化图标
	name = EDG_IR1_strengthen_select_pic_3
	tooltip = EDG_IR1_strengthen_select_pic_3_t
	potential = { }
}

custom_button = {#行政强化按钮
	name = EDG_IR1_strengthen_button_1
	tooltip = EDG_IR1_strengthen_select_pic_1_t
	potential = { }
	trigger = { 
		
		EDG_IR1_strengthen_button_1_trigger = yes
		event_target:EDG_IR1_overlord_1_target = {
			legitimacy = 20
		}
	}
	effect = { 
		EDG_IR1_strengthen_button_1_effect = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_legitimacy = -10
			change_innovativeness = 3
		}
	}
}

custom_button = {#经济强化按钮
	name = EDG_IR1_strengthen_button_2
	tooltip = EDG_IR1_strengthen_select_pic_2_t
	potential = { }
	trigger = { 
		EDG_IR1_strengthen_button_2_trigger = yes
		event_target:EDG_IR1_overlord_1_target = {
			legitimacy = 20
		}
	}
	effect = { 
		EDG_IR1_strengthen_button_2_effect = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_legitimacy = -10
			change_innovativeness = 3
		}
	}
}

custom_button = {#军事强化按钮
	name = EDG_IR1_strengthen_button_3
	tooltip = EDG_IR1_strengthen_select_pic_3_t
	potential = { }
	trigger = { 
		EDG_IR1_strengthen_button_3_trigger = yes
		event_target:EDG_IR1_overlord_1_target = {
			legitimacy = 20
		}
	}
	effect = { 
		EDG_IR1_strengthen_button_3_effect = YES
		event_target:EDG_IR1_overlord_1_target = {
			add_legitimacy = -10
			change_innovativeness = 3
		}	
	}
}

custom_icon = {#行政强化进度0
	name = EDG_IR1_strengthen_power_bg_A0
	potential = { 
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_A_1
		}
	}
}

custom_icon = {#行政强化进度1
	name = EDG_IR1_strengthen_power_bg_A1
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_A_2
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_A_3
		}
	}
}

custom_icon = {#行政强化进度2
	name = EDG_IR1_strengthen_power_bg_A2
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_A_3
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_A_4
		}
	}
}

custom_icon = {#行政强化进度3
	name = EDG_IR1_strengthen_power_bg_A3
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_A_4
	}
}

custom_icon = {#经济强化进度0
	name = EDG_IR1_strengthen_power_bg_B0
	potential = { 
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_B_1
		}
	}
}

custom_icon = {#经济强化进度1
	name = EDG_IR1_strengthen_power_bg_B1
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_B_2
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_B_3
		}
	}
}

custom_icon = {#经济强化进度2
	name = EDG_IR1_strengthen_power_bg_B2
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_B_3
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_B_4
		}
	}
}

custom_icon = {#经济强化进度3
	name = EDG_IR1_strengthen_power_bg_B3
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_B_4
		
	}
}

custom_icon = {#军事强化进度0
	name = EDG_IR1_strengthen_power_bg_C0
	potential = { 
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_C_1
		}
	}
}

custom_icon = {#军事强化进度1
	name = EDG_IR1_strengthen_power_bg_C1
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_C_2
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_C_3
		}
	}
}

custom_icon = {#军事强化进度2
	name = EDG_IR1_strengthen_power_bg_C2
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_C_3
		not = {
			has_country_flag = EDG_IR1_strengthen_flag_C_4
		}
	}
}

custom_icon = {#军事强化进度3
	name = EDG_IR1_strengthen_power_bg_C3
	potential = { 
		has_country_flag = EDG_IR1_strengthen_flag_C_4
		
	}
}

#改革窗口
custom_window = {#改革窗口
	name = EDG_IR1_reform_select_window
	potential = { 
		has_country_flag = EDG_IR1_window_gui_open_flag
	}
}

custom_button = {#改革1宣称第五君主国重生
	name = EDG_IR1_reform_select_1
	tooltip = "EDG_IR1_reform_select_1_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_1_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_1_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		custom_tooltip = " "
		event_target:EDG_IR1_overlord_1_target = {
			if = {
				limit = {
					not = {
						has_country_flag = EDG_AK2_event_58_c_flag
					}
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				set_country_flag = EDG_AK2_event_58_c_flag
				add_government_reform = EDG_AK2_reform_3
			}
			else_if = {
				limit = {
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				add_government_power = {
					mechanic_type = EDG_AK2_government_mechanics_1
					power_type = EDG_AK2_mechanics_power_A
					value = 50
				}
			}
			custom_tooltip = " "
			custom_tooltip = EDG_IR1_reform_select_1_tool_1
			set_country_flag = EDG_IR1_reform_select_1_flag_1
			custom_tooltip = " "
			add_country_modifier = {
				name = EDG_IR1_reform_select_1_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革2强化君主神圣地位
	name = EDG_IR1_reform_select_2
	tooltip = "EDG_IR1_reform_select_2_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_2_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_2_modifier
			}
			check_variable = {
				which = EDG_refom_num_var
				value = 2
			}
			church_power = 100
		}
	}
	effect = { 
		event_target:EDG_IR1_overlord_1_target = {
			EDG_AK2_reform_effect_A1 = yes
			custom_tooltip = " "
			add_church_power = -100
			set_country_flag = EDG_IR1_reform_select_2_flag_1
			set_country_flag = EDG_IR1_reform_select_2_flag_2
			custom_tooltip = EDG_IR1_reform_select_2_tool_1
			custom_tooltip = EDG_IR1_reform_select_2_tool_2
			custom_tooltip = " "
			add_country_modifier = {
				name = EDG_IR1_reform_select_2_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革3建设山脉道路
	name = EDG_IR1_reform_select_3
	tooltip = "EDG_IR1_reform_select_3_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_3_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_3_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		add_country_modifier = {
			name = EDG_IR1_reform_select_3_modifier
			duration = -1
		}
		custom_tooltip = " "
		custom_tooltip = EDG_PER_Shahanshah_2_1_reform_modifier_province_TT
		tooltip = {
			add_province_modifier = {
				name = EDG_PER_Shahanshah_2_1_reform_modifier_province
				duration = -1
			}
		}
		unlock_estate_privilege = { estate_privilege = estate_burghers_hydraulic_rights }
		hidden_effect = {
			every_owned_province = {
				limit = {
					culture_group = iranian 
					OR = {
						has_terrain = hills
						has_terrain = mountain
					}
				}
				add_province_modifier = {
					name = EDG_PER_Shahanshah_2_1_reform_modifier_province
					duration = -1
				}
			}
		}
	}
}

custom_button = {#改革4现代化常备军
	name = EDG_IR1_reform_select_4
	tooltip = "EDG_IR1_reform_select_4_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_4_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_4_modifier
			}
			army_professionalism = 0.4
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_4_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革5古拉姆精锐骑兵	
	name = EDG_IR1_reform_select_5
	tooltip = "EDG_IR1_reform_select_5_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_5_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			check_variable = {
				which = EDG_refom_num_var
				value = 8
			}
			not = {
				has_country_modifier = EDG_IR1_reform_select_5_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			if = {
				limit = {
					not = {
						has_country_flag = estate_ghulams_EDG_AK2_privilege_5_flag
					}
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				set_country_flag = estate_ghulams_EDG_AK2_privilege_5_flag
				custom_tooltip = estate_ghulams_EDG_AK2_privilege_5_flag_tt
			}
			custom_tooltip = " "
			if = {
				limit = {
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				set_country_flag = EDG_AK2_A1_2_flag
				custom_tooltip = EDG_IR1_reform_select_5_tool
				custom_tooltip = EDG_AK2_A1_2_decisions_tt
				add_country_modifier = {
					name = EDG_AK2_A1_2_modifier_3
					duration = -1
				}
			}
			add_country_modifier = {
				name = EDG_IR1_reform_select_5_modifier
				duration = -1
			}
		}	
	}
}

custom_button = {#改革6杨帆异域
	name = EDG_IR1_reform_select_6
	tooltip = "EDG_IR1_reform_select_6_t"
	potential = { 
		not = {
			has_country_modifier = gbr_new_world_dominance
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			check_variable = {
				which = EDG_refom_num_var
				value = 9
			}
			not = {
				has_country_modifier = gbr_new_world_dominance
			}
			num_of_colonists = 1
			EDG_IR1_subject_type_1 = 8
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = gbr_new_world_dominance
				duration = -1
			}
		}
		custom_tooltip = gbr_dominiate_new_world_at
	}
}

custom_button = {#改革7严课关税制度
	name = EDG_IR1_reform_select_7
	tooltip = "EDG_IR1_reform_select_7_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_7_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_7_modifier
			}
			EDG_IR1_subject_type_1 = 3
		}
		
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		set_country_flag = EDG_IR1_reform_select_7_flag
		custom_tooltip = EDG_IR1_reform_select_7_tool
		custom_tooltip = " "
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_7_modifier
				duration = -1
			}
		}
		
	}
}

custom_button = {#改革8统一亚洲市场
	name = EDG_IR1_reform_select_8
	tooltip = "EDG_IR1_reform_select_8_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_8_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			OR = { 
				mercantilism = 50 
				dip = 6
			}
			OR = {
				full_idea_group = trade_ideas
				trade_efficiency = 0.85
				trade_income_percentage = 0.40
				home_trade_node = {
					highest_value_trade_node = yes
					is_strongest_trade_power = ROOT
				}
			}
			not = {
				has_country_modifier = EDG_IR1_reform_select_8_modifier
			}
		}
			
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			custom_tooltip = ORM_UNLOCK_ARABIC_MERCHANTS_BURGHERS_PRIVILEGE
			set_country_flag = orm_arabic_merchants_flag
			custom_tooltip = " "
			set_country_flag = fra_enable_italian_bookkeeping_privilege_flag
			custom_tooltip = fra_enable_italian_bookkeeping_privilege_tt
			custom_tooltip = " "
			add_country_modifier = {
				name = EDG_IR1_reform_select_8_modifier
				duration = -1
			}
		}
		
	}
}

custom_button = {#改革9择贤良师辅太子
	name = EDG_IR1_reform_select_9
	tooltip = "EDG_IR1_reform_select_9_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_9_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_9_modifier
			}
			adm_power = 100
			dip_power = 100
			mil_power = 100
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_9_modifier
				duration = -1
			}
			add_adm_power = -100
			add_dip_power = -100
			add_mil_power = -100
		}
			
	}
}

custom_button = {#改革10加强中央集权
	name = EDG_IR1_reform_select_10
	tooltip = "EDG_IR1_reform_select_10_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_10_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			or = {
				absolutism = 75
				crown_land_share = 55
			}
			reform_level = 6
			not = {
				has_country_modifier = EDG_IR1_reform_select_10_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_10_modifier
				duration = -1
			}
			country_event_with_effect_insight = {
				id = flavor_per.36
				effect = "
					unlock_government_reform = {
						government_reform = divided_aristocracy_reform
						tooltip = yes
					}
				"
			}
		}
			
	}
}

custom_button = {#改革11帝国专制主义
	name = EDG_IR1_reform_select_11
	tooltip = "EDG_IR1_reform_select_11_t"
	potential = { 
		not = {
			has_country_modifier = EDG_IR1_reform_select_11_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			absolutism = 95
			crown_land_share = 80
			check_variable = {
				which = EDG_refom_num_var
				value = 10
			}
			not = {
				has_country_modifier = EDG_IR1_reform_select_11_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_11_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革12风卷残云
	name = EDG_IR1_reform_select_12
	tooltip = "EDG_IR1_reform_select_12_t"
	potential = { 
		not = {
			has_country_flag = EDG_IR1_reform_select_12_flag_1
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			check_variable = {
				which = EDG_refom_num_var
				value = 11
			}
			custom_trigger_tooltip = {
				tooltip = "EDG_IR1_reform_select_12_tool_1"
				not = {
					has_country_flag = EDG_IR1_reform_select_12_flag_1
				}
			}
			
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			set_country_flag = EDG_IR1_reform_select_12_flag
			set_country_flag = EDG_IR1_reform_select_12_flag_1
			custom_tooltip = EDG_IR1_reform_select_12_tool
			custom_tooltip = EDG_IR1_reform_select_12_tool_2
		}
	}
}

#改
custom_button = {#改革1宣称第五君主国重生改
	name = EDG_IR1_reform_select_1_r
	tooltip = "EDG_IR1_reform_select_1_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			has_country_modifier = EDG_IR1_reform_select_1_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_1_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		custom_tooltip = " "
		event_target:EDG_IR1_overlord_1_target = {
			if = {
				limit = {
					not = {
						has_country_flag = EDG_AK2_event_58_c_flag
					}
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				add_government_reform = EDG_AK2_reform_3
			}
			else_if = {
				limit = {
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				add_government_power = {
					mechanic_type = EDG_AK2_government_mechanics_1
					power_type = EDG_AK2_mechanics_power_A
					value = 50
				}
			}
			custom_tooltip = " "
			custom_tooltip = EDG_IR1_reform_select_1_tool_1
			set_country_flag = EDG_IR1_reform_select_1_flag_1
			custom_tooltip = " "
			add_country_modifier = {
				name = EDG_IR1_reform_select_1_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革2强化君主神圣地位改
	name = EDG_IR1_reform_select_2_r
	tooltip = "EDG_IR1_reform_select_2_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			
			has_country_modifier = EDG_IR1_reform_select_2_modifier
			
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_2_modifier
			}
			check_variable = {
				which = EDG_refom_num_var
				value = 2
			}
			church_power = 100
		}
	}
	effect = { 
		event_target:EDG_IR1_overlord_1_target = {
			EDG_AK2_reform_effect_A1 = yes
			custom_tooltip = " "
			add_church_power = -100
			set_country_flag = EDG_IR1_reform_select_2_flag_1
			set_country_flag = EDG_IR1_reform_select_2_flag_2
			custom_tooltip = EDG_IR1_reform_select_2_tool_1
			custom_tooltip = EDG_IR1_reform_select_2_tool_2
			custom_tooltip = " "
			add_country_modifier = {
				name = EDG_IR1_reform_select_2_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革3建设山脉道路改
	name = EDG_IR1_reform_select_3_r
	tooltip = "EDG_IR1_reform_select_3_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			has_country_modifier = EDG_IR1_reform_select_3_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_3_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		add_country_modifier = {
			name = EDG_IR1_reform_select_3_modifier
			duration = -1
		}
		custom_tooltip = " "
		custom_tooltip = EDG_PER_Shahanshah_2_1_reform_modifier_province_TT
		tooltip = {
			add_province_modifier = {
				name = EDG_PER_Shahanshah_2_1_reform_modifier_province
				duration = -1
			}
		}
		unlock_estate_privilege = { estate_privilege = estate_burghers_hydraulic_rights }
		hidden_effect = {
			every_owned_province = {
				limit = {
					culture_group = iranian 
					OR = {
						has_terrain = hills
						has_terrain = mountain
					}
				}
				add_province_modifier = {
					name = EDG_PER_Shahanshah_2_1_reform_modifier_province
					duration = -1
				}
			}
		}
	}
}

custom_button = {#改革4现代化常备军改
	name = EDG_IR1_reform_select_4_r
	tooltip = "EDG_IR1_reform_select_4_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			has_country_modifier = EDG_IR1_reform_select_4_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_4_modifier
			}
			army_professionalism = 0.4
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_4_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革5古拉姆精锐骑兵改
	name = EDG_IR1_reform_select_5_r
	tooltip = "EDG_IR1_reform_select_5_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			has_country_modifier = EDG_IR1_reform_select_5_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			check_variable = {
				which = EDG_refom_num_var
				value = 8
			}
			not = {
				has_country_modifier = EDG_IR1_reform_select_5_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			if = {
				limit = {
					not = {
						has_country_flag = EDG_AK2_event_58_c_flag
					}
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				set_country_flag = estate_ghulams_EDG_AK2_privilege_5_flag
				custom_tooltip = estate_ghulams_EDG_AK2_privilege_5_flag_tt
			}
			if = {
				limit = {
					or = {
						tag = AK2
						was_tag = AK2
					}
				}
				custom_tooltip = " "
				set_country_flag = EDG_AK2_A1_2_flag
				custom_tooltip = EDG_IR1_reform_select_5_tool
				custom_tooltip = EDG_AK2_A1_2_decisions_tt
				add_country_modifier = {
					name = EDG_AK2_A1_2_modifier_3
					duration = -1
				}
			}
			add_country_modifier = {
				name = EDG_IR1_reform_select_5_modifier
				duration = -1
			}	
		}	
	}
}

custom_button = {#改革6杨帆异域改
	name = EDG_IR1_reform_select_6_r
	tooltip = "EDG_IR1_reform_select_6_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			
			has_country_modifier = gbr_new_world_dominance
			
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			check_variable = {
				which = EDG_refom_num_var
				value = 9
			}
			not = {
				has_country_modifier = gbr_new_world_dominance
			}
			num_of_colonists = 1
			EDG_IR1_subject_type_1 = 8
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = gbr_new_world_dominance
				duration = -1
			}
		}
		custom_tooltip = gbr_dominiate_new_world_at
	}
}

custom_button = {#改革7严课关税制度改
	name = EDG_IR1_reform_select_7_r
	tooltip = "EDG_IR1_reform_select_7_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			
			has_country_modifier = EDG_IR1_reform_select_7_modifier
			
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_7_modifier
			}
			EDG_IR1_subject_type_1 = 3
		}
		
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		set_country_flag = EDG_IR1_reform_select_7_flag
		custom_tooltip = EDG_IR1_reform_select_7_tool
		custom_tooltip = " "
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_7_modifier
				duration = -1
			}
		}
		
	}
}

custom_button = {#改革8统一亚洲市场改
	name = EDG_IR1_reform_select_8_r
	tooltip = "EDG_IR1_reform_select_8_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			
			has_country_modifier = EDG_IR1_reform_select_8_modifier
			
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_8_modifier
			}
			OR = { 
				mercantilism = 75
				dip = 6
			}
			OR = {
				full_idea_group = trade_ideas
				trade_efficiency = 0.7
				trade_income_percentage = 0.35
				home_trade_node = {
					highest_value_trade_node = yes
					is_strongest_trade_power = ROOT
				}
			}
			
		}
			
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			custom_tooltip = ORM_UNLOCK_ARABIC_MERCHANTS_BURGHERS_PRIVILEGE
			set_country_flag = orm_arabic_merchants_flag
			custom_tooltip = " "
			set_country_flag = fra_enable_italian_bookkeeping_privilege_flag
			custom_tooltip = fra_enable_italian_bookkeeping_privilege_tt
			custom_tooltip = " "
			add_country_modifier = {
				name = EDG_IR1_reform_select_8_modifier
				duration = -1
			}
		}
		
	}
}

custom_button = {#改革9择贤良师辅太子改
	name = EDG_IR1_reform_select_9_r
	tooltip = "EDG_IR1_reform_select_9_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			
			has_country_modifier = EDG_IR1_reform_select_9_modifier
			
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			not = {
				has_country_modifier = EDG_IR1_reform_select_9_modifier
			}
			adm_power = 100
			dip_power = 100
			mil_power = 100
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_9_modifier
				duration = -1
			}
			add_adm_power = -100
			add_dip_power = -100
			add_mil_power = -100
		}
			
	}
}

custom_button = {#改革10加强中央集权改
	name = EDG_IR1_reform_select_10_r
	tooltip = "EDG_IR1_reform_select_10_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			
			has_country_modifier = EDG_IR1_reform_select_10_modifier
			
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			or = {
				absolutism = 75
				crown_land_share = 55
			}
			reform_level = 6
			not = {
				has_country_modifier = EDG_IR1_reform_select_10_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_10_modifier
				duration = -1
			}
			country_event_with_effect_insight = {
				id = flavor_per.36
				effect = "
					unlock_government_reform = {
						government_reform = divided_aristocracy_reform
						tooltip = yes
					}
				"
			}
		}
			
	}
}

custom_button = {#改革11帝国专制主义改
	name = EDG_IR1_reform_select_11_r
	tooltip = "EDG_IR1_reform_select_11_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			has_country_modifier = EDG_IR1_reform_select_11_modifier
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			or = {
				absolutism = 90
				crown_land_share = 80
			}
			check_variable = {
				which = EDG_refom_num_var
				value = 10
			}
			not = {
				has_country_modifier = EDG_IR1_reform_select_11_modifier
			}
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			add_country_modifier = {
				name = EDG_IR1_reform_select_11_modifier
				duration = -1
			}
		}
	}
}

custom_button = {#改革12风卷残云改
	name = EDG_IR1_reform_select_12_r
	tooltip = "EDG_IR1_reform_select_12_t"
	potential = { 
		event_target:EDG_IR1_overlord_1_target = {
			has_country_flag = EDG_IR1_reform_select_12_flag_1
		}
	}
	trigger = { 
		EDG_AK2_reform_trigger_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			check_variable = {
				which = EDG_refom_num_var
				value = 11
			}
			custom_trigger_tooltip = {
				tooltip = "EDG_IR1_reform_select_12_tool_1"
				not = {
					has_country_flag = EDG_IR1_reform_select_12_flag_1
				}
			}
			
		}
	}
	effect = { 
		EDG_AK2_reform_effect_A1 = yes
		event_target:EDG_IR1_overlord_1_target = {
			set_country_flag = EDG_IR1_reform_select_12_flag
			set_country_flag = EDG_IR1_reform_select_12_flag_1
			custom_tooltip = EDG_IR1_reform_select_12_tool
			custom_tooltip = EDG_IR1_reform_select_12_tool_2
			add_country_modifier = {
				name = EDG_IR1_reform_select_12_modifier_1
				duration = -1
			}
		}
	}
}