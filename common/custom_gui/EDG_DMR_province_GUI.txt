custom_window = {
	name = EDG_DMR_GUI_province_ability_window
	potential = {
		from = {
			ai = no
			has_country_flag = EDG_DMR_PROVINCE_ENABLE_FLAG
		}
	}
}

custom_button = {
	name = EDG_DMR_province_liberate_button
	tooltip = EDG_DMR_province_liberate_button.tt
	potential = {
	}
	trigger = {
		OR = {
			owned_by = from
			owner = {
				is_subject_of = from
			}
		}
		NOT = {
			is_core = DMR
		}
	}
	effect = {
		add_base_tax = -1
		add_base_manpower = -1
		add_base_production = -1
		add_territorial_core = root
		hidden_effect = {
			change_variable = {
				which = EDG_DMR_BUTTON_VALUE_LIBERATE
				value = 1
			}
		}
	}
}

custom_button = {
	name = EDG_DMR_province_divine_button
	tooltip = EDG_DMR_province_divine_button.tt
	potential = {
	}
	trigger = {
		OR = {
			owned_by = from
			owner = {
				is_subject_of = from
			}
		}
		NOT = {
			has_province_modifier = EDG_DMR_province_divine_1
		}
		NOT = {
			has_province_modifier = EDG_DMR_province_divine_2
		}
		NOT = {
			has_province_modifier = EDG_DMR_province_divine_3
		}
		NOT = {
			has_province_modifier = EDG_DMR_province_divine_4
		}
	}
	effect = {
		random_list = {
			25 = {
				add_permanent_province_modifier = {
					name = EDG_DMR_province_divine_1
					duration = -1
				}
			}
			25 = {
				add_permanent_province_modifier = {
					name = EDG_DMR_province_divine_2
					duration = -1
				}
			}
			25 = {
				add_permanent_province_modifier = {
					name = EDG_DMR_province_divine_3
					duration = -1
				}
			}
			25 = {
				add_permanent_province_modifier = {
					name = EDG_DMR_province_divine_4
					duration = -1
				}
			}
		}
		from = {
			add_adm_power = -15
			add_dip_power = -15
			add_mil_power = -15
			add_government_power = {
				mechanic_type = EDG_DMR_gripsy_romanticism_ability
				power_type = EDG_DMR_gripsy_romanticism_power
				value = -3
			}
		}
		hidden_effect = {
			change_variable = {
				which = EDG_DMR_BUTTON_VALUE_DIVINE
				value = 1
			}
		}
	}
}
